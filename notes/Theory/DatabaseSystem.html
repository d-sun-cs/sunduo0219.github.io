<!DOCTYPE html>
<html lang="en-US" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.60" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://www.sundocker.online/notes/Theory/DatabaseSystem.html"><meta property="og:site_name" content="SunDocker"><meta property="og:title" content="Database System"><meta property="og:description" content="1 æ•°æ®åº“ç³»ç»Ÿæ¦‚è¿° 1.1 æ•°æ®åº“ç³»ç»Ÿçš„æ¦‚å¿µä¸åŠŸèƒ½ æ•°æ®åº“ç³»ç»Ÿçš„æ„æˆä¸åŠŸèƒ½ï¼š Everything Over DB æ•°æ®åº“ç³»ç»Ÿçš„æ„æˆ; æ•°æ®åº“(DB)ï¼šDatabaseï¼Œç›¸äº’ä¹‹é—´æœ‰å…³è”å…³ç³»çš„è¡¨çš„é›†åˆ; æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ(DBMS)ï¼šDataBase Management Systemï¼Œç®¡ç†æ•°æ®åº“çš„ç³»ç»Ÿè½¯ä»¶; æ•°æ®åº“åº”ç”¨(DBAP)ï¼šDataBase AP..."><meta property="og:type" content="article"><meta property="og:locale" content="en-US"><meta property="og:updated_time" content="2023-02-20T07:31:00.000Z"><meta property="article:tag" content="Computer"><meta property="article:tag" content="Database System"><meta property="article:published_time" content="2023-02-15T00:00:00.000Z"><meta property="article:modified_time" content="2023-02-20T07:31:00.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"Database System","image":[""],"datePublished":"2023-02-15T00:00:00.000Z","dateModified":"2023-02-20T07:31:00.000Z","author":[]}</script><title>Database System | SunDocker</title><meta name="description" content="1 æ•°æ®åº“ç³»ç»Ÿæ¦‚è¿° 1.1 æ•°æ®åº“ç³»ç»Ÿçš„æ¦‚å¿µä¸åŠŸèƒ½ æ•°æ®åº“ç³»ç»Ÿçš„æ„æˆä¸åŠŸèƒ½ï¼š Everything Over DB æ•°æ®åº“ç³»ç»Ÿçš„æ„æˆ; æ•°æ®åº“(DB)ï¼šDatabaseï¼Œç›¸äº’ä¹‹é—´æœ‰å…³è”å…³ç³»çš„è¡¨çš„é›†åˆ; æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ(DBMS)ï¼šDataBase Management Systemï¼Œç®¡ç†æ•°æ®åº“çš„ç³»ç»Ÿè½¯ä»¶; æ•°æ®åº“åº”ç”¨(DBAP)ï¼šDataBase AP...">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d1e1f;
      }

      html,
      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="preload" href="/assets/style-28c78fad.css" as="style"><link rel="stylesheet" href="/assets/style-28c78fad.css">
    <link rel="modulepreload" href="/assets/app-a94a8ef5.js"><link rel="modulepreload" href="/assets/framework-3800c176.js"><link rel="modulepreload" href="/assets/DatabaseSystem.html-a58cf682.js"><link rel="modulepreload" href="/assets/DatabaseSystem.html-2d6f95ec.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">Skip to main content</a><!--]--><div class="theme-container has-toc"><!--[--><header class="navbar" id="navbar"><div class="navbar-start"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><a href="/" class="brand"><img class="logo" src="/logo0.png" alt="SunDocker"><!----><span class="site-name hide-in-pad">SunDocker</span></a><!--[--><!----><!--]--></div><div class="navbar-center"><!--[--><!----><!--]--><nav class="nav-links"><div class="nav-item hide-in-mobile"><a href="/" class="nav-link" aria-label="Blog Home"><span class="font-icon icon iconfont icon-home" style=""></span>Blog Home<!----></a></div><div class="nav-item hide-in-mobile"><a href="/posts/" class="nav-link" aria-label="Posts"><span class="font-icon icon iconfont icon-blog" style=""></span>Posts<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Notes"><span class="title"><span class="font-icon icon iconfont icon-repo" style=""></span>Notes</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Theory</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/notes/Theory/OperationSystem.html" class="nav-link" aria-label="Operation System"><span class="font-icon icon iconfont icon-OS" style=""></span>Operation System<!----></a></li><li class="dropdown-subitem"><a href="/notes/Theory/DataStructure.html" class="nav-link" aria-label="Data Structure &amp; Algorithm"><span class="font-icon icon iconfont icon-emmet" style=""></span>Data Structure &amp; Algorithm<!----></a></li><li class="dropdown-subitem"><a href="/notes/Theory/ComputerNetwork.html" class="nav-link" aria-label="Computer Network"><span class="font-icon icon iconfont icon-network" style=""></span>Computer Network<!----></a></li><li class="dropdown-subitem"><a aria-current="page" href="/notes/Theory/DatabaseSystem.html" class="router-link-active router-link-exact-active nav-link active" aria-label="Database System"><span class="font-icon icon iconfont icon-storage" style=""></span>Database System<!----></a></li><li class="dropdown-subitem"><a href="/notes/Theory/CompositionPrinciple.html" class="nav-link" aria-label="Composition Principle"><span class="font-icon icon iconfont icon-process" style=""></span>Composition Principle<!----></a></li><li class="dropdown-subitem"><a href="/notes/Theory/DesignPatterns.html" class="nav-link" aria-label="Design Patterns"><span class="font-icon icon iconfont icon-float" style=""></span>Design Patterns<!----></a></li><li class="dropdown-subitem"><a href="/notes/Theory/CompilePrinciple.html" class="nav-link" aria-label="Compiler Principle"><span class="font-icon icon iconfont icon-semantic" style=""></span>Compiler Principle<!----></a></li><li class="dropdown-subitem"><a href="/notes/Theory/XV6LabSummary.html" class="nav-link" aria-label="XV6 Lab Summary"><span class="font-icon icon iconfont icon-OS" style=""></span>XV6 Lab Summary<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>C</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/notes/C/Cpp.html" class="nav-link" aria-label="C++"><span class="font-icon icon iconfont icon-c" style=""></span>C++<!----></a></li><li class="dropdown-subitem"><a href="/notes/C/LinuxSystemProgramming.html" class="nav-link" aria-label="Linux System Programming"><span class="font-icon icon iconfont icon-linux" style=""></span>Linux System Programming<!----></a></li><li class="dropdown-subitem"><a href="/notes/C/LinuxNetworkProgramming.html" class="nav-link" aria-label="Linux Network Programming"><span class="font-icon icon iconfont icon-linux" style=""></span>Linux Network Programming<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Java</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/notes/Java/JavaSE.html" class="nav-link" aria-label="Java SE"><span class="font-icon icon iconfont icon-java" style=""></span>Java SE<!----></a></li><li class="dropdown-subitem"><a href="/notes/Java/Servlet.html" class="nav-link" aria-label="Servlet"><span class="font-icon icon iconfont icon-api" style=""></span>Servlet<!----></a></li><li class="dropdown-subitem"><a href="/notes/Java/JDBC.html" class="nav-link" aria-label="JDBC"><span class="font-icon icon iconfont icon-api" style=""></span>JDBC<!----></a></li><li class="dropdown-subitem"><a href="/notes/Java/SpringFramework.html" class="nav-link" aria-label="Spring Framework"><span class="font-icon icon iconfont icon-leaf" style=""></span>Spring Framework<!----></a></li><li class="dropdown-subitem"><a href="/notes/Java/MyBatis.html" class="nav-link" aria-label="MyBatis"><span class="font-icon icon iconfont icon-storage" style=""></span>MyBatis<!----></a></li><li class="dropdown-subitem"><a href="/notes/Java/SpringMVC.html" class="nav-link" aria-label="Spring MVC"><span class="font-icon icon iconfont icon-view" style=""></span>Spring MVC<!----></a></li><li class="dropdown-subitem"><a href="/notes/Java/SpringBoot.html" class="nav-link" aria-label="Spring Boot"><span class="font-icon icon iconfont icon-light" style=""></span>Spring Boot<!----></a></li><li class="dropdown-subitem"><a href="/notes/Java/SpringCloud.html" class="nav-link" aria-label="Spring Cloud"><span class="font-icon icon iconfont icon-cache" style=""></span>Spring Cloud<!----></a></li><li class="dropdown-subitem"><a href="/notes/Java/JUC.html" class="nav-link" aria-label="JUC"><span class="font-icon icon iconfont icon-asynchronous" style=""></span>JUC<!----></a></li><li class="dropdown-subitem"><a href="/notes/Java/Java-gRPC.html" class="nav-link" aria-label="Java gRPC"><span class="font-icon icon iconfont icon-remote" style=""></span>Java gRPC<!----></a></li><li class="dropdown-subitem"><a href="/notes/Java/Netty.html" class="nav-link" aria-label="Netty"><span class="font-icon icon iconfont icon-network" style=""></span>Netty<!----></a></li><li class="dropdown-subitem"><a href="/notes/Java/Hadoop.html" class="nav-link" aria-label="Hadoop"><span class="font-icon icon iconfont icon-overflow" style=""></span>Hadoop<!----></a></li><li class="dropdown-subitem"><a href="/notes/Java/Kotlin.html" class="nav-link" aria-label="Kotlin"><span class="font-icon icon iconfont icon-compare" style=""></span>Kotlin<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Database</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/notes/Database/MySQL.html" class="nav-link" aria-label="MySQL"><span class="font-icon icon iconfont icon-mysql" style=""></span>MySQL<!----></a></li><li class="dropdown-subitem"><a href="/notes/Database/Redis.html" class="nav-link" aria-label="Redis"><span class="font-icon icon iconfont icon-bitbucket" style=""></span>Redis<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Frontend</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/notes/Frontend/HTML.html" class="nav-link" aria-label="HTML"><span class="font-icon icon iconfont icon-html" style=""></span>HTML<!----></a></li><li class="dropdown-subitem"><a href="/notes/Frontend/JavaScript.html" class="nav-link" aria-label="JavaScript"><span class="font-icon icon iconfont icon-javascript" style=""></span>JavaScript<!----></a></li><li class="dropdown-subitem"><a href="/notes/Frontend/CSS.html" class="nav-link" aria-label="CSS"><span class="font-icon icon iconfont icon-css" style=""></span>CSS<!----></a></li><li class="dropdown-subitem"><a href="/notes/Frontend/Node.html" class="nav-link" aria-label="Node"><span class="font-icon icon iconfont icon-nodeJS" style=""></span>Node<!----></a></li><li class="dropdown-subitem"><a href="/notes/Frontend/Vue.html" class="nav-link" aria-label="Vue"><span class="font-icon icon iconfont icon-vue" style=""></span>Vue<!----></a></li><li class="dropdown-subitem"><a href="/notes/Frontend/uni-app.html" class="nav-link" aria-label="uni-app"><span class="font-icon icon iconfont icon-app" style=""></span>uni-app<!----></a></li><li class="dropdown-subitem"><a href="/notes/Frontend/Dart.html" class="nav-link" aria-label="Dart"><span class="font-icon icon iconfont icon-dart" style=""></span>Dart<!----></a></li><li class="dropdown-subitem"><a href="/notes/Frontend/Flutter.html" class="nav-link" aria-label="Flutter"><span class="font-icon icon iconfont icon-dart" style=""></span>Flutter<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Golang</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/notes/Golang/Golang.html" class="nav-link" aria-label="Golang"><span class="font-icon icon iconfont icon-chrome" style=""></span>Golang<!----></a></li><li class="dropdown-subitem"><a href="/notes/Golang/Gin.html" class="nav-link" aria-label="Gin"><span class="font-icon icon iconfont icon-rss" style=""></span>Gin<!----></a></li><li class="dropdown-subitem"><a href="/notes/Golang/Go-gRPC.html" class="nav-link" aria-label="Go gRPC"><span class="font-icon icon iconfont icon-remote" style=""></span>Go gRPC<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Operations</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/notes/Operations/Linux.html" class="nav-link" aria-label="Linux"><span class="font-icon icon iconfont icon-linux" style=""></span>Linux<!----></a></li><li class="dropdown-subitem"><a href="/notes/Operations/Docker.html" class="nav-link" aria-label="Docker"><span class="font-icon icon iconfont icon-module" style=""></span>Docker<!----></a></li><li class="dropdown-subitem"><a href="/notes/Operations/Nginx.html" class="nav-link" aria-label="Nginx"><span class="font-icon icon iconfont icon-nginx" style=""></span>Nginx<!----></a></li><li class="dropdown-subitem"><a href="/notes/Operations/Kubernetes.html" class="nav-link" aria-label="Kubernetes"><span class="font-icon icon iconfont icon-relation" style=""></span>Kubernetes<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Mangement</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/notes/Management/Git.html" class="nav-link" aria-label="Git"><span class="font-icon icon iconfont icon-git" style=""></span>Git<!----></a></li><li class="dropdown-subitem"><a href="/notes/Management/Maven.html" class="nav-link" aria-label="Maven"><span class="font-icon icon iconfont icon-box" style=""></span>Maven<!----></a></li><li class="dropdown-subitem"><a href="/notes/Management/Gradle.html" class="nav-link" aria-label="Gradle"><span class="font-icon icon iconfont icon-leaf" style=""></span>Gradle<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Python</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/notes/Python/DataMining.html" class="nav-link" aria-label="Data Mining"><!---->Data Mining<!----></a></li><li class="dropdown-subitem"><a href="/notes/Python/DataAnalysis.html" class="nav-link" aria-label="Data Analysis"><!---->Data Analysis<!----></a></li><li class="dropdown-subitem"><a href="/notes/Python/MachineLearning.html" class="nav-link" aria-label="Machine Learning"><!---->Machine Learning<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><a href="/demo/" class="nav-link" aria-label="Overall"><span class="font-icon icon iconfont icon-discover" style=""></span>Overall<!----></a></div><div class="nav-item hide-in-mobile"><a href="https://theme-hope.vuejs.press/zh/" rel="noopener noreferrer" target="_blank" aria-label="Theme Docs" class="nav-link"><span class="font-icon icon iconfont icon-note" style=""></span>Theme Docs<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div></nav><!--[--><!----><!--]--></div><div class="navbar-end"><!--[--><!----><!--]--><!----><div class="nav-item"><a class="repo-link" href="https://github.com/SunDocker/SunDocker.github.io" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button class="outlook-button" tabindex="-1" ariahidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="outlook-dropdown"><!----></div></button></div><!--[--><button class="search-pro-button" role="search" aria-label="Search"><svg xmlns="http://www.w3.org/2000/svg" class="icon search-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="search icon"><path d="M192 480a256 256 0 1 1 512 0 256 256 0 0 1-512 0m631.776 362.496-143.2-143.168A318.464 318.464 0 0 0 768 480c0-176.736-143.264-320-320-320S128 303.264 128 480s143.264 320 320 320a318.016 318.016 0 0 0 184.16-58.592l146.336 146.368c12.512 12.48 32.768 12.48 45.28 0 12.48-12.512 12.48-32.768 0-45.28"></path></svg><div class="placeholder">Search</div><div class="key-hints"><kbd class="key">Ctrl</kbd><kbd class="key">K</kbd></div></button><!--]--><!--[--><!----><!--]--><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside class="sidebar" id="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><!--[--><a href="/notes/" class="nav-link sidebar-link sidebar-page" aria-label="Notes"><span class="font-icon icon iconfont icon-list" style=""></span>Notes<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="font-icon icon iconfont icon-c" style=""></span><span class="title">C</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="font-icon icon iconfont icon-storage" style=""></span><span class="title">Database</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="font-icon icon iconfont icon-page" style=""></span><span class="title">Frontend</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="font-icon icon iconfont icon-chrome" style=""></span><span class="title">Golang</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="font-icon icon iconfont icon-java" style=""></span><span class="title">Java</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="font-icon icon iconfont icon-tool" style=""></span><span class="title">Management</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="font-icon icon iconfont icon-software" style=""></span><span class="title">Operations</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="font-icon icon iconfont icon-python" style=""></span><span class="title">Python</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable active"><span class="font-icon icon iconfont icon-read" style=""></span><span class="title">Theory</span><span class="arrow down"></span></button><ul class="sidebar-links"><li><!--[--><a href="/notes/Theory/CompilePrinciple.html" class="nav-link sidebar-link sidebar-page" aria-label="Compiler Principle"><span class="font-icon icon iconfont icon-semantic" style=""></span>Compiler Principle<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/notes/Theory/CompositionPrinciple.html" class="nav-link sidebar-link sidebar-page" aria-label="Composition Principle"><span class="font-icon icon iconfont icon-process" style=""></span>Composition Principle<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/notes/Theory/ComputerNetwork.html" class="nav-link sidebar-link sidebar-page" aria-label="Computer Network"><span class="font-icon icon iconfont icon-network" style=""></span>Computer Network<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/notes/Theory/DataStructure.html" class="nav-link sidebar-link sidebar-page" aria-label="Data Structure &amp; Algorithm"><span class="font-icon icon iconfont icon-emmet" style=""></span>Data Structure &amp; Algorithm<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-current="page" href="/notes/Theory/DatabaseSystem.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" aria-label="Database System"><span class="font-icon icon iconfont icon-storage" style=""></span>Database System<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/notes/Theory/DatabaseSystem.html#_1-æ•°æ®åº“ç³»ç»Ÿæ¦‚è¿°" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1 æ•°æ®åº“ç³»ç»Ÿæ¦‚è¿°"><!---->1 æ•°æ®åº“ç³»ç»Ÿæ¦‚è¿°<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/notes/Theory/DatabaseSystem.html#_1-1-æ•°æ®åº“ç³»ç»Ÿçš„æ¦‚å¿µä¸åŠŸèƒ½" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.1 æ•°æ®åº“ç³»ç»Ÿçš„æ¦‚å¿µä¸åŠŸèƒ½"><!---->1.1 æ•°æ®åº“ç³»ç»Ÿçš„æ¦‚å¿µä¸åŠŸèƒ½<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/Theory/DatabaseSystem.html#_1-2-æ•°æ®åº“ç³»ç»Ÿçš„æŠ½è±¡ç»“æ„" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.2 æ•°æ®åº“ç³»ç»Ÿçš„æŠ½è±¡ç»“æ„"><!---->1.2 æ•°æ®åº“ç³»ç»Ÿçš„æŠ½è±¡ç»“æ„<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/Theory/DatabaseSystem.html#_2-å…³ç³»æ¨¡å‹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2 å…³ç³»æ¨¡å‹"><!---->2 å…³ç³»æ¨¡å‹<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/notes/Theory/DatabaseSystem.html#_2-1-å…³ç³»æ¨¡å‹åŸºç¡€" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2.1 å…³ç³»æ¨¡å‹åŸºç¡€"><!---->2.1 å…³ç³»æ¨¡å‹åŸºç¡€<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/Theory/DatabaseSystem.html#_2-2-å…³ç³»ä»£æ•°" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2.2 å…³ç³»ä»£æ•°"><!---->2.2 å…³ç³»ä»£æ•°<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/Theory/DatabaseSystem.html#_3-database-language-sql" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3 Database Language - SQL"><!---->3 Database Language - SQL<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/notes/Theory/DatabaseSystem.html#_3-1-basic-sql" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.1 Basic SQL"><!---->3.1 Basic SQL<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/Theory/DatabaseSystem.html#_3-2-extended-sql-view" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.2 Extended SQL &amp; View"><!---->3.2 Extended SQL &amp; View<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/Theory/DatabaseSystem.html#_3-3-database-integrity" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.3 Database Integrity"><!---->3.3 Database Integrity<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/Theory/DatabaseSystem.html#_3-4-database-security" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.4 Database Security"><!---->3.4 Database Security<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/Theory/DatabaseSystem.html#_4-data-modeling" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="4 Data Modeling"><!---->4 Data Modeling<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/notes/Theory/DatabaseSystem.html#_4-1-three-worlds-with-levels-of-abstraction" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="4.1 Three Worlds With Levels of Abstraction"><!---->4.1 Three Worlds With Levels of Abstraction<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/Theory/DatabaseSystem.html#_4-2-entity-relationship-model" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="4.2 Entity-Relationship Model"><!---->4.2 Entity-Relationship Model<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/Theory/DatabaseSystem.html#_4-3-idef1x" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="4.3 IDEF1x"><!---->4.3 IDEF1x<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/Theory/DatabaseSystem.html#_5-database-design" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="5 Database Design"><!---->5 Database Design<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/notes/Theory/DatabaseSystem.html#_5-1-process-of-database-design" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="5.1 Process of Database Design"><!---->5.1 Process of Database Design<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/Theory/DatabaseSystem.html#_5-2-database-design-theories" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="5.2 Database Design Theories"><!---->5.2 Database Design Theories<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/Theory/DatabaseSystem.html#_6-physical-storage-index" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="6 Physical Storage &amp; Index"><!---->6 Physical Storage &amp; Index<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/notes/Theory/DatabaseSystem.html#_6-1-storage-architecture" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="6.1 Storage Architecture"><!---->6.1 Storage Architecture<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/Theory/DatabaseSystem.html#_6-2-index-overview" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="6.2 Index Overview"><!---->6.2 Index Overview<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/Theory/DatabaseSystem.html#_6-3-ordered-index" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="6.3 Ordered Index"><!---->6.3 Ordered Index<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/Theory/DatabaseSystem.html#_6-4-b-tree" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="6.4 B+ Tree"><!---->6.4 B+ Tree<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/Theory/DatabaseSystem.html#_6-5-hash-index" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="6.5 Hash Index"><!---->6.5 Hash Index<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/Theory/DatabaseSystem.html#_7-query-algorithm" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="7 Query Algorithm"><!---->7 Query Algorithm<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/notes/Theory/DatabaseSystem.html#_7-1-query-implementation-overview" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="7.1 Query Implementation Overview"><!---->7.1 Query Implementation Overview<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/Theory/DatabaseSystem.html#_7-2-iterator-algorithm" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="7.2 Iterator Algorithm"><!---->7.2 Iterator Algorithm<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/Theory/DatabaseSystem.html#_7-3-one-pass-scanning-algorithm" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="7.3 One-pass Scanning Algorithm"><!---->7.3 One-pass Scanning Algorithm<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/Theory/DatabaseSystem.html#_7-4-two-pass-scanning-algorithm" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="7.4 Two-pass Scanning Algorithm"><!---->7.4 Two-pass Scanning Algorithm<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/Theory/DatabaseSystem.html#_7-5-query-optimization" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="7.5 Query Optimization"><!---->7.5 Query Optimization<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/Theory/DatabaseSystem.html#_8-transaction-processing" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="8 Transaction Processing"><!---->8 Transaction Processing<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/notes/Theory/DatabaseSystem.html#_8-1-concurrency-control" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="8.1 Concurrency Control"><!---->8.1 Concurrency Control<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/Theory/DatabaseSystem.html#_8-2-failure-recovery" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="8.2 Failure Recovery"><!---->8.2 Failure Recovery<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li></ul><!--]--></li><li><!--[--><a href="/notes/Theory/DesignPatterns.html" class="nav-link sidebar-link sidebar-page" aria-label="Design Patterns"><span class="font-icon icon iconfont icon-float" style=""></span>Design Patterns<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/notes/Theory/DistributedSystem.html" class="nav-link sidebar-link sidebar-page" aria-label="Distributed System"><span class="font-icon icon iconfont icon-OS" style=""></span>Distributed System<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/notes/Theory/NetworkSecurity.html" class="nav-link sidebar-link sidebar-page" aria-label="Network Security"><!---->Network Security<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/notes/Theory/OperationSystem.html" class="nav-link sidebar-link sidebar-page" aria-label="Operation System"><span class="font-icon icon iconfont icon-OS" style=""></span>Operation System<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/notes/Theory/XV6LabSummary.html" class="nav-link sidebar-link sidebar-page" aria-label="XV6 Lab Summary"><span class="font-icon icon iconfont icon-OS" style=""></span>XV6 Lab Summary<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><span class="font-icon icon iconfont icon-storage" style=""></span>Database System</h1><div class="page-info"><span class="page-author-info" aria-label="AuthorğŸ–Š" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://sundocker.online" target="_blank" rel="noopener noreferrer">Dominic Sun</a></span><span property="author" content="Dominic Sun"></span></span><!----><span class="page-date-info" aria-label="Writing DateğŸ“…" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2023-02-15T00:00:00.000Z"></span><!----><span class="page-reading-time-info" aria-label="Reading TimeâŒ›" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>About 40 min</span><meta property="timeRequired" content="PT40M"></span><span class="page-category-info" aria-label="CategoryğŸŒˆ" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><span class="page-category-item category7 clickable" role="navigation">Computer Theory</span><meta property="articleSection" content="Computer Theory"></span><span class="page-tag-info" aria-label="TagğŸ·" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="tag icon"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><span class="page-tag-item tag3 clickable" role="navigation">Computer</span><span class="page-tag-item tag2 clickable" role="navigation">Database System</span><meta property="keywords" content="Computer,Database System"></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><div class="toc-header">On This Page<button class="print-button" title="print"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button></div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/notes/Theory/DatabaseSystem.html#_1-æ•°æ®åº“ç³»ç»Ÿæ¦‚è¿°" class="router-link-active router-link-exact-active toc-link level2">1 æ•°æ®åº“ç³»ç»Ÿæ¦‚è¿°</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/notes/Theory/DatabaseSystem.html#_1-1-æ•°æ®åº“ç³»ç»Ÿçš„æ¦‚å¿µä¸åŠŸèƒ½" class="router-link-active router-link-exact-active toc-link level3">1.1 æ•°æ®åº“ç³»ç»Ÿçš„æ¦‚å¿µä¸åŠŸèƒ½</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/Theory/DatabaseSystem.html#_1-2-æ•°æ®åº“ç³»ç»Ÿçš„æŠ½è±¡ç»“æ„" class="router-link-active router-link-exact-active toc-link level3">1.2 æ•°æ®åº“ç³»ç»Ÿçš„æŠ½è±¡ç»“æ„</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/Theory/DatabaseSystem.html#_2-å…³ç³»æ¨¡å‹" class="router-link-active router-link-exact-active toc-link level2">2 å…³ç³»æ¨¡å‹</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/notes/Theory/DatabaseSystem.html#_2-1-å…³ç³»æ¨¡å‹åŸºç¡€" class="router-link-active router-link-exact-active toc-link level3">2.1 å…³ç³»æ¨¡å‹åŸºç¡€</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/Theory/DatabaseSystem.html#_2-2-å…³ç³»ä»£æ•°" class="router-link-active router-link-exact-active toc-link level3">2.2 å…³ç³»ä»£æ•°</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/Theory/DatabaseSystem.html#_3-database-language-sql" class="router-link-active router-link-exact-active toc-link level2">3 Database Language - SQL</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/notes/Theory/DatabaseSystem.html#_3-1-basic-sql" class="router-link-active router-link-exact-active toc-link level3">3.1 Basic SQL</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/Theory/DatabaseSystem.html#_3-2-extended-sql-view" class="router-link-active router-link-exact-active toc-link level3">3.2 Extended SQL &amp; View</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/Theory/DatabaseSystem.html#_3-3-database-integrity" class="router-link-active router-link-exact-active toc-link level3">3.3 Database Integrity</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/Theory/DatabaseSystem.html#_3-4-database-security" class="router-link-active router-link-exact-active toc-link level3">3.4 Database Security</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/Theory/DatabaseSystem.html#_4-data-modeling" class="router-link-active router-link-exact-active toc-link level2">4 Data Modeling</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/notes/Theory/DatabaseSystem.html#_4-1-three-worlds-with-levels-of-abstraction" class="router-link-active router-link-exact-active toc-link level3">4.1 Three Worlds With Levels of Abstraction</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/Theory/DatabaseSystem.html#_4-2-entity-relationship-model" class="router-link-active router-link-exact-active toc-link level3">4.2 Entity-Relationship Model</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/Theory/DatabaseSystem.html#_4-3-idef1x" class="router-link-active router-link-exact-active toc-link level3">4.3 IDEF1x</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/Theory/DatabaseSystem.html#_5-database-design" class="router-link-active router-link-exact-active toc-link level2">5 Database Design</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/notes/Theory/DatabaseSystem.html#_5-1-process-of-database-design" class="router-link-active router-link-exact-active toc-link level3">5.1 Process of Database Design</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/Theory/DatabaseSystem.html#_5-2-database-design-theories" class="router-link-active router-link-exact-active toc-link level3">5.2 Database Design Theories</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/Theory/DatabaseSystem.html#_6-physical-storage-index" class="router-link-active router-link-exact-active toc-link level2">6 Physical Storage &amp; Index</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/notes/Theory/DatabaseSystem.html#_6-1-storage-architecture" class="router-link-active router-link-exact-active toc-link level3">6.1 Storage Architecture</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/Theory/DatabaseSystem.html#_6-2-index-overview" class="router-link-active router-link-exact-active toc-link level3">6.2 Index Overview</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/Theory/DatabaseSystem.html#_6-3-ordered-index" class="router-link-active router-link-exact-active toc-link level3">6.3 Ordered Index</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/Theory/DatabaseSystem.html#_6-4-b-tree" class="router-link-active router-link-exact-active toc-link level3">6.4 B+ Tree</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/Theory/DatabaseSystem.html#_6-5-hash-index" class="router-link-active router-link-exact-active toc-link level3">6.5 Hash Index</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/Theory/DatabaseSystem.html#_7-query-algorithm" class="router-link-active router-link-exact-active toc-link level2">7 Query Algorithm</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/notes/Theory/DatabaseSystem.html#_7-1-query-implementation-overview" class="router-link-active router-link-exact-active toc-link level3">7.1 Query Implementation Overview</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/Theory/DatabaseSystem.html#_7-2-iterator-algorithm" class="router-link-active router-link-exact-active toc-link level3">7.2 Iterator Algorithm</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/Theory/DatabaseSystem.html#_7-3-one-pass-scanning-algorithm" class="router-link-active router-link-exact-active toc-link level3">7.3 One-pass Scanning Algorithm</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/Theory/DatabaseSystem.html#_7-4-two-pass-scanning-algorithm" class="router-link-active router-link-exact-active toc-link level3">7.4 Two-pass Scanning Algorithm</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/Theory/DatabaseSystem.html#_7-5-query-optimization" class="router-link-active router-link-exact-active toc-link level3">7.5 Query Optimization</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/Theory/DatabaseSystem.html#_8-transaction-processing" class="router-link-active router-link-exact-active toc-link level2">8 Transaction Processing</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/notes/Theory/DatabaseSystem.html#_8-1-concurrency-control" class="router-link-active router-link-exact-active toc-link level3">8.1 Concurrency Control</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/Theory/DatabaseSystem.html#_8-2-failure-recovery" class="router-link-active router-link-exact-active toc-link level3">8.2 Failure Recovery</a></li><!----><!--]--></ul><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><h1 id="database-system" tabindex="-1"><a class="header-anchor" href="#database-system" aria-hidden="true">#</a> Database System</h1><h2 id="_1-æ•°æ®åº“ç³»ç»Ÿæ¦‚è¿°" tabindex="-1"><a class="header-anchor" href="#_1-æ•°æ®åº“ç³»ç»Ÿæ¦‚è¿°" aria-hidden="true">#</a> 1 æ•°æ®åº“ç³»ç»Ÿæ¦‚è¿°</h2><h3 id="_1-1-æ•°æ®åº“ç³»ç»Ÿçš„æ¦‚å¿µä¸åŠŸèƒ½" tabindex="-1"><a class="header-anchor" href="#_1-1-æ•°æ®åº“ç³»ç»Ÿçš„æ¦‚å¿µä¸åŠŸèƒ½" aria-hidden="true">#</a> 1.1 æ•°æ®åº“ç³»ç»Ÿçš„æ¦‚å¿µä¸åŠŸèƒ½</h3><h4 id="æ•°æ®åº“ç³»ç»Ÿçš„æ„æˆä¸åŠŸèƒ½" tabindex="-1"><a class="header-anchor" href="#æ•°æ®åº“ç³»ç»Ÿçš„æ„æˆä¸åŠŸèƒ½" aria-hidden="true">#</a> <em>æ•°æ®åº“ç³»ç»Ÿçš„æ„æˆä¸åŠŸèƒ½ï¼š</em></h4><blockquote><p>Everything Over DB</p></blockquote><ul><li><u>æ•°æ®åº“ç³»ç»Ÿçš„æ„æˆ</u><ul><li>æ•°æ®åº“(DB)ï¼šDatabaseï¼Œç›¸äº’ä¹‹é—´æœ‰å…³è”å…³ç³»çš„è¡¨çš„é›†åˆ</li><li>æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ(DBMS)ï¼šDataBase Management Systemï¼Œç®¡ç†æ•°æ®åº“çš„ç³»ç»Ÿè½¯ä»¶</li><li>æ•°æ®åº“åº”ç”¨(DBAP)ï¼šDataBase APplicationï¼Œå®ŒæˆæŸç§æ•°æ®åº“ç›¸å…³åŠŸèƒ½çš„åº”ç”¨ç¨‹åº</li><li>æ•°æ®åº“ç®¡ç†å‘˜(DBA)ï¼šDataBase Administrator</li><li>è®¡ç®—æœºåŸºæœ¬ç³»ç»Ÿ</li></ul></li><li><u>æ•°æ®åº“ç³»ç»Ÿçš„åŠŸèƒ½</u><ul><li><p>æ•°æ®åº“å¯ä»¥å®ç°<strong>ä¿¡æ¯çš„ç§¯ç´¯ä¸è¿ç”¨</strong></p><ul><li>ç§¯ç´¯ï¼š<strong>å½¢æˆæ•°æ®åº“</strong></li><li>è¿ç”¨ï¼šå°†ç§¯ç´¯çš„ä¿¡æ¯è½¬æ¢ä¸º<strong>æ•ˆç›Š</strong></li></ul></li><li><p>æä¾›æ•°æ®åº“çš„<strong>ç®¡ç†ä¸æ§åˆ¶</strong>åŠŸèƒ½</p></li><li><p>æ•°æ®åº“æ˜¯<strong>å¤§æ•°æ®</strong>æŠ€æœ¯çš„åŸºç¡€</p><ul><li>åªæ±‚<strong>å…³ç³»</strong>ï¼Œä¸æ±‚å› æœ</li><li>ä»<strong>éƒ¨åˆ†æ•°æ®é›†</strong>ä¸Šçš„åˆ†æï¼Œåˆ°<strong>å…¨æ•°æ®é›†</strong>ä¸Šçš„åˆ†æ</li></ul></li></ul></li></ul><hr><h4 id="æ•°æ®åº“ä¸è¡¨çš„æ¦‚å¿µ" tabindex="-1"><a class="header-anchor" href="#æ•°æ®åº“ä¸è¡¨çš„æ¦‚å¿µ" aria-hidden="true">#</a> <em>æ•°æ®åº“ä¸è¡¨çš„æ¦‚å¿µï¼š</em></h4><ul><li><p><u>æ•°æ®åº“çš„æ¦‚å¿µ</u>ï¼š</p><ul><li>æ•°æ®åº“æ˜¯<strong>ç”µå­åŒ–ä¿¡æ¯</strong>çš„é›†åˆ</li><li>æ•°æ®åº“æ˜¯ç›¸äº’ä¹‹é—´<strong>æœ‰å…³è”å…³ç³»çš„è¡¨</strong>çš„é›†åˆï¼Œå­˜æ”¾è‹¥å¹²è¡¨çš„å¤§å‹<strong>æ–‡ä»¶</strong></li></ul></li><li><p><u>è¡¨çš„æ¦‚å¿µ</u>ï¼šä»¥<strong>æŒ‰è¡ŒæŒ‰åˆ—</strong>å½¢å¼ç»„ç»‡åŠå±•ç°çš„æ•°æ®</p><blockquote><p>è¡¨ä¹Ÿå¯ä»¥ç§°ä¹‹ä¸º<strong>å…³ç³»</strong></p></blockquote></li><li><p><u>è¡¨çš„æ„æˆ</u>ï¼š</p><ul><li>è¡¨å</li><li>è¡¨æ ‡é¢˜ï¼ˆæ ¼å¼ï¼‰</li><li>è¡¨å†…å®¹ï¼ˆå€¼ï¼‰</li><li>è¡¨ç»“æ„ <ul><li>è¡Œ(row)/å…ƒç»„(tuple)/è®°å½•(record)</li><li>åˆ—(column)/å­—æ®µ(field)/å±æ€§(attribute)/æ•°æ®é¡¹(data item)t</li></ul></li></ul></li><li><p><u>è¡¨çš„ä½œç”¨</u>ï¼š</p><ul><li>è¡¨ä¸­æè¿°äº†ä¸€æ‰¹ç›¸äº’æœ‰<strong>å…³è”å…³ç³»</strong>çš„æ•°æ®</li><li>åŸºäºè¡¨æå‡ºäº†<strong>å…³ç³»åŠå…³ç³»æ¨¡å‹</strong>ï¼Œæå‡ºäº†<strong>å…³ç³»æ•°æ®åº“</strong></li></ul></li></ul><hr><h4 id="æ•°æ®åº“ç®¡ç†ç³»ç»Ÿçš„æ¦‚å¿µä¸åŠŸèƒ½" tabindex="-1"><a class="header-anchor" href="#æ•°æ®åº“ç®¡ç†ç³»ç»Ÿçš„æ¦‚å¿µä¸åŠŸèƒ½" aria-hidden="true">#</a> <em>æ•°æ®åº“ç®¡ç†ç³»ç»Ÿçš„æ¦‚å¿µä¸åŠŸèƒ½ï¼š</em></h4><ul><li><p><u>æ¦‚è¿°</u>ï¼šæ•°æ®åº“ç®¡ç†ç³»ç»Ÿä¸€ç§ç³»ç»Ÿè½¯ä»¶ï¼Œå®ƒé€šè¿‡<strong>ç»“æ„åŒ–æ•°æ®åº“è¯­è¨€</strong>æä¾›åŸºæœ¬çš„æ•°æ®åº“æ“ä½œåŠŸèƒ½ï¼Œè¿è¡Œç¨‹åº<strong>è§£æ</strong>è¯­è¨€å¹¶<strong>æ‰§è¡Œ</strong>å¯¹æ•°æ®åº“çš„å…·ä½“æ“ä½œ</p></li><li><p><u>æä¾›æ•°æ®åº“è¯­è¨€(SQL, Structured Query Language)å’Œæ•°æ®åº“ç»´æŠ¤ç¨‹åº</u></p><blockquote><p>ä¸»è¦ä»<strong>ç”¨æˆ·ä½¿ç”¨</strong>çš„è§’åº¦è®²è§£</p></blockquote><blockquote><p>æ•°æ®åº“è¯­è¨€ï¼šDBMSæä¾›çš„ç”¨äº<strong>æŒ‡ç¤ºDBMSæ“ä½œæ•°æ®åº“</strong>çš„è¯­è¨€ï¼Œç›¸å½“äºé«˜çº§è¯­è¨€çš„ä¸€ä¸ªæˆ–å¤šä¸ªå¾ªç¯ç¨‹åºï¼Œå¯ä»¥åµŒå…¥é«˜çº§è¯­è¨€ï¼ˆå®¿ä¸»è¯­è¨€ï¼‰ä¸­ä½¿ç”¨</p></blockquote><ul><li><p>æ•°æ®<strong>å®šä¹‰</strong>è¯­è¨€(DDL, Data Definition Language)ï¼š<strong>å®šä¹‰</strong>æ•°æ®åº“ä¸­è¡¨çš„åç§°ã€æ ‡é¢˜ï¼ˆåŒ…æ‹¬å±æ€§ååŠå¯¹å±æ€§å€¼çš„è¦æ±‚ï¼‰ç­‰<strong>æ ¼å¼</strong>ï¼Œ<strong>åˆ›å»º</strong>æ•°æ®åº“å’Œè¡¨</p><blockquote><p>ä¹ŸåŒ…æ‹¬å¯¹æ•°æ®åº“å’Œè¡¨çš„åˆ é™¤ã€æ›´æ”¹ã€æŸ¥è¯¢</p></blockquote></li><li><p>æ•°æ®<strong>æ“çºµ</strong>è¯­è¨€(DML, Data Manipulation Language)ï¼šå¯¹æ•°æ®åº“ä¸­çš„è¡¨è¿›è¡Œ<strong>å¢åŠ ã€åˆ é™¤ã€æ›´æ”¹ã€æ£€ç´¢</strong>ç­‰æ“ä½œ</p></li><li><p>æ•°æ®<strong>æ§åˆ¶</strong>è¯­è¨€(DCL, Data Control Language)ï¼šè§„å®š<strong>ç”¨æˆ·</strong>æ“ä½œ<strong>æ•°æ®</strong>çš„<strong>æƒé™</strong>ï¼Œå®æ–½å¯¹æ•°æ®åº“çš„<strong>æ§åˆ¶</strong></p></li><li><p>æ•°æ®åº“<strong>ç»´æŠ¤</strong>ç¨‹åºï¼šæä¾›å¯¹æ•°æ®åº“ç»´æŠ¤çš„åŠŸèƒ½ï¼ŒåŒ…æ‹¬è½¬å‚¨ã€æ¢å¤ã€é‡ç»„ã€æ€§èƒ½æ£€æµ‹ã€åˆ†æç­‰ï¼Œä¸€èˆ¬ç”±DBAä½¿ç”¨</p></li></ul></li><li><p><u>è¿è¡Œç³»ç»Ÿä¾‹è¡Œç¨‹åº</u></p><blockquote><p>ä¸»è¦ä»<strong>ç³»ç»Ÿå®ç°</strong>çš„è§’åº¦è®²è§£</p></blockquote><blockquote><p>è¿™äº›ä¾‹è¡Œç¨‹åºæœ¬è´¨ä¸Šæ˜¯ç”¨<u><strong>å½¢å¼<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â†’</mo></mrow><annotation encoding="application/x-tex">\rarr</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">â†’</span></span></span></span>æ„é€ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â†’</mo></mrow><annotation encoding="application/x-tex">\rarr</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">â†’</span></span></span></span>è‡ªåŠ¨åŒ–</strong></u>çš„æ€æƒ³<strong>å®ç°</strong>æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ</p></blockquote><ul><li><strong>ç¼–è¯‘</strong>ä¸æ‰§è¡Œæ§åˆ¶ç¨‹åº <ul><li>å°†æ•°æ®åº“è¯­è¨€ç¿»è¯‘æˆDBMSå¯æ‰§è¡Œçš„å‘½ä»¤ï¼ˆDDLç¼–è¯‘å™¨ã€DMLç¼–è¯‘å™¨ã€DCLç¼–è¯‘å™¨ç­‰ï¼‰</li></ul></li><li><strong>æŸ¥è¯¢</strong>ä¼˜åŒ–ä¸æŸ¥è¯¢å®ç°ç¨‹åº <ul><li>æé«˜æ•°æ®åº“<strong>æ£€ç´¢é€Ÿåº¦</strong></li><li>æ‰§è¡Œå¼•æ“<strong>å®ç°æŸ¥è¯¢</strong></li></ul></li><li><strong>å­˜å‚¨ä¸ç´¢å¼•</strong>ç¨‹åº <ul><li>æä¾›æ•°æ®åœ¨<strong>å¤–å­˜</strong>ä¸Šçš„<strong>é«˜æ•ˆå­˜å–</strong>æ‰‹æ®µ</li><li>å®ç°å­˜å‚¨ç®¡ç†å™¨ã€ç¼“å†²åŒºç®¡ç†å™¨ã€ç´¢å¼•/æ–‡ä»¶å’Œè®°å½•ç®¡ç†å™¨ç­‰</li></ul></li><li><strong>äº‹åŠ¡</strong>å¤„ç†ç¨‹åº <ul><li>æé«˜å¯é æ€§ï¼Œé¿å…å¹¶å‘é”™è¯¯</li></ul></li><li>å„ç§<strong>æ§åˆ¶</strong>ç¨‹åº <ul><li>é€šä¿¡æ§åˆ¶ï¼šæä¾›ç½‘ç»œç¯å¢ƒä¸‹æ•°æ®æ“ä½œä¸ä¼ è¾“æ‰‹æ®µ</li><li>æ•…éšœæ¢å¤ã€å®‰å…¨æ€§å’Œå®Œæ•´æ€§æ§åˆ¶</li><li>æ•°æ®åº“ç»´æŠ¤å’Œæ•°æ®å­—å…¸ç®¡ç†</li><li>åº”ç”¨ç¨‹åºæ¥å£</li></ul></li></ul><blockquote><p>è¯¦è§æ•°æ®åº“ç³»ç»Ÿç¬”è®°ä»“åº“</p></blockquote></li></ul><h3 id="_1-2-æ•°æ®åº“ç³»ç»Ÿçš„æŠ½è±¡ç»“æ„" tabindex="-1"><a class="header-anchor" href="#_1-2-æ•°æ®åº“ç³»ç»Ÿçš„æŠ½è±¡ç»“æ„" aria-hidden="true">#</a> 1.2 æ•°æ®åº“ç³»ç»Ÿçš„æŠ½è±¡ç»“æ„</h3><h4 id="ä¸‰çº§æ¨¡å¼ä¸¤å±‚æ˜ åƒ" tabindex="-1"><a class="header-anchor" href="#ä¸‰çº§æ¨¡å¼ä¸¤å±‚æ˜ åƒ" aria-hidden="true">#</a> <em>ä¸‰çº§æ¨¡å¼ä¸¤å±‚æ˜ åƒï¼š</em></h4><ul><li><p>â­ï¸<u><strong>ä¸‰çº§æ¨¡å¼ä¸¤å±‚æ˜ åƒ</strong>æ˜¯æ•°æ®åº“ç³»ç»Ÿçš„æ ‡å‡†ç»“æ„</u></p></li><li><p><u>DBMSç®¡ç†<strong>æ•°æ®</strong>çš„ä¸‰ä¸ªå±‚æ¬¡</u>ï¼š</p><ul><li><p>å¤–éƒ¨å±‚æ¬¡/ç”¨æˆ·å±‚æ¬¡ï¼šæŸä¸€<strong>ç”¨æˆ·</strong>èƒ½å¤„ç†çš„æ•°æ®ï¼Œæ˜¯å…¨å±€æ•°æ®çš„<strong>ä¸€éƒ¨åˆ†</strong></p><blockquote><p>å¼ºè°ƒ<strong>å±€éƒ¨æ€§</strong></p></blockquote></li><li><p>æ¦‚å¿µå±‚æ¬¡/é€»è¾‘å±‚æ¬¡ï¼š<strong>å…¨å±€</strong>ç®¡ç†çš„æ•°æ®ï¼ŒåŒ…å«<strong>å…³è”çº¦æŸ</strong></p><blockquote><p>å¼ºè°ƒ<strong>å…¨å±€æ€§</strong></p></blockquote></li><li><p>å†…éƒ¨å±‚æ¬¡/ç‰©ç†å±‚æ¬¡ï¼š<strong>å­˜å‚¨</strong>åœ¨ä»‹è´¨ä¸Šçš„æ•°æ®ï¼ŒåŒ…å«å­˜å‚¨è·¯å¾„ã€å­˜å‚¨æ–¹å¼ã€å­˜å‚¨ç´¢å¼•ç­‰</p><blockquote><p><strong>å¼ºè°ƒç‰©ç†å­˜å‚¨</strong></p></blockquote></li></ul></li><li><p><u><strong>æ¨¡å¼ã€è§†å›¾ã€æ˜ åƒ</strong>çš„æ¦‚å¿µ</u>ï¼š</p><ul><li>æ¨¡å¼(Schema)ï¼šå¯¹æ•°æ®åº“ä¸­æ•°æ®çš„<strong>ç»“æ„æ€§æè¿°</strong>ï¼Œè¡¨ç°æ•°æ®çš„<strong>ç»“æ„ä¿¡æ¯</strong></li><li>è§†å›¾(View)/æ•°æ®(Data)ï¼šæŸä¸€ç§<strong>ç»“æ„</strong>ä¸‹æ•°æ®åº“ä¸­çš„<strong>æ•°æ®</strong></li><li>æ˜ åƒ(Mapping)ï¼šä¸€ç§ç»“æ„åˆ°å¦ä¸€ç§ç»“æ„çš„<strong>æ˜ å°„</strong></li></ul></li><li><p><strong><u>ä¸‰çº§æ¨¡å¼</u></strong>ï¼š</p><ul><li><p>å±€éƒ¨/å¤–éƒ¨/å¤–/ç”¨æˆ·/å­ æ¨¡å¼(External Schema)ï¼šæŸä¸€<strong>ç”¨æˆ·</strong>èƒ½å¤„ç†çš„<strong>æ•°æ®çš„ç»“æ„æè¿°</strong></p><ul><li><p>å±€éƒ¨/å¤–éƒ¨/å¤–/ç”¨æˆ·/å­ è§†å›¾(External View)ï¼šæŸä¸€ç”¨æˆ·èƒ½å¤„ç†çš„<strong>æ•°æ®</strong></p><blockquote><p>å¯ä»¥ç®€ç§°ä¸º<strong>è§†å›¾</strong></p></blockquote></li></ul></li><li><p>å…¨å±€/æ¦‚å¿µ/é€»è¾‘ æ¨¡å¼(Conceptual Schema)ï¼š<strong>å…¨å±€</strong>ç®¡ç†çš„<strong>æ•°æ®çš„ç»“æ„æè¿°</strong></p><blockquote><p>å¯ä»¥ç®€ç§°ä¸º<strong>æ¨¡å¼</strong></p></blockquote><ul><li>å…¨å±€/æ¦‚å¿µ/é€»è¾‘ è§†å›¾(Conceptual View)ï¼š<strong>å…¨å±€</strong>ç®¡ç†çš„<strong>æ•°æ®</strong></li></ul></li><li><p>å†…éƒ¨/ç‰©ç† æ¨¡å¼(Internal Schema)ï¼š<strong>å­˜å‚¨</strong>åœ¨ä»‹è´¨ä¸Šçš„<strong>æ•°æ®çš„ç»“æ„æè¿°</strong></p><ul><li>å†…éƒ¨/ç‰©ç† è§†å›¾(Internal View)ï¼š<strong>å­˜å‚¨</strong>åœ¨ä»‹è´¨ä¸Šçš„<strong>æ•°æ®</strong></li></ul></li></ul></li><li><p><strong><u>ä¸¤å±‚æ˜ åƒ</u></strong>ï¼š</p><ul><li>E-C Mapping (External Schema-Conceptual Schema Mapping) <ul><li>æ¦‚å¿µï¼šå°†<strong>å¤–éƒ¨æ¨¡å¼</strong>æ˜ å°„ä¸º<strong>æ¦‚å¿µæ¨¡å¼</strong>ï¼Œä»è€Œå®ç°<strong>æ¦‚å¿µè§†å›¾</strong>å‘<strong>å¤–éƒ¨è§†å›¾</strong>çš„è½¬æ¢</li><li>ä¼˜ç‚¹ï¼šä¾¿äº<strong>ç”¨æˆ·</strong>è§‚å¯Ÿå’Œä½¿ç”¨</li></ul></li><li>C-I Mapping (Conceptual Schema-Internal Schema Mapping) <ul><li>æ¦‚å¿µï¼šå°†<strong>æ¦‚å¿µæ¨¡å¼</strong>æ˜ å°„ä¸º<strong>å†…éƒ¨æ¨¡å¼</strong>ï¼Œä»è€Œå®ç°<strong>æ¦‚å¿µè§†å›¾</strong>å‘<strong>å†…éƒ¨è§†å›¾</strong>çš„è½¬æ¢</li><li>ä¼˜ç‚¹ï¼šä¾¿äº<strong>è®¡ç®—æœº</strong>è¿›è¡Œå­˜å‚¨å’Œå¤„ç†</li></ul></li></ul></li><li><p><u><strong>ä¸¤ä¸ªç‹¬ç«‹æ€§</strong></u>ï¼š</p><blockquote><p>ä¸¤ä¸ªç‹¬ç«‹æ€§æ˜¯ä¸‰çº§æ¨¡å¼ä¸¤å±‚æ˜ åƒçš„é‡è¦ä¼˜ç‚¹</p></blockquote><ul><li>é€»è¾‘æ•°æ®ç‹¬ç«‹æ€§ï¼šå½“<strong>æ¦‚å¿µæ¨¡å¼</strong>å˜åŒ–æ—¶ï¼Œåªéœ€æ”¹å˜<strong>E-C Mapping</strong>ï¼Œæ— éœ€æ”¹å˜<strong>å¤–éƒ¨æ¨¡å¼</strong>ï¼Œä»è€Œæ— éœ€æ”¹å˜<strong>åº”ç”¨ç¨‹åº</strong></li><li>ç‰©ç†æ•°æ®ç‹¬ç«‹æ€§ï¼šå½“<strong>å†…éƒ¨æ¨¡å¼</strong>å˜åŒ–æ—¶ï¼Œåªéœ€æ”¹å˜<strong>C-I Mapping</strong>ï¼Œæ— éœ€æ”¹å˜<strong>æ¦‚å¿µæ¨¡å¼</strong>ï¼Œä»è€Œæ— éœ€æ”¹å˜<strong>å¤–éƒ¨æ¨¡å¼å’Œåº”ç”¨ç¨‹åº</strong></li></ul><blockquote><p>ä¸‰çº§æ¨¡å¼ä¸¤å±‚æ˜ åƒæœ¬è´¨ä¸Šå®šä¹‰äº†ä¸€ç»„<strong>æ¥å£è§„èŒƒ</strong>ï¼Œç”±ç”¨æˆ·æŒ‰ç…§æ¥å£å®šä¹‰ä¸‰çº§æ¨¡å¼ï¼Œç”±DBMSç¨‹åºè‡ªåŠ¨å®ç°ä¸¤å±‚æ˜ åƒï¼Œä»è€Œå®ç°æŠ½è±¡ã€å±è”½å˜åŒ–</p></blockquote></li></ul><hr><h4 id="æ•°æ®æ¨¡å‹" tabindex="-1"><a class="header-anchor" href="#æ•°æ®æ¨¡å‹" aria-hidden="true">#</a> <em>æ•°æ®æ¨¡å‹ï¼š</em></h4><ul><li><p><u>æ•°æ®æ¨¡å‹çš„æ¦‚å¿µ</u>ï¼š</p><ul><li>æ•°æ®æ¨¡å‹æ˜¯<strong>å¯¹æ¨¡å¼çš„æŠ½è±¡</strong></li><li>æ•°æ®æ¨¡å‹è§„å®šäº†<strong>æ¨¡å¼ç»Ÿä¸€æè¿°æ–¹å¼</strong>ï¼ŒåŒ…æ‹¬æ•°æ®ç»“æ„ã€æ“ä½œå’Œçº¦æŸ</li></ul></li><li><p><u>æ•°æ®æ¨¡å‹çš„å¸¸è§ç§ç±»</u>ï¼š</p><ul><li><p><strong><u>å…³ç³»æ¨¡å‹</u></strong>ï¼š</p><ul><li>ä»¥è¡¨çš„å½¢å¼ç»„ç»‡æ•°æ®</li><li>è§„å®šæ‰€æœ‰æ¨¡å¼éƒ½éµå¾ª<strong>è¡¨çš„æ•°æ®ç»“æ„</strong>ï¼Œæ¯ä¸ªå…·ä½“çš„æ¨¡å¼éƒ½æ˜¯æ‹¥æœ‰æŸäº›<strong>å±æ€§</strong>çš„è¡¨</li><li>è§„å®šå¯¹è¡¨å½¢å¼<strong>æ•°æ®çš„æ“ä½œå’Œçº¦æŸ</strong></li></ul></li><li><p><u>å±‚æ¬¡æ¨¡å‹</u>ï¼š</p><ul><li><p>ä»¥æ ‘çš„å½¢å¼ç»„ç»‡æ•°æ®</p></li><li><p>ç”¨<strong>å®ä½“å‹</strong>ä½œä¸ºæ•°æ®è®°å½•</p><blockquote><p>ç›¸å½“äºæ ‘ä¸­çš„ç»“ç‚¹</p></blockquote></li><li><p>ç”¨<strong>ç³»å‹</strong>è¡¨ç¤ºæ•°æ®ä¹‹é—´çš„è”ç³»ï¼Œç”±<strong>æŒ‡é’ˆ</strong>å®ç°</p><blockquote><p>ç›¸å½“äºæ ‘ä¸­çš„è¾¹</p></blockquote></li><li><p>è§„å®šæ‰€æœ‰æ¨¡å¼éƒ½è¦æè¿°<strong>å®ä½“å‹çš„å«ä¹‰</strong>å¹¶è§„å®š<strong>å®ä½“å‹ä¹‹é—´çš„ç³»å‹</strong></p></li></ul></li><li><p><u>ç½‘çŠ¶æ¨¡å‹</u>ï¼š</p><ul><li>ä»¥å›¾çš„å½¢å¼ç»„ç»‡æ•°æ®ï¼ŒåŒæ ·æœ‰å®ä½“å‹å’Œç³»å‹</li></ul></li></ul></li></ul><hr><h4 id="æ•°æ®åº“ç³»ç»Ÿçš„å‘å±•" tabindex="-1"><a class="header-anchor" href="#æ•°æ®åº“ç³»ç»Ÿçš„å‘å±•" aria-hidden="true">#</a> <em>æ•°æ®åº“ç³»ç»Ÿçš„å‘å±•ï¼š</em></h4><ul><li><p><u>å››ä¸ªé˜¶æ®µ</u>ï¼š</p><ul><li><p>æ•°æ®åº“æŠ€æœ¯æ¢ç´¢</p></li><li><p>æ•°æ®åº“æŠ€æœ¯ç¡®ç«‹</p></li><li><p>æ•°æ®åº“æŠ€æœ¯æˆç†Ÿ</p><blockquote><p>åœ¨è¯¥é˜¶æ®µæå‡ºäº†æ ‡å‡†åŒ–æ•°æ®åº“ç³»ç»Ÿç»“æ„æ¨¡å‹ï¼Œä¹Ÿå°±æ˜¯ä¸‰çº§æ¨¡å¼ä¸¤å±‚æ˜ åƒ</p></blockquote></li><li><p>æ•°æ®åº“æŠ€æœ¯æ·±åŒ–å‘å±•</p></li></ul></li><li><p><u>ä»<strong>æ–‡ä»¶ç³»ç»Ÿ</strong>åˆ°<strong>æ•°æ®åº“</strong></u>ï¼š</p><blockquote><p>è¯¦è§æ•°æ®åº“ç³»ç»Ÿç¬”è®°ä»“åº“</p></blockquote><ul><li>æ–‡ä»¶ç³»ç»Ÿ <ul><li>æ¦‚è¿°ï¼šæ–‡ä»¶ç³»ç»Ÿæ˜¯<strong>æ“ä½œç³»ç»Ÿ</strong>ç®¡ç†æ•°æ®çš„æ–¹å¼ï¼Œä»¥<strong>è®°å½•</strong>ä¸ºå•ä½ï¼Œæä¾›å„ç§å­˜å–æ–¹æ³•</li><li>ä¼˜ç‚¹ï¼šç”¨æˆ·ä¸å¿…è€ƒè™‘<strong>ç‰©ç†å­˜å‚¨</strong>ï¼Œä¸éœ€è¦å¤„ç†ç‰©ç†è®¾å¤‡å­˜å–çš„å¤æ‚æ€§</li><li>ç¼ºç‚¹ï¼š <ul><li>æ•°æ®ä¸ç¨‹åºï¼š<strong>æ•°æ®ä¸ç¨‹åº</strong>è€¦åˆåº¦è¾ƒé«˜ï¼Œæ•°æ®çš„ç»„ç»‡å’Œè¯­ä¹‰ä¾èµ–äºç¨‹åºçš„å…·ä½“å®ç°</li><li>æ§åˆ¶ï¼šå…±äº«å·®ï¼›ä¸ä¸€è‡´æ€§é«˜</li><li>è”ç³»ï¼šæ–‡ä»¶ã€è®°å½•ä¹‹é—´<strong>è”ç³»æ€§</strong>è¾ƒå·®</li><li>å†—ä½™ï¼šå†—ä½™å¤§</li></ul></li></ul></li><li>æ•°æ®åº“ <ul><li>æ¦‚è¿°ï¼šç”±DBMSç»Ÿä¸€å­˜å–ï¼Œç»´æŠ¤æ•°æ®ç»„ç»‡å½¢å¼åŠè¯­ä¹‰ï¼Œä»¥<strong>è®°å½•</strong>ä¸ºå•ä½ï¼Œä¹Ÿå¯ä»¥<strong>æ•°æ®é¡¹</strong>å’Œ<strong>è®°å½•é›†åˆ</strong>ä¸ºå•ä½</li><li>ä¼˜ç‚¹ï¼š <ul><li>æ•°æ®ä¸ç¨‹åºï¼šDBMS æ•°æ®åŠæ•°æ®ç»“æ„çš„å®šä¹‰å’Œæè¿°ï¼Œè®©<strong>æ•°æ®ä¸åº”ç”¨ç¨‹åº</strong>è§£è€¦åˆï¼Œå…·æœ‰<strong>ä¸¤ä¸ªç‹¬ç«‹æ€§</strong>ï¼ŒæŸ¥è¯¢å’Œç»Ÿè®¡é«˜æ•ˆ</li><li>æ•°æ®æ§åˆ¶ï¼š<strong>ç»Ÿä¸€çš„æ•°æ®æ§åˆ¶</strong>ï¼Œå…±äº«æ€§é«˜ï¼›è‡ªåŠ¨æ£€æŸ¥å®‰å…¨æ€§ã€å®Œæ•´æ€§ã€å¹¶å‘æ­£ç¡®æ€§</li><li>æ•°æ®è”ç³»ï¼šæ–‡ä»¶ï¼ˆTableï¼‰ã€è®°å½•ä¹‹é—´æœ‰å…³è”</li><li>æ•°æ®å†—ä½™ï¼šå†—ä½™å°ï¼Œæ˜“æ‰©å……</li></ul></li></ul></li></ul></li><li><p><u>ä»å±‚æ¬¡æ¨¡å‹ã€ç½‘çŠ¶æ¨¡å‹æ•°æ®åº“åˆ°<strong>å…³ç³»æ¨¡å‹æ•°æ®åº“</strong></u>ï¼š</p><ul><li><p>ç¬¬ä¸€ä»£æ•°æ®åº“ç³»ç»Ÿï¼šå±‚æ¬¡æ¨¡å‹ä¸ç½‘çŠ¶æ¨¡å‹æ•°æ®åº“</p><ul><li>æ•°æ®çš„<strong>ç»“æ„</strong>ï¼šæ•°æ®ä¹‹é—´çš„å…³è”å…³ç³»ç”±<strong>æŒ‡é’ˆç³»ç»Ÿ</strong>ç»´æŠ¤ï¼Œç»“æ„æè¿°å¤æ‚</li><li>æ•°æ®çš„<strong>æ“ä½œ</strong>ï¼š <ul><li>æ•°æ®æ£€ç´¢æ“ä½œä¾èµ–äº<strong>æŒ‡é’ˆç³»ç»Ÿ</strong>æŒ‡ç¤ºçš„<strong>è·¯å¾„</strong></li><li>éœ€è¦é€ä¸€è®°å½•æ“ä½œï¼Œä¸èƒ½æœ‰æ•ˆæ”¯æŒ<strong>è®°å½•é›†åˆ</strong>çš„æ“ä½œ</li></ul></li></ul><blockquote><p>é‡è¦çš„ç‰¹ç‚¹ï¼š<strong>æŒ‡é’ˆ</strong></p></blockquote></li><li><p>ç¬¬äºŒä»£æ•°æ®åº“ç³»ç»Ÿï¼šå…³ç³»æ¨¡å‹æ•°æ®åº“</p><ul><li>æ•°æ®çš„<strong>ç»“æ„</strong>ï¼šæ•°æ®ä¹‹é—´çš„å…³è”å…³ç³»ç”±<strong>è¡¨</strong>çš„å±æ€§å€¼æ¥è¡¨å¾ï¼Œç»“æ„æè¿°ç®€å•</li><li>æ•°æ®çš„<strong>æ“ä½œ</strong>ï¼š <ul><li>æ•°æ®æ£€ç´¢æ“ä½œä¸ä¾èµ–äºè·¯å¾„æˆ–è¿‡ç¨‹ä¿¡æ¯ï¼Œæ”¯æŒ<strong>éè¿‡ç¨‹åŒ–çš„æ•°æ®æ“ä½œ</strong></li><li>æœ‰æ•ˆæ”¯æŒ<strong>è®°å½•é›†åˆ</strong>çš„æ“ä½œ</li></ul></li><li>ç†è®ºï¼šæœ‰è¾ƒä¸ºå®Œå–„çš„ç†è®ºåŸºç¡€</li></ul><blockquote><p><strong>æ¶ˆé™¤</strong>äº†ç½‘çŠ¶ã€å±‚æ¬¡æ¨¡å‹çš„<strong>æŒ‡é’ˆ</strong></p></blockquote></li></ul></li><li><p><u>ä»<strong>å…³ç³»</strong>æ•°æ®åº“åˆ°<strong>å¯¹è±¡-å…³ç³»</strong>æ•°æ®åº“ã€<strong>é¢å‘å¯¹è±¡</strong>æ•°æ®åº“</u>ï¼š</p><ul><li>å…³ç³»æ•°æ®åº“ <ul><li>æŒ‰<strong>è¡Œåˆ—</strong>ç»„ç»‡æ•°æ®ï¼Œéµå¾ª<strong>å…³ç³»ç¬¬ä¸€èŒƒå¼</strong>ï¼Œè¦æ±‚<strong>æ•°æ®é¡¹ä¸å¯å†åˆ†</strong></li><li>æ”¯æŒå„ç§<strong>å…³ç³»è¿ç®—</strong>ï¼Œæœ‰è¾ƒä¸ºå®Œå–„çš„å…³ç³»æ•°æ®åº“è®¾è®¡ç†è®º</li></ul></li><li>å¯¹è±¡-å…³ç³»æ•°æ®åº“ï¼ˆæ–°ä¸€ä»£æ•°æ®åº“ç³»ç»Ÿï¼‰ <ul><li>é€šè¿‡<strong>è¡Œå¯¹è±¡ã€åˆ—å¯¹è±¡</strong>ç»„ç»‡æ•°æ®</li><li>å¯ä»¥ä¸æ»¡è¶³ç¬¬ä¸€èŒƒå¼ï¼Œæ”¯æŒ<strong>å¤åˆå±æ€§</strong>ï¼ˆç»“æ„å¯¹è±¡ï¼‰å’Œ<strong>å¤šå€¼å±æ€§</strong>ï¼ˆèšé›†å¯¹è±¡ï¼‰</li></ul></li><li>é¢å‘å¯¹è±¡æ•°æ®åº“ï¼ˆæ–°ä¸€ä»£æ•°æ®åº“ç³»ç»Ÿï¼‰ <ul><li>ç»“åˆé¢å‘å¯¹è±¡æŠ€æœ¯ï¼ˆO-Oï¼‰å’Œé›†åˆ/èšé›†æ“ä½œæŠ€æœ¯ï¼ˆSQLï¼‰</li><li>æ”¯æŒå¤æ‚æ•°æ®ç±»å‹ï¼Œæ”¯æŒ<strong>é¢å‘å¯¹è±¡ç‰¹æ€§</strong></li></ul></li><li>XMLæ•°æ®åº“ï¼ˆæ–°ä¸€ä»£æ•°æ®åº“ç³»ç»Ÿï¼‰ <ul><li>åŠç»“æ„åŒ–æ•°æ®åº“</li><li>å°†<strong>æ•°æ®</strong>ä¸<strong>æ•°æ®çš„è¯­ä¹‰</strong>åˆå¹¶åœ¨ä¸€èµ·è¿›è¡Œå­˜å‚¨å’Œç®¡ç†</li><li>é¢å‘<strong>æ•°æ®äº¤æ¢</strong></li></ul></li></ul></li><li><p><u>ä»å•ä¸€æ•°æ®åº“åˆ°å¤šæ•°æ®åº“äº’è”</u>ï¼š</p><ul><li><strong>ODBCä½œä¸ºæ¥å£</strong>ï¼Œè§„èŒƒç¨‹åºä¹¦å†™ï¼Œè§£å¼€åº”ç”¨ç¨‹åºä¸æ•°æ®åº“ç®¡ç†ç³»ç»Ÿçš„è€¦åˆ</li><li>å®ç°å¤šç§å¤šæ ·æ•°æ®åº“çš„<strong>å¼€æ”¾å¼äº’è”</strong></li></ul></li></ul><h2 id="_2-å…³ç³»æ¨¡å‹" tabindex="-1"><a class="header-anchor" href="#_2-å…³ç³»æ¨¡å‹" aria-hidden="true">#</a> 2 å…³ç³»æ¨¡å‹</h2><h3 id="_2-1-å…³ç³»æ¨¡å‹åŸºç¡€" tabindex="-1"><a class="header-anchor" href="#_2-1-å…³ç³»æ¨¡å‹åŸºç¡€" aria-hidden="true">#</a> 2.1 å…³ç³»æ¨¡å‹åŸºç¡€</h3><h4 id="å…³ç³»æ¨¡å‹ä¸‰è¦ç´ " tabindex="-1"><a class="header-anchor" href="#å…³ç³»æ¨¡å‹ä¸‰è¦ç´ " aria-hidden="true">#</a> <em>å…³ç³»æ¨¡å‹ä¸‰è¦ç´ ï¼š</em></h4><ul><li><u>åŸºæœ¬ç»“æ„</u>ï¼šRelation/Table <ul><li>æè¿°æ•°æ®åº“å„ç§<strong>æ•°æ®çš„åŸºæœ¬ç»“æ„</strong>å½¢å¼</li></ul></li><li><u>åŸºæœ¬æ“ä½œ</u>ï¼šRelation Operator <ul><li>æè¿°æ•°æ®åº“<strong>è¡¨ä¹‹é—´</strong>å¯èƒ½å‘ç”Ÿçš„å„ç§æ“ä½œï¼ˆ<strong>å…³ç³»è¿ç®—</strong>ï¼‰</li></ul></li><li><u>å®Œæ•´æ€§çº¦æŸ</u>ï¼šIntegrity Constraints <ul><li>æè¿°<strong>åŸºæœ¬ç»“æ„ä¸æ“ä½œ</strong>åº”å½“éµå¾ªçš„<strong>çº¦æŸæ¡ä»¶</strong></li></ul></li></ul><hr><h4 id="å…³ç³»çš„æ•°å­¦å®šä¹‰" tabindex="-1"><a class="header-anchor" href="#å…³ç³»çš„æ•°å­¦å®šä¹‰" aria-hidden="true">#</a> <em>å…³ç³»çš„æ•°å­¦å®šä¹‰ï¼š</em></h4><ul><li><p><u>å…³ç³»/è¡¨çš„å®šä¹‰</u></p><ul><li><p>åŸŸï¼ˆDomainï¼‰ï¼š</p><ul><li>åŸŸçš„æ¦‚å¿µï¼šä¸€ç»„<strong>ç›¸åŒæ•°æ®ç±»å‹å€¼</strong>çš„é›†åˆ</li><li>åŸºæ•°ï¼ˆCardinalityï¼‰ï¼šé›†åˆä¸­çš„<strong>å…ƒç´ ä¸ªæ•°</strong></li><li>åŸŸåœ¨å…³ç³»ä¸­çš„ä½œç”¨ï¼šæ˜¯å…³ç³»ä¸­æŸ<strong>åˆ—çš„å–å€¼èŒƒå›´</strong></li></ul></li><li><p>ç¬›å¡å°”ç§¯ï¼ˆCartesian Productï¼‰ï¼š</p><ul><li><strong>å…ƒç»„</strong>å’Œ<strong>ç¬›å¡å°”ç§¯</strong>ï¼šä»<strong>ä¸€ç»„åŸŸä¸­å„å–ä¸€ä¸ªå…ƒç´ </strong>æ„æˆçš„åºå¯¹ç§°ä¸º<strong>å…ƒç»„</strong>ï¼Œæ‰€æœ‰è¿™æ ·å¯èƒ½çš„<strong>ä¸é‡å¤çš„å…ƒç»„çš„é›†åˆ</strong>ç§°ä¸ºè¿™ç»„åŸŸçš„<strong>ç¬›å¡å°”ç§¯</strong></li><li>ç¬›å¡å°”ç§¯çš„<strong>åˆ†é‡</strong>ï¼šä¸€ä¸ªå…ƒç»„ä¸­çš„æŸä¸€å…ƒç´ </li><li>ç¬›å¡å°”ç§¯çš„<strong>åŸºæ•°</strong>ï¼šç¬›å¡å°”ç§¯ä¸­å…ƒç»„çš„æ€»æ•°</li></ul></li><li><p>å…³ç³»ï¼ˆRelationï¼‰</p><ul><li><p>å…³ç³»çš„æ¦‚å¿µï¼šä¸€ç»„åŸŸçš„<strong>ç¬›å¡å°”ç§¯çš„å­é›†</strong>ï¼Œå…·æœ‰æŸæ–¹é¢æ„ä¹‰çš„<strong>å…ƒç»„çš„é›†åˆ</strong></p></li><li><p><strong>å±æ€§å</strong>ï¼šå…³ç³»ä¸­æ¯ä¸€åˆ—çš„åå­—</p><blockquote><p>å…³ç³»çš„ä¸åŒåˆ—å¯èƒ½æ¥è‡ªåŒä¸€åŸŸï¼Œç”¨å±æ€§ååŠ ä»¥åŒºåˆ†</p></blockquote></li></ul></li><li><p>å…³ç³»æ¨¡å¼/è¡¨æ ‡é¢˜ï¼ˆShcema/Headï¼‰</p><ul><li><p>å…³ç³»æ¨¡å¼çš„æ¦‚å¿µï¼šå…³ç³»çš„ä¸€ç§æè¿°æ–¹å¼ï¼Œå³<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mo stretchy="false">(</mo><msub><mi>A</mi><mn>1</mn></msub><mo>:</mo><msub><mi>D</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>A</mi><mn>2</mn></msub><mo>:</mo><msub><mi>D</mi><mn>2</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>A</mi><mi>n</mi></msub><mo>:</mo><msub><mi>D</mi><mi>n</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">R(A_1:D_1,A_2:D_2,...,A_n:D_n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">...</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></p><ul><li>Rï¼šå…³ç³»çš„åå­—</li><li>Aï¼šå±æ€§</li><li>Dï¼šåŸŸï¼ˆæœ‰æ—¶å¯ä»¥çœç•¥Dï¼‰</li><li>nï¼šå…³ç³»çš„åº¦/ç›®ï¼ˆdegreeï¼‰</li></ul></li><li><p>DBMSä¸­çš„å…³ç³»æ¨¡å¼ï¼š<code>å…³ç³»æ¨¡å¼(å±æ€§å åŸŸå, ...)</code></p><ul><li><code>åŸŸå</code>çš„æè¿°æ–¹å¼ï¼š<code>å±æ€§ç±»å‹(é•¿åº¦)</code></li></ul><blockquote><p>ä¸¾ä¾‹ï¼š<code>Student(S# char(8), Sname char(10), Sage integer(9))</code></p></blockquote></li><li><p>å…³ç³»æ¨¡å¼ä¸å…³ç³»ï¼š</p><ul><li>å…³ç³»æ¨¡å¼æ˜¯<strong>å…³ç³»çš„ç»“æ„</strong>ï¼Œå…³ç³»æ˜¯å…³ç³»æ¨¡å¼ä¸‹çš„<strong>æ•°æ®é›†åˆ</strong></li><li>åŒä¸€å…³ç³»æ¨¡å¼ä¸‹å¯ä»¥æœ‰å¾ˆå¤šå…³ç³»</li></ul></li></ul></li></ul></li><li><p><u>å…³ç³»/è¡¨çš„ç‰¹æ€§</u></p><ul><li><p>åˆ—çš„ï¼š</p><ul><li><strong>åˆ—åŒè´¨</strong>ï¼šæ¯ä¸€åˆ—ä¸­çš„åˆ†é‡æ¥è‡ª<strong>åŒä¸€åŸŸ</strong></li><li><strong>å±æ€§åä¸å†²çª</strong>ï¼šå…³ç³»æ¨¡å¼ä¸­å„<strong>å±æ€§åå¿…é¡»ä¸åŒ</strong>ï¼Œå¯¹åº”çš„åŸŸå¯ä»¥ç›¸åŒ</li><li><strong>ç¬¬ä¸€èŒƒå¼</strong>ï¼šå±æ€§ä¸å¯å†åˆ†</li></ul></li><li><p>è¡Œçš„</p><ul><li><p><strong>å…ƒç»„ä¸é‡å¤</strong>ï¼šå…³ç³»ä¸­çš„ä»»æ„ä¸¤ä¸ªå…ƒç»„ä¸èƒ½å®Œå…¨ç›¸åŒï¼Œå³ä¸èƒ½<strong>æ¯ä¸ªåˆ†é‡éƒ½ç›¸åŒ</strong></p><blockquote><p>ç°å®åº”ç”¨ä¸­ï¼Œ<strong>è¡¨</strong>å¯èƒ½ä¸å®Œå…¨éµå®ˆæ­¤ç‰¹æ€§</p></blockquote></li></ul></li><li><p>è¡Œåˆ—çš„ï¼š</p><ul><li><p><strong>è¡Œåˆ—ä½ç½®äº’æ¢æ€§</strong>ï¼šç”¨<strong>å±æ€§å</strong>åŒºåˆ†åˆ—ï¼Œç”¨æŸ<strong>å±æ€§å€¼</strong>åŒºåˆ†è¡Œï¼Œè€Œä¸ä¾é ä½ç½®åŒºåˆ†</p><blockquote><p>ä»…ä»…æ˜¯<strong>è¡Œåˆ—ä½ç½®äº’æ¢</strong>çš„ä¸¤ä¸ªå…³ç³»æ˜¯<strong>ç›¸åŒ</strong>çš„å…³ç³»</p></blockquote></li></ul></li></ul></li><li><p><u>ç‰¹æ®Šçš„å±æ€§(ç»„)</u></p><ul><li><p><em>å€™é€‰ç /å€™é€‰é”®ï¼ˆCandidate / Alternative Keyï¼‰</em>ï¼šå…³ç³»ä¸­çš„ä¸€ä¸ª<strong>å±æ€§ç»„</strong>ï¼Œå…¶å€¼èƒ½<strong>å”¯ä¸€æ ‡è¯†ä¸€ä¸ªå…ƒç»„</strong>ï¼Œè‹¥å»æ‰å…¶ä¸­ä»»ä½•ä¸€ä¸ªå±æ€§åˆ™ä¸èƒ½å”¯ä¸€æ ‡è¯†å…ƒç»„</p><blockquote><p>å…·æœ‰â€œæå°æ€§â€</p></blockquote></li><li><p><em>ä¸»ç /ä¸»é”®ï¼ˆPrimary Keyï¼‰</em>ï¼šè¢«é€‰å®šä¸ºä¸»è¦çº¿ç´¢çš„å€™é€‰ç /å€™é€‰é”®</p><blockquote><p>åœ¨å…³ç³»ä¸­å¯ä»¥ç”¨<strong>ä¸‹åˆ’çº¿</strong>æ ‡è¯†</p></blockquote></li><li><p><em>ä¸»å±æ€§ä¸éä¸»å±æ€§</em>ï¼šåŒ…å«åœ¨ä»»ä½•ä¸€ä¸ª<strong>å€™é€‰ç </strong>ä¸­çš„å±æ€§ç§°ä¸º<strong>ä¸»å±æ€§</strong>ï¼Œå…¶ä»–å±æ€§ç§°ä¸º<strong>éä¸»å±æ€§</strong></p></li><li><p><em>å¤–ç /å¤–é”®ï¼ˆForeign Keyï¼‰</em>ï¼šä¸<strong>å¦ä¸€ä¸ªå…³ç³»çš„å€™é€‰ç </strong>ç›¸å¯¹åº”çš„<strong>å±æ€§ç»„</strong></p><blockquote><p>ä¸¤ä¸ªå…³ç³»é€šå¸¸æ˜¯é <strong>å¤–ç è¿æ¥</strong>èµ·æ¥çš„ã€‚åœ¨å…³ç³»åé¢å¯ä»¥é¢å¤–è¯´æ˜å“ªäº›å±æ€§æ˜¯å¤–ç </p></blockquote></li></ul></li></ul><hr><h4 id="å…³ç³»æ¨¡å‹ä¸­çš„å®Œæ•´æ€§çº¦æŸ" tabindex="-1"><a class="header-anchor" href="#å…³ç³»æ¨¡å‹ä¸­çš„å®Œæ•´æ€§çº¦æŸ" aria-hidden="true">#</a> <em>å…³ç³»æ¨¡å‹ä¸­çš„å®Œæ•´æ€§çº¦æŸï¼š</em></h4><ul><li><strong>å®ä½“å®Œæ•´æ€§</strong>ï¼š<strong>ä¸»é”®</strong>ä¸­çš„å±æ€§å€¼ä¸èƒ½ä¸ºç©º</li><li><strong>å‚ç…§å®Œæ•´æ€§</strong>ï¼šè‹¥<strong>å¤–é”®</strong>å¯¹åº”çš„å€™é€‰é”®æ˜¯<strong>ä¸»é”®</strong>ï¼Œåˆ™å…¶å±æ€§å€¼è¦ä¹ˆä¸å…¶å¯¹åº”<strong>ä¸»é”®çš„æŸä¸€å€¼</strong>ç›¸ç­‰ï¼Œè¦ä¹ˆä¸º<strong>ç©ºå€¼</strong></li><li><strong>ç”¨æˆ·è‡ªå®šä¹‰</strong>çš„å®Œæ•´æ€§ï¼šç”¨æˆ·é’ˆå¯¹å…·ä½“çš„åº”ç”¨ç¯å¢ƒå®šä¹‰çš„å®Œæ•´æ€§çº¦æŸæ¡ä»¶ <ul><li>å¯ä»¥åœ¨åŸŸçš„åŸºç¡€ä¸ŠåŠ çº¦æŸ</li><li>å¯ä»¥å¯¹å±æ€§æˆ–å±æ€§ç»„è”åˆçº¦æŸ</li></ul></li><li>DBMSå¯¹å®Œæ•´æ€§çš„æ”¯æŒï¼š <ul><li><strong>å®ä½“å®Œæ•´æ€§å’Œå‚ç…§å®Œæ•´æ€§</strong>ç”±DBMSç³»ç»Ÿè‡ªåŠ¨æ”¯æŒ</li><li>ç”¨æˆ·å¯ä»¥<strong>è‡ªå®šä¹‰</strong>å®Œæ•´æ€§çº¦æŸ</li><li>æœ‰<strong>æ›´æ–°</strong>æ“ä½œå‘ç”Ÿæ—¶ï¼Œ<strong>DBMSè‡ªåŠ¨æ£€æŸ¥</strong>æ˜¯å¦ç¬¦åˆå®Œæ•´æ€§</li></ul></li></ul><h3 id="_2-2-å…³ç³»ä»£æ•°" tabindex="-1"><a class="header-anchor" href="#_2-2-å…³ç³»ä»£æ•°" aria-hidden="true">#</a> 2.2 å…³ç³»ä»£æ•°</h3><h4 id="å…³ç³»ä»£æ•°è¿ç®—æ¦‚è¿°" tabindex="-1"><a class="header-anchor" href="#å…³ç³»ä»£æ•°è¿ç®—æ¦‚è¿°" aria-hidden="true">#</a> <em>å…³ç³»ä»£æ•°è¿ç®—æ¦‚è¿°ï¼š</em></h4><ul><li><p><strong>åŸºæœ¬æ¦‚å¿µ</strong>ï¼šåŸºäºå…³ç³»ä»£æ•°çš„è¿ç®—ï¼Œå°±æ˜¯<strong>åŸºäºé›†åˆçš„è¿ç®—</strong></p></li><li><p><strong>è¾“å…¥è¾“å‡º</strong>ï¼š<strong>ä¸€ä¸ªæˆ–å¤šä¸ªå…³ç³»</strong>ä¸ºè¾“å…¥ï¼Œè¾“å‡º<strong>ä¸€ä¸ªæ–°çš„å…³ç³»</strong></p></li><li><p><strong>ä½œç”¨</strong>ï¼šä¸€ç§<strong>æŠ½è±¡è¯­è¨€</strong>ï¼Œæ˜¯å…¶ä»–<strong>æ•°æ®åº“è¯­è¨€</strong>å¦‚SQLçš„åŸºç¡€</p></li><li><p><strong>è¿ç®—æ€æƒ³</strong>ï¼šå…ˆå®ç°<strong>åŸºæœ¬æ“ä½œ</strong>ï¼Œå†ç»„åˆæˆ<strong>æ‰©å±•æ“ä½œ</strong></p><ul><li>ä¸‹è¿°æ‰©å±•æ“ä½œå‡å¯ç”±5ä¸ªåŸºæœ¬æ“ä½œç»„åˆå®Œæˆ</li></ul></li><li><p>å…³ç³»ä»£æ•°è¿ç®—çš„çº¦æŸ/<strong>å¹¶ç›¸å®¹æ€§</strong>ï¼šå‚ä¸è¿ç®—çš„å…³ç³»<strong>å±æ€§æ•°ç›®ï¼ˆç›®æ•°ã€åº¦æ•°ï¼‰ç›¸åŒ</strong>ï¼Œå¯¹åº”<strong>å±æ€§çš„åŸŸç›¸åŒ</strong></p><ul><li>å…³ç³»ä»£æ•°æŸäº›æ“ä½œéƒ½è¦æ»¡è¶³<strong>å¹¶ç›¸å®¹æ€§</strong></li></ul></li></ul><hr><h4 id="å…³ç³»ä»£æ•°çš„åŸºæœ¬æ“ä½œ" tabindex="-1"><a class="header-anchor" href="#å…³ç³»ä»£æ•°çš„åŸºæœ¬æ“ä½œ" aria-hidden="true">#</a> <em>å…³ç³»ä»£æ•°çš„åŸºæœ¬æ“ä½œï¼š</em></h4><ul><li><p>**å¹¶ï¼ˆUnionï¼‰**æ“ä½œ</p><ul><li>æ¦‚å¿µï¼šå‡ºç°åœ¨<strong>å…³ç³»Ræˆ–å…³ç³»S</strong>ä¸­çš„æ‰€æœ‰<strong>ä¸é‡å¤</strong>å…ƒç»„é›†åˆ <ul><li>è¦æ»¡è¶³å¹¶ç›¸å®¹æ€§</li></ul></li><li>æ•°å­¦æè¿°ï¼š<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mo>âˆª</mo><mi>S</mi><mo>=</mo><mo stretchy="false">{</mo><mi>t</mi><mi mathvariant="normal">âˆ£</mi><mi>t</mi><mo>âˆˆ</mo><mi>R</mi><mo>âˆ¨</mo><mi>t</mi><mo>âˆˆ</mo><mi>S</mi><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">R\cup S=\{t|t\in R\vee t\in S\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆª</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord mathnormal">t</span><span class="mord">âˆ£</span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ¨</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6542em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mclose">}</span></span></span></span>,tæ˜¯å…ƒç»„</li></ul></li><li><p>**å·®ï¼ˆDifferenceï¼‰**æ“ä½œ</p><ul><li>æ¦‚å¿µï¼šå‡ºç°åœ¨å…³ç³»Rä¸­ä½†ä¸å‡ºç°åœ¨å…³ç³»Sä¸­çš„æ‰€æœ‰å…ƒç»„é›†åˆ <ul><li>è¦æ»¡è¶³å¹¶ç›¸å®¹æ€§</li></ul></li><li>æ•°å­¦æè¿°ï¼š<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mo>âˆ’</mo><mi>S</mi><mo>=</mo><mo stretchy="false">{</mo><mi>t</mi><mi mathvariant="normal">âˆ£</mi><mi>t</mi><mo>âˆˆ</mo><mi>R</mi><mo>âˆ§</mo><mi>t</mi><mo mathvariant="normal">âˆ‰</mo><mi>S</mi><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">R-S=\{t|t\in R\wedge t\notin S\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord mathnormal">t</span><span class="mord">âˆ£</span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ§</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mord"><span class="mrel">âˆˆ</span></span><span class="mord vbox"><span class="thinbox"><span class="llap"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="inner"><span class="mord"><span class="mord">/</span><span class="mspace" style="margin-right:0.0556em;"></span></span></span><span class="fix"></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mclose">}</span></span></span></span>,tæ˜¯å…ƒç»„</li></ul></li><li><p>**å¹¿ä¹‰ç¬›å¡å°”ç§¯ï¼ˆCartesian Productï¼‰**æ“ä½œ</p><ul><li><p>æ¦‚å¿µï¼šå…³ç³»Rä¸å…³ç³»Sä¸­å…ƒç»„æ‰€æœ‰å¯èƒ½çš„<strong>æ‹¼æ¥</strong>æ„æˆçš„å…ƒç»„é›†åˆ</p></li><li><p>æ•°å­¦æè¿°ï¼š</p><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd class="mtr-glue"></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mi>R</mi><mo>Ã—</mo><mi>S</mi><mo>=</mo></mrow></mstyle></mtd><mtd class="mtr-glue"></mtd><mtd class="mml-eqn-num"></mtd></mtr><mtr><mtd class="mtr-glue"></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo stretchy="false">{</mo><mo>&lt;</mo><msub><mi>a</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>a</mi><mn>2</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>a</mi><mi>n</mi></msub><mo separator="true">,</mo><msub><mi>b</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>b</mi><mn>2</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>b</mi><mi>n</mi></msub><mo>&gt;</mo><mi mathvariant="normal">âˆ£</mi></mrow></mstyle></mtd><mtd class="mtr-glue"></mtd><mtd class="mml-eqn-num"></mtd></mtr><mtr><mtd class="mtr-glue"></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>&lt;</mo><msub><mi>a</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>a</mi><mn>2</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>a</mi><mi>n</mi></msub><mo>&gt;</mo><mo>âˆˆ</mo><mi>R</mi><mtext>Â Â </mtext><mo>âˆ§</mo><mo>&lt;</mo><msub><mi>b</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>b</mi><mn>2</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>b</mi><mi>n</mi></msub><mo>&gt;</mo><mo>âˆˆ</mo><mi>S</mi><mo stretchy="false">}</mo></mrow></mstyle></mtd><mtd class="mtr-glue"></mtd><mtd class="mml-eqn-num"></mtd></mtr></mtable><annotation encoding="application/x-tex"> \begin{align} &amp;R\times S=\\ &amp;\{&lt;a_1,a_2,...,a_n,b_1,b_2,...,b_n&gt;|\\ &amp;&lt;a_1,a_2,...,a_n&gt;\in R~~\wedge&lt;b_1,b_2,...,b_n&gt;\in S\} \end{align} </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:4.5em;vertical-align:-2em;"></span><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.5em;"><span style="top:-4.5em;"><span class="pstrut" style="height:2.84em;"></span><span class="mord"></span></span><span style="top:-3em;"><span class="pstrut" style="height:2.84em;"></span><span class="mord"></span></span><span style="top:-1.5em;"><span class="pstrut" style="height:2.84em;"></span><span class="mord"></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.5em;"><span style="top:-4.66em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span></span></span><span style="top:-3.16em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mopen">{</span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">...</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">...</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">âˆ£</span></span></span><span style="top:-1.66em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">...</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;âˆˆ</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mspace nobreak">Â </span><span class="mspace nobreak">Â </span><span class="mord">âˆ§</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">...</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;âˆˆ</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mclose">}</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2em;"><span></span></span></span></span></span></span></span><span class="tag"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.5em;"><span style="top:-4.5em;"><span class="pstrut" style="height:2.84em;"></span><span class="eqn-num"></span></span><span style="top:-3em;"><span class="pstrut" style="height:2.84em;"></span><span class="eqn-num"></span></span><span style="top:-1.5em;"><span class="pstrut" style="height:2.84em;"></span><span class="eqn-num"></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2em;"><span></span></span></span></span></span></span></span></span></p></li><li><p>æ»¡è¶³çš„æ€§è´¨ï¼š</p><ul><li>äº¤æ¢å¾‹</li><li>åº¦æ•°ç›¸åŠ </li><li>åŸºæ•°ç›¸ä¹˜</li></ul></li><li><p>åº”ç”¨ï¼š<strong>æ£€ç´¢å¤šä¸ªè¡¨</strong></p></li></ul></li><li><p>**é€‰æ‹©ï¼ˆSelectï¼‰**æ“ä½œ</p><ul><li><p>æ¦‚å¿µï¼šä»å…³ç³»Rä¸­é€‰æ‹©å‡ºæ»¡è¶³ç»™å®šæ¡ä»¶conditionçš„<strong>å…ƒç»„</strong></p></li><li><p>æ•°å­¦æè¿°ï¼š<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Ïƒ</mi><mrow><mi>c</mi><mi>o</mi><mi>n</mi></mrow></msub><mo stretchy="false">(</mo><mi>R</mi><mo stretchy="false">)</mo><mo>=</mo><mo stretchy="false">{</mo><mi>t</mi><mi mathvariant="normal">âˆ£</mi><mi>t</mi><mo>âˆˆ</mo><mi>R</mi><mo>âˆ§</mo><mi>c</mi><mi>o</mi><mi>n</mi><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo><mo>=</mo><mi>t</mi><mi>r</mi><mi>u</mi><mi>e</mi><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\sigma_{con}(R)=\{t|t\in R\wedge con(t)=true\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">co</span><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord mathnormal">t</span><span class="mord">âˆ£</span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ§</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">co</span><span class="mord mathnormal">n</span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">t</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">u</span><span class="mord mathnormal">e</span><span class="mclose">}</span></span></span></span></p><ul><li><p><strong>æ¡ä»¶ <code>con(t)</code><strong>çš„æè¿°ï¼šç”±</strong>é€»è¾‘è¿ç®—ç¬¦</strong>è¿æ¥<strong>æ¯”è¾ƒè¡¨è¾¾å¼</strong>ç»„æˆ</p><ul><li>é€»è¾‘è¿ç®—ç¬¦ï¼š<code>and or not</code></li><li>æ¯”è¾ƒè¡¨è¾¾å¼ï¼š<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mtext>Â </mtext><mi>Î¸</mi><mtext>Â </mtext><mi>Y</mi></mrow><annotation encoding="application/x-tex">X~\theta~Y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace nobreak">Â </span><span class="mord mathnormal" style="margin-right:0.02778em;">Î¸</span><span class="mspace nobreak">Â </span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span></span></span></span>ï¼Œå…¶ä¸­Xå’ŒYæ˜¯<strong>åˆ†é‡ã€å¸¸é‡æˆ–ç®€å•å‡½æ•°</strong>ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Î¸</mi></mrow><annotation encoding="application/x-tex">\theta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">Î¸</span></span></span></span>æ˜¯æ¯”è¾ƒè¿ç®—ç¬¦ï¼Œ<code>&gt; &gt;= &lt; &lt;= = !=</code></li><li><strong>åˆ†é‡</strong>çš„æè¿°ï¼šè®¾<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mo stretchy="false">(</mo><msub><mi>A</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>A</mi><mn>2</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><msub><mi>A</mi><mi>n</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">R(A_1,A_2,...A_n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">...</span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>ï¼Œ<code>t</code>æ˜¯ <code>R</code>çš„å…ƒç»„ï¼Œ<code>t</code>çš„åˆ†é‡è®°ä¸º<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi><mo stretchy="false">[</mo><msub><mi>A</mi><mi>i</mi></msub><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">t[A_i]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">t</span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span>æˆ–<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>A</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">A_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></li></ul><blockquote><p>æ³¨æ„å¦‚æœæ¡ä»¶ä¸­æ¶‰åŠåˆ°å­—ç¬¦ä¸²å€¼ï¼Œä¸€å®šè¦åŠ <strong>å•å¼•å·</strong>ï¼Œä½†å­—æ®µåä¸ç”¨åŠ ï¼Œä¾‹å¦‚<code>å§“å=&#39;å¼ ä¸‰&#39;</code></p></blockquote></li></ul></li></ul><blockquote><p>ä¸SQLä¸­å¸¸ç”¨çš„ <code>select</code>ä¸åŒï¼Œè¿™é‡Œé€‰æ‹©çš„æ˜¯<strong>å…ƒç»„</strong>ï¼Œæ˜¯è¡Œ</p></blockquote></li><li><p>**æŠ•å½±ï¼ˆProjectï¼‰**æ“ä½œ</p><ul><li>æ¦‚å¿µï¼šå…³ç³»Rä¸­å±æ€§åŒ…å«åœ¨Aä¸­çš„<strong>åˆ—</strong>æ„æˆçš„å…³ç³» <ul><li>è¦å»æ‰é‡å¤å…ƒç»„</li></ul></li><li>æ•°å­¦æè¿°ï¼š<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="normal">Î </mi><mrow><msub><mi>A</mi><mrow><mi>i</mi><mn>1</mn></mrow></msub><mo separator="true">,</mo><msub><mi>A</mi><mrow><mi>i</mi><mn>2</mn></mrow></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>A</mi><mrow><mi>i</mi><mi>k</mi></mrow></msub></mrow></msub><mo stretchy="false">(</mo><mi>R</mi><mo stretchy="false">)</mo><mo>=</mo><mo stretchy="false">{</mo><mo>&lt;</mo><mi>t</mi><mo stretchy="false">[</mo><msub><mi>A</mi><mrow><mi>i</mi><mn>1</mn></mrow></msub><mo stretchy="false">]</mo><mo separator="true">,</mo><mi>t</mi><mo stretchy="false">[</mo><msub><mi>A</mi><mrow><mi>i</mi><mn>2</mn></mrow></msub><mo stretchy="false">]</mo><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><mi>t</mi><mo stretchy="false">[</mo><msub><mi>A</mi><mrow><mi>i</mi><mi>k</mi></mrow></msub><mo stretchy="false">]</mo><mo>&gt;</mo><mi mathvariant="normal">âˆ£</mi><mi>t</mi><mo>âˆˆ</mo><mi>R</mi><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\Pi_{A_{i1},A_{i2},...,A_{ik}}(R)=\{&lt;t[A_{i1}],t[A_{i2}],...,t[A_{ik}]&gt;|t\in R\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord">Î </span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3281em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mpunct mtight">,</span><span class="mord mtight"><span class="mord mathnormal mtight">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3281em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mpunct mtight">,</span><span class="mord mtight">...</span><span class="mpunct mtight">,</span><span class="mord mtight"><span class="mord mathnormal mtight">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3488em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">ik</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1512em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">t</span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">t</span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">...</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">t</span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">ik</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">âˆ£</span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mclose">}</span></span></span></span></li><li>åº”ç”¨ï¼šç”¨æˆ·å¯ä»¥é€šè¿‡<strong>æŠ•å½±ã€é€‰æ‹©æ“ä½œ</strong>æŸ¥è¯¢å…³å¿ƒçš„æ•°æ®ä¿¡æ¯</li></ul><blockquote><p>å¯¹åº”äº†SQLä¸­å¸¸ç”¨çš„ <code>select</code>ï¼Œé€‰æ‹©çš„æ˜¯<strong>å±æ€§</strong>ï¼Œæ˜¯åˆ—</p><p>å½“ç„¶å…³ç³»ä¼šå»é‡ï¼Œè¡¨å¯ä»¥ä¸å»</p></blockquote></li><li><p><strong>æ›´å</strong>æ“ä½œ</p><ul><li><p>æ¦‚å¿µï¼šä¸ºå…³ç³»ä»£æ•°å¼ä¸­çš„<strong>åŒä¸€ä¸ªå…³ç³»å–åˆ«å</strong>ä»¥åŒºåˆ†</p></li><li><p>æ•°å­¦æè¿°ï¼š<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Ï</mi><msub><mi>R</mi><mn>1</mn></msub></msub><mo stretchy="false">(</mo><mi>R</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\rho_{R_1}(R)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0001em;vertical-align:-0.2501em;"></span><span class="mord"><span class="mord mathnormal">Ï</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:-0.0077em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2501em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mclose">)</span></span></span></span></p><blockquote><p>å°†å…³ç³»Ræ›´åä¸º<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>R</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">R_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></p></blockquote></li></ul></li></ul><hr><h4 id="å…³ç³»ä»£æ•°çš„æ‰©å±•æ“ä½œ" tabindex="-1"><a class="header-anchor" href="#å…³ç³»ä»£æ•°çš„æ‰©å±•æ“ä½œ" aria-hidden="true">#</a> <em>å…³ç³»ä»£æ•°çš„æ‰©å±•æ“ä½œï¼š</em></h4><ul><li><p>**äº¤ï¼ˆIntersectionï¼‰**æ“ä½œ</p><ul><li>æ¦‚å¿µï¼šåŒæ—¶å‡ºç°åœ¨<strong>å…³ç³»Rå’Œå…³ç³»S</strong>ä¸­çš„æ‰€æœ‰å…ƒç»„é›†åˆ <ul><li>è¦æ»¡è¶³å¹¶ç›¸å®¹æ€§</li></ul></li><li>æ•°å­¦æè¿°ï¼š<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mo>âˆ©</mo><mi>S</mi><mo>=</mo><mo stretchy="false">{</mo><mi>t</mi><mi mathvariant="normal">âˆ£</mi><mi>t</mi><mo>âˆˆ</mo><mi>R</mi><mo>âˆ§</mo><mi>t</mi><mo>âˆˆ</mo><mi>S</mi><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">R\cap S=\{t|t\in R\wedge t\in S\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ©</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord mathnormal">t</span><span class="mord">âˆ£</span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ§</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6542em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mclose">}</span></span></span></span>,tæ˜¯å…ƒç»„</li><li>ä¸åŸºæœ¬æ“ä½œçš„å…³ç³»ï¼š<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mo>âˆ©</mo><mi>S</mi><mo>=</mo><mi>R</mi><mo>âˆ’</mo><mo stretchy="false">(</mo><mi>R</mi><mo>âˆ’</mo><mi>S</mi><mo stretchy="false">)</mo><mo>=</mo><mi>S</mi><mo>âˆ’</mo><mo stretchy="false">(</mo><mi>S</mi><mo>âˆ’</mo><mi>R</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">R\cap S=R-(R-S)=S-(S-R)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ©</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mclose">)</span></span></span></span></li></ul></li><li><p>**<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Î¸</mi><mo>âˆ’</mo></mrow><annotation encoding="application/x-tex">\theta-</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">Î¸</span><span class="mord">âˆ’</span></span></span></span>è¿æ¥ï¼ˆ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Î¸</mi><mo>âˆ’</mo><mi>J</mi><mi>o</mi><mi>i</mi><mi>n</mi></mrow><annotation encoding="application/x-tex">\theta-Join</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">Î¸</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="mord mathnormal">o</span><span class="mord mathnormal">in</span></span></span></span>ï¼‰**æ“ä½œï¼š</p><ul><li><p>æ¦‚å¿µï¼šå…³ç³»Rå’Œå…³ç³»Sçš„ç¬›å¡å°”ç§¯ä¸­ï¼ŒRä¸­å±æ€§Aä¸Sä¸­å±æ€§Bæ»¡è¶³<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Î¸</mi></mrow><annotation encoding="application/x-tex">\theta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">Î¸</span></span></span></span>æ¡ä»¶çš„å…ƒç»„é›†åˆ</p><blockquote><p>ä¹Ÿå« <em>å†…è¿æ¥ï¼ˆInner Joinï¼‰</em></p></blockquote></li><li><p>æ•°å­¦æè¿°ï¼š<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mo><munder><mo><mo>â‹ˆ</mo></mo><mrow><mi>A</mi><mtext>Â </mtext><mi>Î¸</mi><mtext>Â </mtext><mi>B</mi></mrow></munder></mo><mi>S</mi><mo>=</mo><msub><mi>Ïƒ</mi><mrow><mi>t</mi><mo stretchy="false">[</mo><mi>A</mi><mo stretchy="false">]</mo><mtext>Â </mtext><mi>Î¸</mi><mtext>Â </mtext><mi>s</mi><mo stretchy="false">[</mo><mi>B</mi><mo stretchy="false">]</mo></mrow></msub><mo stretchy="false">(</mo><mi>R</mi><mo>Ã—</mo><mi>S</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">R\underset{A~\theta~B}\bowtie S=\sigma_{t[A]~\theta~s[B]}(R\times S)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.4404em;vertical-align:-0.7571em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.505em;"><span style="top:-2.3429em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">A</span><span class="mspace nobreak mtight"><span class="mtight">Â </span></span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">Î¸</span><span class="mspace nobreak mtight"><span class="mtight">Â </span></span><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop">â‹ˆ</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.7571em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.1052em;vertical-align:-0.3552em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.5198em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mopen mtight">[</span><span class="mord mathnormal mtight">A</span><span class="mclose mtight">]</span><span class="mspace nobreak mtight"><span class="mtight">Â </span></span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">Î¸</span><span class="mspace nobreak mtight"><span class="mtight">Â </span></span><span class="mord mathnormal mtight">s</span><span class="mopen mtight">[</span><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span><span class="mclose mtight">]</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3552em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mclose">)</span></span></span></span></p><ul><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mo stretchy="false">(</mo><msub><mi>A</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>A</mi><mn>2</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>A</mi><mi>n</mi></msub><mo stretchy="false">)</mo><mo separator="true">,</mo><mtext>Â </mtext><mi>A</mi><mo>âˆˆ</mo><mo stretchy="false">{</mo><msub><mi>A</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>A</mi><mn>2</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>A</mi><mi>n</mi></msub><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">R(A_1,A_2,...,A_n),~A\in\{A_1,A_2,...,A_n\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">...</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace nobreak">Â </span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">...</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">}</span></span></span></span></li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi><mo stretchy="false">(</mo><msub><mi>B</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>B</mi><mn>2</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>B</mi><mi>n</mi></msub><mo stretchy="false">)</mo><mo separator="true">,</mo><mtext>Â </mtext><mi>B</mi><mo>âˆˆ</mo><mo stretchy="false">{</mo><msub><mi>B</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>B</mi><mn>2</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>B</mi><mi>n</mi></msub><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">S(B_1,B_2,...,B_n),~B\in\{B_1,B_2,...,B_n\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0502em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0502em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">...</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0502em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace nobreak">Â </span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0502em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0502em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">...</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0502em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">}</span></span></span></span></li><li>tæ˜¯å…³ç³»Rä¸­çš„å…ƒç»„ï¼Œsæ˜¯å…³ç³»Sä¸­çš„å…ƒç»„</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Î¸</mi></mrow><annotation encoding="application/x-tex">\theta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">Î¸</span></span></span></span>æ˜¯æ¯”è¾ƒè¿ç®—ç¬¦ï¼Œå±æ€§Aå’Œå±æ€§Bå…·æœ‰å¯æ¯”æ€§</li></ul></li><li><p>åº”ç”¨ï¼šä¸æŠ•å½±ã€é€‰æ‹©æ“ä½œè”ç”¨</p></li><li><p>DBMSçš„å®ç°ï¼šDBMSå¯ä»¥<strong>ç›´æ¥è¿›è¡Œè¿æ¥æ“ä½œ</strong>ï¼Œé™ä½ä¸­é—´ç»“æœçš„ä¿å­˜é‡ï¼Œè€Œä¸å¿…å…ˆå½¢æˆç¬›å¡å°”ç§¯</p></li></ul></li><li><p>**ç­‰å€¼è¿æ¥ï¼ˆEqui-Joinï¼‰**æ“ä½œ</p><ul><li><p>æ¦‚å¿µï¼šå…³ç³»Rå’Œå…³ç³»Sçš„ç¬›å¡å°”ç§¯ä¸­ï¼ŒRä¸­å±æ€§Aä¸Sä¸­å±æ€§B<strong>ç›¸ç­‰</strong>çš„å…ƒç»„é›†åˆ</p><ul><li><p>ä¸€ç§ç‰¹æ®Šçš„<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Î¸</mi><mo>âˆ’</mo></mrow><annotation encoding="application/x-tex">\theta-</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">Î¸</span><span class="mord">âˆ’</span></span></span></span>è¿æ¥</p><blockquote><p>æ˜¯ä¸€ç§å†…è¿æ¥</p></blockquote></li><li><p><strong>åˆå¹¶</strong>å‚ä¸ç­‰å€¼è¿æ¥çš„<strong>é‡å¤çš„å±æ€§åˆ—</strong>ï¼Œå› ä¸ºå€¼å®Œå…¨ç›¸åŒï¼Œä¿ç•™ä¸€åˆ—å³å¯</p><blockquote><p>æ™®é€šçš„ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Î¸</mi></mrow><annotation encoding="application/x-tex">\theta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">Î¸</span></span></span></span> è¿æ¥æ˜¯ä¸éœ€è¦åˆå¹¶çš„</p></blockquote></li></ul></li><li><p>æ•°å­¦æè¿°ï¼š<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mo><munder><mo><mo>â‹ˆ</mo></mo><mrow><mi>A</mi><mo>=</mo><mtext>Â </mtext><mi>B</mi></mrow></munder></mo><mi>S</mi><mo>=</mo><msub><mi>Ïƒ</mi><mrow><mi>t</mi><mo stretchy="false">[</mo><mi>A</mi><mo stretchy="false">]</mo><mo>=</mo><mi>s</mi><mo stretchy="false">[</mo><mi>B</mi><mo stretchy="false">]</mo></mrow></msub><mo stretchy="false">(</mo><mi>R</mi><mo>Ã—</mo><mi>S</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">R\underset{A=~B}\bowtie S=\sigma_{t[A]=s[B]}(R\times S)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.4327em;vertical-align:-0.7493em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.505em;"><span style="top:-2.3507em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">A</span><span class="mrel mtight">=</span><span class="mspace nobreak mtight"><span class="mtight">Â </span></span><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop">â‹ˆ</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.7493em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.1052em;vertical-align:-0.3552em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.5198em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mopen mtight">[</span><span class="mord mathnormal mtight">A</span><span class="mclose mtight">]</span><span class="mrel mtight">=</span><span class="mord mathnormal mtight">s</span><span class="mopen mtight">[</span><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span><span class="mclose mtight">]</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3552em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mclose">)</span></span></span></span></p></li></ul></li><li><p><strong>è‡ªç„¶è¿æ¥</strong>æ“ä½œ</p><ul><li><p>æ¦‚å¿µï¼šå…³ç³»Rå’Œå…³ç³»Sçš„ç¬›å¡å°”ç§¯ä¸­ï¼Œ<strong>ç›¸åŒå±æ€§ç»„B</strong>ä¸Šçš„å€¼éƒ½<strong>ç›¸ç­‰</strong>çš„å…ƒç»„é›†åˆ</p><ul><li><p>ä¸€ç§ç‰¹æ®Šçš„ç­‰å€¼è¿æ¥</p><blockquote><p>æ˜¯ä¸€ç§å†…è¿æ¥</p></blockquote></li><li><p>è¦æ±‚å…³ç³»Rå’Œå…³ç³»Sæœ‰ç›¸åŒçš„å±æ€§ç»„B</p></li><li><p><strong>åˆå¹¶</strong>å‚ä¸ç­‰å€¼è¿æ¥çš„<strong>é‡å¤çš„å±æ€§åˆ—</strong>ï¼Œå› ä¸ºå€¼å®Œå…¨ç›¸åŒï¼Œä¿ç•™ä¸€åˆ—å³å¯</p></li></ul></li><li><p>æ•°å­¦æè¿°ï¼š<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mo>â‹ˆ</mo><mi>S</mi><mo>=</mo><msub><mi>Ïƒ</mi><mrow><mi>t</mi><mo stretchy="false">[</mo><mi>B</mi><mo stretchy="false">]</mo><mo>=</mo><mi>s</mi><mo stretchy="false">[</mo><mi>B</mi><mo stretchy="false">]</mo></mrow></msub><mo stretchy="false">(</mo><mi>R</mi><mo>Ã—</mo><mi>S</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">R\bowtie S=\sigma_{t[B]=s[B]}(R\times S)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6883em;vertical-align:-0.005em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‹ˆ</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.1052em;vertical-align:-0.3552em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.5198em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mopen mtight">[</span><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span><span class="mclose mtight">]</span><span class="mrel mtight">=</span><span class="mord mathnormal mtight">s</span><span class="mopen mtight">[</span><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span><span class="mclose mtight">]</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3552em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mclose">)</span></span></span></span></p></li></ul></li><li><p>**é™¤ï¼ˆDivisionï¼‰**æ“ä½œ</p><ul><li><p>å‰ææ¡ä»¶ï¼šå…³ç³»Sçš„å±æ€§é›†æ˜¯å…³ç³»Rçš„å±æ€§é›†çš„<strong>çœŸå­é›†</strong></p></li><li><p>æ¦‚å¿µï¼šå…³ç³»Ré™¤å…³ç³»Sï¼Œå¾—åˆ°å…³ç³»ä¸­ï¼Œ<strong>å±æ€§é›†</strong>æ˜¯å…³ç³»Rå±æ€§é›†<strong>å·®</strong>å…³ç³»Så±æ€§é›†ï¼Œ<strong>å…ƒç»„</strong>æ˜¯ä¸Sä¸­æ¯ä¸€ä¸ªå…ƒç»„<strong>è¿æ¥</strong>åçš„æ–°å…ƒç»„éƒ½åœ¨å…³ç³»Rä¸­çš„å…ƒç»„</p></li><li><p>æ•°å­¦æè¿°ï¼š</p><ul><li><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mo>Ã·</mo><mi>S</mi><mo>=</mo><mo stretchy="false">{</mo><mi>t</mi><mi mathvariant="normal">âˆ£</mi><mi>t</mi><mo>âˆˆ</mo><msub><mi mathvariant="normal">Î </mi><mrow><mi>R</mi><mo>âˆ’</mo><mi>S</mi></mrow></msub><mo stretchy="false">(</mo><mi>R</mi><mo stretchy="false">)</mo><mo>âˆ§</mo><mi mathvariant="normal">âˆ€</mi><mi>u</mi><mo>âˆˆ</mo><mi>S</mi><mo stretchy="false">(</mo><mi>t</mi><mi>u</mi><mo>âˆˆ</mo><mi>R</mi><mo stretchy="false">)</mo><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">R\div S=\{t|t\in\Pi_{R-S}(R)\wedge\forall u\in S(tu\in R)\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">Ã·</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord mathnormal">t</span><span class="mord">âˆ£</span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord">Î </span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span><span class="mbin mtight">âˆ’</span><span class="mord mathnormal mtight" style="margin-right:0.05764em;">S</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ§</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7335em;vertical-align:-0.0391em;"></span><span class="mord">âˆ€</span><span class="mord mathnormal">u</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mord mathnormal">u</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mclose">)}</span></span></span></span></p></li><li><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mo>Ã·</mo><mi>S</mi><mo>=</mo><msub><mi mathvariant="normal">Î </mi><mrow><mi>R</mi><mo>âˆ’</mo><mi>S</mi></mrow></msub><mo stretchy="false">(</mo><mi>R</mi><mo stretchy="false">)</mo><mo>âˆ’</mo><msub><mi mathvariant="normal">Î </mi><mrow><mi>R</mi><mo>âˆ’</mo><mi>S</mi></mrow></msub><mo stretchy="false">(</mo><mo stretchy="false">(</mo><msub><mi mathvariant="normal">Î </mi><mrow><mi>R</mi><mo>âˆ’</mo><mi>S</mi></mrow></msub><mo stretchy="false">(</mo><mi>R</mi><mo stretchy="false">)</mo><mo>Ã—</mo><mi>S</mi><mo stretchy="false">)</mo><mo>âˆ’</mo><mi>R</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">R\div S=\Pi_{R-S}(R)-\Pi_{R-S}((\Pi_{R-S}(R)\times S)-R)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">Ã·</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord">Î </span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span><span class="mbin mtight">âˆ’</span><span class="mord mathnormal mtight" style="margin-right:0.05764em;">S</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord">Î </span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span><span class="mbin mtight">âˆ’</span><span class="mord mathnormal mtight" style="margin-right:0.05764em;">S</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mopen">((</span><span class="mord"><span class="mord">Î </span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span><span class="mbin mtight">âˆ’</span><span class="mord mathnormal mtight" style="margin-right:0.05764em;">S</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mclose">)</span></span></span></span></p><blockquote><p>å¦‚ä½•è®°å¿†ï¼Ÿ</p><ul><li>å·®è¿ç®—ä¿è¯å¹¶ç›¸å®¹æ€§ï¼Œæ‰€ä»¥æŠ•å½±çš„æ˜¯ <code>R-S</code>ä¸­çš„å±æ€§</li><li>é€šè¿‡ <code>å·®R</code>çš„æ“ä½œæ‰¾åˆ°è¿æ¥åä¸åœ¨Rä¸­çš„å…ƒç»„</li></ul></blockquote></li></ul></li><li><p>åº”ç”¨ï¼šå¸¦æœ‰â€œå…¨éƒ¨â€ã€â€œæ‰€æœ‰â€å­—æ ·çš„æ£€ç´¢</p><blockquote><p>â€œå…¨éƒ¨â€ä½“ç°åœ¨**â€œå•†â€ä¸Sä¸­å…ƒç»„è¿æ¥å…¨éƒ¨éƒ½åœ¨Rä¸­**</p></blockquote></li></ul></li><li><p>**å¤–è¿æ¥ï¼ˆOuter-Joinï¼‰**æ“ä½œ</p><ul><li><p>æ¦‚å¿µï¼šä¸¤ä¸ªå…³ç³»è¿æ¥æ—¶ï¼Œè‹¥æ— åŒ¹é…å…ƒç»„ï¼Œåˆ™ä¸<strong>å…¨ä¸ºç©ºå€¼</strong>çš„æ¬¡å…³ç³»å…ƒç»„è¿æ¥</p><blockquote><p>æ˜¯å¯¹<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Î¸</mi><mo>âˆ’</mo></mrow><annotation encoding="application/x-tex">\theta-</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">Î¸</span><span class="mord">âˆ’</span></span></span></span>è¿æ¥ï¼ˆInner-Joinï¼‰çš„æ‰©å±•</p></blockquote></li><li><p>å¤–è¿æ¥çš„å½¢å¼ï¼šå¤–è¿æ¥ = è‡ªç„¶è¿æ¥ï¼ˆæˆ–<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Î¸</mi><mo>âˆ’</mo></mrow><annotation encoding="application/x-tex">\theta-</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">Î¸</span><span class="mord">âˆ’</span></span></span></span>è¿æ¥ï¼‰+ å¤±é…å…ƒç»„ï¼ˆä¸<strong>å…¨ç©ºå…ƒç»„</strong>çš„è¿æ¥ï¼‰</p><ul><li><p>å·¦å¤–è¿æ¥ = è‡ªç„¶è¿æ¥ï¼ˆæˆ–<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Î¸</mi><mo>âˆ’</mo></mrow><annotation encoding="application/x-tex">\theta-</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">Î¸</span><span class="mord">âˆ’</span></span></span></span>è¿æ¥ï¼‰+ å·¦ä¾§è¡¨å¤±é…å…ƒç»„ï¼ˆä¸å³ä¾§è¡¨å…¨ç©ºå…ƒç»„çš„è¿æ¥ï¼‰</p><blockquote><p>Left Outer Join, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>=</mo><mo>â‹ˆ</mo></mrow><annotation encoding="application/x-tex">=\bowtie</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.51em;vertical-align:-0.005em;"></span><span class="mrel">=â‹ˆ</span></span></span></span></p></blockquote></li><li><p>å³å¤–è¿æ¥ = è‡ªç„¶è¿æ¥ï¼ˆæˆ–<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Î¸</mi><mo>âˆ’</mo></mrow><annotation encoding="application/x-tex">\theta-</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">Î¸</span><span class="mord">âˆ’</span></span></span></span>è¿æ¥ï¼‰+ å³ä¾§è¡¨å¤±é…å…ƒç»„ï¼ˆä¸å·¦ä¾§è¡¨å…¨ç©ºå…ƒç»„çš„è¿æ¥ï¼‰</p><blockquote><p>Right Outer Join, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â‹ˆ</mo><mo>=</mo></mrow><annotation encoding="application/x-tex">\bowtie=</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.51em;vertical-align:-0.005em;"></span><span class="mrel">â‹ˆ=</span></span></span></span></p></blockquote></li><li><p>å…¨å¤–è¿æ¥ = è‡ªç„¶è¿æ¥ï¼ˆæˆ–<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Î¸</mi><mo>âˆ’</mo></mrow><annotation encoding="application/x-tex">\theta-</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">Î¸</span><span class="mord">âˆ’</span></span></span></span>è¿æ¥ï¼‰+ ä¸¤ä¾§è¡¨å¤±é…å…ƒç»„ï¼ˆä¸å¯¹ä¾§è¡¨å…¨ç©ºå…ƒç»„çš„è¿æ¥ï¼‰</p><blockquote><p>Full Outer Join, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>=</mo><mo>â‹ˆ</mo><mo>=</mo></mrow><annotation encoding="application/x-tex">=\bowtie=</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.51em;vertical-align:-0.005em;"></span><span class="mrel">=â‹ˆ=</span></span></span></span></p></blockquote></li></ul></li><li><p>åº”ç”¨ï¼šé¿å…è¿æ¥æ—¶ä¸¢å¤±å…ƒç»„ä¿¡æ¯</p></li></ul></li></ul><hr><h4 id="å…³ç³»ä»£æ•°æ“ä½œçš„åº”ç”¨ç»éªŒ" tabindex="-1"><a class="header-anchor" href="#å…³ç³»ä»£æ•°æ“ä½œçš„åº”ç”¨ç»éªŒ" aria-hidden="true">#</a> <em>å…³ç³»ä»£æ•°æ“ä½œçš„åº”ç”¨ç»éªŒï¼š</em></h4><ul><li>åŸºæœ¬æ“ä½œçš„ä¹¦å†™æ€è·¯/é›†åˆæ€ç»´ <ol><li>å…ˆå†™å‡º <code>R</code>ï¼Œå³æ‰¾å‡ºè¦æ“ä½œçš„å…³ç³»</li><li>å†™<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Ïƒ</mi><mrow><mi>c</mi><mi>o</mi><mi>n</mi></mrow></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\sigma_{con}()</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">co</span><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span></span></span></span>ï¼Œå³è¿›è¡Œ<strong>é€‰æ‹©</strong>è¿ç®—ä¿ç•™æ‰€éœ€çš„è¡Œ/å…ƒç»„</li><li>å†™<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="normal">Î </mi><mrow><msub><mi>A</mi><mrow><mi>i</mi><mn>1</mn></mrow></msub><mo separator="true">,</mo><msub><mi>A</mi><mrow><mi>i</mi><mn>2</mn></mrow></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>A</mi><mrow><mi>i</mi><mi>k</mi></mrow></msub></mrow></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\Pi_{A_{i1},A_{i2},...,A_{ik}}()</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord">Î </span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3281em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mpunct mtight">,</span><span class="mord mtight"><span class="mord mathnormal mtight">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3281em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mpunct mtight">,</span><span class="mord mtight">...</span><span class="mpunct mtight">,</span><span class="mord mtight"><span class="mord mathnormal mtight">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3488em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">ik</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1512em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span></span></span></span>ï¼Œå³è¿›è¡ŒæŠ•å½±è¿ç®—ä¿ç•™æ‰€éœ€çš„çš„åˆ—/å±æ€§</li><li>è¿›è¡Œ<strong>å¹¶å·®ç§¯äº¤</strong>è¿ç®—</li></ol></li><li>æ‰©å±•æ“ä½œç›¸å…³æ€è·¯ <ul><li>æ¶‰åŠ<strong>å¤šè¡¨</strong>æ—¶æ‰éœ€è¦è€ƒè™‘æ‰©å±•æ“ä½œ</li><li>åœ¨<strong>è¿æ¥</strong>æ­¥éª¤ä¸­ï¼Œä¾æ¬¡å°è¯•ä¸‹åˆ—æ“ä½œï¼Œç›´åˆ°æ»¡è¶³éœ€æ±‚ <ol><li>è‡ªç„¶è¿æ¥</li><li>ç­‰å€¼è¿æ¥ä¸<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Î¸</mi><mo>âˆ’</mo></mrow><annotation encoding="application/x-tex">\theta-</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">Î¸</span><span class="mord">âˆ’</span></span></span></span>è¿æ¥</li><li>å¹¿ä¹‰ç¬›å¡å°”ç§¯</li></ol></li></ul></li></ul><h2 id="_3-database-language-sql" tabindex="-1"><a class="header-anchor" href="#_3-database-language-sql" aria-hidden="true">#</a> 3 Database Language - SQL</h2><h3 id="_3-1-basic-sql" tabindex="-1"><a class="header-anchor" href="#_3-1-basic-sql" aria-hidden="true">#</a> 3.1 Basic SQL</h3><h4 id="overview" tabindex="-1"><a class="header-anchor" href="#overview" aria-hidden="true">#</a> <em>Overviewï¼š</em></h4><ul><li><u>Proposal &amp; Development:</u><ol><li>1975 - 1979: SQL</li><li>1992: <strong>SQL-92 / SQL2</strong><ul><li><strong>Standard</strong> relation database language</li></ul></li><li>1999: SQL-99 / SQL3 <ul><li>Object-oriented: row object and column object ...</li></ul></li></ol></li><li><u>Functions:</u><ul><li><p><em>DDL</em>: <code>Create</code>, <code>Alter</code>, <code>Drop</code></p><ul><li>Definition and removal of schema, including <strong>DB, table, view, index, integrity constraint, ...</strong></li></ul></li><li><p><em>DML</em>: <code>Insert</code>, <code>Delete</code>, <code>Update</code>, <code>Select</code></p><ul><li><strong>Query, update, aggregate operation</strong></li></ul></li><li><p><em>DCL</em>: <code>Grant</code>, <code>Revoke</code></p><ul><li><strong>Security</strong> control</li></ul></li></ul></li></ul><hr><h4 id="sql-manipulating-database" tabindex="-1"><a class="header-anchor" href="#sql-manipulating-database" aria-hidden="true">#</a> <em>SQL Manipulating Databaseï¼š</em></h4><ul><li><p><u>Set up database:</u></p><ol><li><p>Create database:</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">database</span> databaseName<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>Specify database:</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">use</span> databaseName<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>Many DBMS allows operating multiple databases</li></ul></li><li><p><strong>Create table</strong>:</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> tableName<span class="token punctuation">(</span>
    columnName dataType <span class="token punctuation">[</span><span class="token keyword">Default</span> defaultValue<span class="token operator">|</span><span class="token boolean">NULL</span><span class="token punctuation">]</span> <span class="token punctuation">[</span>ColumnIntegrityConstraints<span class="token punctuation">]</span>
    <span class="token punctuation">[</span><span class="token punctuation">,</span> columnName dataType <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span>
    <span class="token punctuation">[</span><span class="token punctuation">,</span> TableIntegrityConstraints<span class="token punctuation">]</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><p><code>dataType</code>: <code>char(n) varchar(n) int numeric(p, q) real date time ...</code></p><ul><li><code>Varchar(n)</code></li><li><code>Number(n)</code></li></ul></li><li><p><code>Default</code></p></li><li><p><code>ColumnIntegrityConstraints</code></p></li><li><p><code>TableIntegrityConstraints</code></p></li></ul><blockquote><p><code>create data</code> can define <strong>schema, integrity constraints and physical storage</strong></p></blockquote></li><li><p>(Append records into table: explained below ...)</p></li><li><p>(Close database: <code>close databaseName</code>)</p></li></ol></li><li><p><u>Amend database:</u></p><ul><li><p>Amend table:</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">alter</span> <span class="token keyword">table</span> tableName
<span class="token keyword">add</span> columnName dataType<span class="token punctuation">[</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token operator">|</span>
<span class="token keyword">drop</span> columnName<span class="token punctuation">[</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token operator">|</span>
<span class="token keyword">modify</span> columnName dataType<span class="token punctuation">[</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>Add new columns</li><li>Drop integrity constraints (explained below ...)</li><li>Modify definition of columns</li></ul></li><li><p>Drop table:</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">Drop</span> <span class="token keyword">Table</span> tableName <span class="token punctuation">[</span><span class="token keyword">Restrict</span><span class="token operator">|</span><span class="token keyword">Cascade</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li><p><code>drop</code> revoke the whole table, including <strong>schema, records and views</strong> from this table</p><blockquote><p>But <code>delete from</code> only deletes the records</p></blockquote></li><li><p><code>Restrict</code>: deny dropping if referred by foreign key, view, ...</p></li></ul></li><li><p>Drop database:</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">drop</span> <span class="token keyword">database</span> databaseName
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ul></li></ul><hr><h4 id="sql-manipulating-table" tabindex="-1"><a class="header-anchor" href="#sql-manipulating-table" aria-hidden="true">#</a> <em>SQL Manipulating Tableï¼š</em></h4><ul><li><p><u>Single table query:</u></p><ul><li><p>Simple query:</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">Select</span> columnName<span class="token punctuation">[</span><span class="token punctuation">,</span> columnName <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span>
<span class="token keyword">From</span> tableName
<span class="token punctuation">[</span><span class="token keyword">Where</span> queryCondition<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><p>Math description:</p><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>Ï€</mi><mrow><mi>c</mi><mi>o</mi><mi>l</mi><mi>u</mi><mi>m</mi><mi>n</mi><mi>N</mi><mi>a</mi><mi>m</mi><mi>e</mi><mo stretchy="false">[</mo><mo separator="true">,</mo><mi>c</mi><mi>o</mi><mi>l</mi><mi>u</mi><mi>m</mi><mi>n</mi><mi>N</mi><mi>a</mi><mi>m</mi><mi>e</mi><mo stretchy="false">]</mo></mrow></msub><mo stretchy="false">(</mo><msub><mi>Ïƒ</mi><mrow><mi>q</mi><mi>u</mi><mi>e</mi><mi>r</mi><mi>y</mi><mi>C</mi><mi>o</mi><mi>n</mi><mi>d</mi><mi>i</mi><mi>t</mi><mi>i</mi><mi>o</mi><mi>n</mi></mrow></msub><mo stretchy="false">(</mo><mi>t</mi><mi>a</mi><mi>b</mi><mi>l</mi><mi>e</mi><mi>N</mi><mi>a</mi><mi>m</mi><mi>e</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex"> \pi_{columnName[,columnName]}(\sigma_{queryCondition}(tableName)) </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1052em;vertical-align:-0.3552em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">Ï€</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.5198em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">co</span><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight">mn</span><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span><span class="mord mathnormal mtight">am</span><span class="mord mathnormal mtight">e</span><span class="mopen mtight">[</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">co</span><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight">mn</span><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span><span class="mord mathnormal mtight">am</span><span class="mord mathnormal mtight">e</span><span class="mclose mtight">]</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3552em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">q</span><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">ery</span><span class="mord mathnormal mtight" style="margin-right:0.07153em;">C</span><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight">n</span><span class="mord mathnormal mtight">d</span><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">t</span><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mord mathnormal">ab</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">e</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mord mathnormal">am</span><span class="mord mathnormal">e</span><span class="mclose">))</span></span></span></span></span></p></li><li><p>Clause: <code>Select From Where</code> and components after are called as their <strong>clauses</strong></p><blockquote><p>The whole query statement can be a <strong>subquery</strong> in a larger statementâ€™s clause</p></blockquote></li><li><p><code>queryCondition</code>: Just like conditions below <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Ïƒ</mi></mrow><annotation encoding="application/x-tex">\sigma</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">Ïƒ</span></span></span></span>, use <code>and or not</code>, notice <strong>operator precedence</strong> and comprehension of natural <strong>semantic</strong> meaning</p></li></ul></li><li><p>Duplicate removal query:</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">Select</span> <span class="token keyword">DISTINCT</span> columnName<span class="token punctuation">[</span><span class="token punctuation">,</span> columnName <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span>
<span class="token keyword">From</span> tableName
<span class="token punctuation">[</span><span class="token keyword">Where</span> queryCondition<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><p><code>DISTINCT</code>: DBMS allow <strong>duplicate</strong> records in <strong>query result</strong>, which can be removed by <code>DISTINCT</code></p><blockquote><p><strong>Duplicate</strong> records in <strong>table</strong> can be removed by <code>Primary key</code> and <code>Unique</code></p></blockquote></li></ul></li><li><p>Sorting query:</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">Select</span> columnName<span class="token punctuation">[</span><span class="token punctuation">,</span> columnName <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span>
<span class="token keyword">From</span> tableName
<span class="token punctuation">[</span><span class="token keyword">Where</span> queryCondition<span class="token punctuation">]</span>
<span class="token keyword">order</span> <span class="token keyword">by</span> columnName <span class="token punctuation">[</span><span class="token keyword">asc</span><span class="token operator">|</span><span class="token keyword">desc</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>order by</code>: Query result are sorted by <code>columnName</code> according to specified order, <strong>ascending</strong> if omitted</li></ul></li><li><p>Fuzzy query:</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">Select</span> columnName<span class="token punctuation">[</span><span class="token punctuation">,</span> columnName <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span>
<span class="token keyword">From</span> tableName
<span class="token keyword">Where</span> columnName <span class="token punctuation">[</span><span class="token operator">not</span> <span class="token punctuation">]</span><span class="token operator">like</span> <span class="token string">&quot;regex&quot;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><p><code>%</code>: Match zero to multiple characters</p></li><li><p><code>_</code>: Match one character</p><blockquote><p>Sometimes we use two <code>_</code> to represent one Chinese character</p></blockquote></li><li><p><code>\</code>: escape character</p></li></ul></li></ul></li><li><p><u>Multi-table joint query:</u></p><ul><li><p>Simple join:</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">Select</span> columnName<span class="token punctuation">[</span><span class="token punctuation">,</span> columnName <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span>
<span class="token keyword">From</span> tableName1<span class="token punctuation">,</span> tableName2<span class="token punctuation">[</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token keyword">Where</span> queryCondition<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><p>Math description:</p><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>Ï€</mi><mrow><mi>c</mi><mi>o</mi><mi>l</mi><mi>u</mi><mi>m</mi><mi>n</mi><mi>N</mi><mi>a</mi><mi>m</mi><mi>e</mi><mo stretchy="false">[</mo><mo separator="true">,</mo><mi>c</mi><mi>o</mi><mi>l</mi><mi>u</mi><mi>m</mi><mi>n</mi><mi>N</mi><mi>a</mi><mi>m</mi><mi>e</mi><mo stretchy="false">]</mo></mrow></msub><mo stretchy="false">(</mo><msub><mi>Ïƒ</mi><mrow><mi>q</mi><mi>u</mi><mi>e</mi><mi>r</mi><mi>y</mi><mi>C</mi><mi>o</mi><mi>n</mi><mi>d</mi><mi>i</mi><mi>t</mi><mi>i</mi><mi>o</mi><mi>n</mi></mrow></msub><mo stretchy="false">(</mo><mi>t</mi><mi>a</mi><mi>b</mi><mi>l</mi><mi>e</mi><mi>N</mi><mi>a</mi><mi>m</mi><mi>e</mi><mn>1</mn><mo>Ã—</mo><mi>t</mi><mi>a</mi><mi>b</mi><mi>l</mi><mi>e</mi><mi>N</mi><mi>a</mi><mi>m</mi><mi>e</mi><mn>2</mn><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex"> \pi_{columnName[,columnName]}(\sigma_{queryCondition}(tableName1\times tableName2)) </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1052em;vertical-align:-0.3552em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">Ï€</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.5198em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">co</span><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight">mn</span><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span><span class="mord mathnormal mtight">am</span><span class="mord mathnormal mtight">e</span><span class="mopen mtight">[</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">co</span><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight">mn</span><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span><span class="mord mathnormal mtight">am</span><span class="mord mathnormal mtight">e</span><span class="mclose mtight">]</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3552em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">q</span><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">ery</span><span class="mord mathnormal mtight" style="margin-right:0.07153em;">C</span><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight">n</span><span class="mord mathnormal mtight">d</span><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">t</span><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mord mathnormal">ab</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">e</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mord mathnormal">am</span><span class="mord mathnormal">e</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">t</span><span class="mord mathnormal">ab</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">e</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mord mathnormal">am</span><span class="mord mathnormal">e</span><span class="mord">2</span><span class="mclose">))</span></span></span></span></span></p></li><li><p><code>columnName</code>: <code>tableName.attributeName</code> can be used to specify an <strong>attribute</strong> in <code>select</code></p></li><li><p><code>queryCondition</code>: <strong>Join condition</strong> should be contained</p><blockquote><p>But in this way, <strong>join condition screening</strong> will be done after <strong>Cartesian product</strong> in <code>from</code>, which has lower efficiency than <code>join</code> keyword</p></blockquote></li></ul></li><li><p>Table alias:</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">Select</span> columnName<span class="token punctuation">[</span><span class="token punctuation">,</span> columnName <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span>
<span class="token keyword">From</span> tableName1 <span class="token punctuation">[</span><span class="token keyword">as</span><span class="token punctuation">]</span> alias1<span class="token punctuation">,</span> tableName2 <span class="token punctuation">[</span><span class="token keyword">as</span><span class="token punctuation">]</span> alias2<span class="token punctuation">[</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token keyword">Where</span> queryCondition<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>Alias can be used to <strong>specify attributes</strong>, simplify long table name</li></ul></li></ul></li><li><p><u>Table update:</u></p><ul><li><p>Append records into table:</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">insert</span> <span class="token keyword">into</span> tableName<span class="token punctuation">[</span><span class="token punctuation">(</span>columnName<span class="token punctuation">[</span><span class="token punctuation">,</span> columnName <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token keyword">values</span><span class="token punctuation">(</span>columnValue<span class="token punctuation">[</span><span class="token punctuation">,</span> columnValue <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> tableName<span class="token punctuation">[</span><span class="token punctuation">(</span>columnName<span class="token punctuation">[</span><span class="token punctuation">,</span> columnName <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
subquery<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>columnValue</code>s should stay the same order as <code>columnName</code>s <ul><li>If <code>columnName</code>s are omitted, <code>columnValue</code>s should stay the same order as all the columns in table</li></ul></li><li><code>subquery</code> is the query result of a query statement</li><li><strong>Integrity constraint</strong>: DBMS automatically check integrity constraints and prevent inserting operations against constraints</li></ul></li><li><p>Delete records from table:</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">Delete</span> <span class="token keyword">from</span> tableName
<span class="token punctuation">[</span><span class="token keyword">Where</span> deleteCondition<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>deleteCondition</code>: If omitted, all the records will be deleted</li><li><strong>Integrity constraint</strong>: DBMS automatically check integrity constraints and prevent deleting operations against constraints</li></ul></li><li><p>Update <strong>attribute value</strong> of records in table:</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">Update</span> tableName
<span class="token keyword">Set</span> columnName <span class="token operator">=</span> expression <span class="token operator">|</span> <span class="token punctuation">(</span>subquery<span class="token punctuation">)</span>
	<span class="token punctuation">[</span><span class="token punctuation">,</span> columnName <span class="token operator">=</span> expression <span class="token operator">|</span> <span class="token punctuation">(</span>subquery<span class="token punctuation">)</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token keyword">Where</span> updateCondition<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>updateCondition</code>: If omitted, all the records will be updated</li><li><strong>Integrity constraint</strong>: DBMS automatically check integrity constraints and prevent updating operations against constraints</li></ul></li></ul></li></ul><h3 id="_3-2-extended-sql-view" tabindex="-1"><a class="header-anchor" href="#_3-2-extended-sql-view" aria-hidden="true">#</a> 3.2 Extended SQL &amp; View</h3><h4 id="subquery-in-where" tabindex="-1"><a class="header-anchor" href="#subquery-in-where" aria-hidden="true">#</a> <em>Subquery in Whereï¼š</em></h4><ul><li><p><u>Overview:</u></p><ul><li><p>Definition: <strong><code>select</code> statement</strong> in <strong><code>where</code> clause</strong>, part of <strong>query condition</strong></p></li><li><p>Function: Return query result set , implement various <strong>set operations</strong></p><ul><li>Set member qualification</li><li>Set comparison</li><li>Set cardinality test</li></ul></li><li><p>Subquery <strong>correlation</strong>: <code>select</code> statement with subquery can be divided into the <strong>inner and outer layers</strong></p><ul><li><p>Non-related subquery: The inner query is independent</p><blockquote><p>In this case, the inner query executes only once, which is more efficient</p></blockquote></li><li><p>Related subquery: The inner query is dependent on <strong>values of the outer query</strong></p><blockquote><p>In this case, the inner query executes multiple times along with <strong>outer query loop</strong> for the <strong>dependent values</strong>.</p><p>Itâ€™s better to try <strong>transforming</strong> related subquery into non-related subquery by adjust <strong>query condition</strong> to outer</p></blockquote></li></ul></li></ul></li><li><p><code>[not] in</code></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">Where</span> expression <span class="token punctuation">[</span><span class="token operator">not</span> <span class="token punctuation">]</span><span class="token operator">in</span> <span class="token punctuation">(</span>subquery<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li><p><code>expression</code>: a <strong>column name</strong>, a <strong>constant</strong> or their arithmetic operations</p></li><li><p>Semantics: Judge whether the <code>expression</code>&#39;s value is in the <code>subquery</code>&#39;s result set</p><blockquote><p>Naturally itâ€™s like multiple <code>or</code></p></blockquote></li></ul></li><li><p><code>Î¸-some/all</code></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">Where</span> expression Î¸ <span class="token keyword">some</span> <span class="token punctuation">(</span>subquery<span class="token punctuation">)</span>
<span class="token keyword">Where</span> expression Î¸ <span class="token keyword">all</span> <span class="token punctuation">(</span>subquery<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><p><code>Î¸</code>: comparison operator like <code>&lt; &gt; &lt;= &gt;= = &lt;&gt;</code></p></li><li><p>Semantics: Judge whether the <code>expression</code>&#39;s value satisfy <code>Î¸</code> comparison with <strong>someone or everyone</strong> of subquery result set</p><blockquote><p>The <strong>existential</strong> quantifier or the <strong>universal</strong> quantifier.</p><p>Equivalency:</p><ul><li><code>= some</code> is equivalent to <code>in</code></li><li><code>&lt;&gt; all</code> is equivalent to <code>not in</code></li></ul></blockquote></li></ul></li><li><p><code>[not] exists</code></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">Where</span> <span class="token punctuation">[</span><span class="token operator">not</span> <span class="token punctuation">]</span><span class="token keyword">exists</span> <span class="token punctuation">(</span>subquery<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li><p>Semantics: Judge whether the <code>subquery</code>&#39;s result set is empty</p><blockquote><p>Always used in â€œallâ€ condition, which can be explained by â€œIt does <strong>not exist</strong> that there is <strong>something not</strong> doing or doneâ€, <strong>double negation</strong></p></blockquote></li><li><p>Subquery train of thoughtsï¼š</p><ol><li>Find the projected <strong>attributes</strong> and related <strong>tables</strong> for the outer layer</li><li><strong>Divide query conditions</strong>. If subquery is required, find new projected attributes and related tables layer by layer, and then continue dividing query conditions</li></ol></li></ul></li></ul><hr><h4 id="grouping-aggregation" tabindex="-1"><a class="header-anchor" href="#grouping-aggregation" aria-hidden="true">#</a> <em>Grouping &amp; Aggregationï¼š</em></h4><ul><li><p><u>Arithmetic operations &amp; Aggregation functions:</u></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">Select</span> columnName<span class="token operator">|</span>expression<span class="token operator">|</span>agfunc<span class="token punctuation">(</span>columnName<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">,</span> columnName<span class="token operator">|</span>expression<span class="token operator">|</span>agfunc<span class="token punctuation">(</span>columnName<span class="token punctuation">)</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span>
<span class="token keyword">From</span> tableName1<span class="token punctuation">[</span><span class="token punctuation">,</span> tableName2 <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token keyword">Where</span> queryCondition<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>agfunc</code>: Aggregation function like <code>Count() Sum() AVG() Max() Min()</code></li><li><code>expression</code>: a <strong>column name</strong>, a <strong>constant</strong> or their <strong>arithmetic</strong> operations including <strong>aggregation</strong> functions</li></ul></li><li><p><u>Grouping query:</u></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">Select</span> columnName<span class="token operator">|</span>expression<span class="token operator">|</span>agfunc<span class="token punctuation">(</span>columnName<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">,</span> columnName<span class="token operator">|</span>expression<span class="token operator">|</span>agfunc<span class="token punctuation">(</span>columnName<span class="token punctuation">)</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span>
<span class="token keyword">From</span> tableName1<span class="token punctuation">[</span><span class="token punctuation">,</span> tableName2 <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token keyword">Where</span> queryCondition<span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token keyword">Group</span> <span class="token keyword">by</span> groupCondition<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>groupCondition</code>: one or multiple column name(s) divided by <code>,</code></li><li>Semantics: Classify query result sets by some attribute. Records having <strong>the same attribute value</strong> are grouped into the same group, so SQL can process multiple groups at the same time.</li></ul></li><li><p><u>Grouping filter:</u></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">Select</span> columnName<span class="token operator">|</span>expression<span class="token operator">|</span>agfunc<span class="token punctuation">(</span>columnName<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">,</span> columnName<span class="token operator">|</span>expression<span class="token operator">|</span>agfunc<span class="token punctuation">(</span>columnName<span class="token punctuation">)</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span>
<span class="token keyword">From</span> tableName1<span class="token punctuation">[</span><span class="token punctuation">,</span> tableName2 <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token keyword">Where</span> queryCondition<span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token keyword">Group</span> <span class="token keyword">by</span> groupCondition <span class="token punctuation">[</span><span class="token keyword">Having</span> groupFilterCondition<span class="token punctuation">]</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><p><code>Having</code> clause: Also called grouping filter clause, appear with <code>Group by</code>, filter out <strong>groups</strong> satisfying the <code>groupFilterCondition</code></p><blockquote><p>Only grouping related attribute(s), constants and their arithmetic operations are allowed in <code>groupFilterCondition</code></p></blockquote><blockquote><p>Aggregation operations are not allowed in <code>Where</code> clause, for <strong>groups are not formed</strong> when <code>Where</code> clause is executing</p></blockquote></li></ul></li></ul><hr><h4 id="relation-algebra-operations" tabindex="-1"><a class="header-anchor" href="#relation-algebra-operations" aria-hidden="true">#</a> <em>Relation Algebra Operationsï¼š</em></h4><ul><li><p><u><code>union intersect except</code>:</u></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code>subquery <span class="token punctuation">[</span><span class="token keyword">Union</span> <span class="token punctuation">[</span><span class="token keyword">All</span><span class="token punctuation">]</span> <span class="token operator">|</span> <span class="token keyword">Intersect</span> <span class="token punctuation">[</span><span class="token keyword">All</span><span class="token punctuation">]</span> <span class="token operator">|</span> <span class="token keyword">Except</span><span class="token punctuation">[</span><span class="token keyword">All</span><span class="token punctuation">]</span> subquery<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li><p><code>subquery</code>: A <code>select</code> statement</p></li><li><p><code>All</code>: If not set, â€œduplicateâ€ records will be removed.</p><p>Assume that a same record appears <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">m</span></span></span></span> times in <code>subquery1</code>, appears <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> times in <code>subquery2</code>, then:</p><ul><li>Appears <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mo>+</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">m+n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> times in <code>subquery1 Union All subquery2</code></li><li>Appears <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mi>i</mi><mi>n</mi><mo stretchy="false">(</mo><mi>m</mi><mo separator="true">,</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">min(m,n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">min</span><span class="mopen">(</span><span class="mord mathnormal">m</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span> times in <code>subquery1 Intersect All subquery2</code></li><li>Appears <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mi>a</mi><mi>x</mi><mo stretchy="false">(</mo><mn>0</mn><mo separator="true">,</mo><mi>m</mi><mo>âˆ’</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">max(0, m-n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">ma</span><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span> times in <code>subquery1 Except All subquery2</code></li></ul></li><li><p>Semantics: Relation algebra operation between subquery results</p><blockquote><p>Sometimes <strong>relation algebra operations</strong> can be substituted by <strong>logic operations and subquery</strong>:</p><ul><li><code>union</code> and <code>or</code>: <code>union</code> have a <strong>better expression</strong> ability than <code>or</code></li><li><code>intersect</code> and <code>and</code>: <code>intersect</code> has the same expression ability with <code>and</code>, but is <strong>more concise</strong></li><li><code>except</code> and <code>not in | not exists</code>: <code>except</code> has the same expression ability, but is <strong>more concise</strong></li></ul></blockquote></li></ul></li><li><p><u>Null value problem</u>:</p><ul><li><p>Null value detection:</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">Where</span> columnName <span class="token operator">is</span> <span class="token punctuation">[</span><span class="token operator">not</span><span class="token punctuation">]</span> <span class="token boolean">null</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li><p><code>null</code>: Judge whether the attribute value is null</p><blockquote><p>Notice that it canâ€™t be written as <code>= null</code>, for <code>null</code> canâ€™t be operated simply</p></blockquote></li></ul></li><li><p>Null value operations:</p><ul><li><code>null</code> doesnâ€™t satisfy any <strong>query condition</strong> except <code>is [not] null</code></li><li>The value of arithmetic expression is null if <code>null</code> is involved in operation</li><li>The value of logic expression is <code>false</code> if <code>null</code> is involved in operation</li><li>The aggregation function ignores <code>null</code> except <code>count(*)</code></li></ul></li></ul></li><li><p><u><code>Join</code> / Extension of <code>From</code>:</u></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">Select</span> columnName<span class="token punctuation">[</span><span class="token punctuation">,</span> columnName <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span>
<span class="token keyword">From</span> tableName1 
	<span class="token punctuation">[</span><span class="token keyword">natural</span><span class="token punctuation">]</span>
	<span class="token punctuation">[</span><span class="token keyword">Inner</span> <span class="token operator">|</span> <span class="token punctuation">[</span><span class="token keyword">Left</span><span class="token operator">|</span><span class="token keyword">Right</span><span class="token operator">|</span><span class="token keyword">Full</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token keyword">Outer</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token keyword">Join</span> tableName2
	<span class="token punctuation">[</span><span class="token keyword">On</span> joinCondition <span class="token operator">|</span> <span class="token keyword">Using</span><span class="token punctuation">(</span>columnName1<span class="token punctuation">[</span><span class="token punctuation">,</span> ColumnName2 <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token keyword">Where</span> queryCondition<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><p>Join semantics:</p><ul><li><p><code>Inner Join</code>: namely <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Î¸</mi><mo>âˆ’</mo><mi>J</mi><mi>o</mi><mi>i</mi><mi>n</mi></mrow><annotation encoding="application/x-tex">\theta-Join</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">Î¸</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="mord mathnormal">o</span><span class="mord mathnormal">in</span></span></span></span> in relation algebra.</p><blockquote><p>The default <code>Join</code> is <code>Inner Join</code></p></blockquote></li><li><p><code>Left Outer Join</code>: namely <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi><mi>e</mi><mi>f</mi><mi>t</mi><mtext>Â </mtext><mi>O</mi><mi>u</mi><mi>t</mi><mi>e</mi><mi>r</mi><mo>âˆ’</mo><mi>J</mi><mi>o</mi><mi>i</mi><mi>n</mi></mrow><annotation encoding="application/x-tex">Left~Outer-Join</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">L</span><span class="mord mathnormal">e</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord mathnormal">t</span><span class="mspace nobreak">Â </span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mord mathnormal">u</span><span class="mord mathnormal">t</span><span class="mord mathnormal" style="margin-right:0.02778em;">er</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="mord mathnormal">o</span><span class="mord mathnormal">in</span></span></span></span> in relation algebra.</p></li><li><p><code>Right Outer Join</code>: namely <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mi>i</mi><mi>g</mi><mi>h</mi><mi>t</mi><mtext>Â </mtext><mi>O</mi><mi>u</mi><mi>t</mi><mi>e</mi><mi>r</mi><mo>âˆ’</mo><mi>J</mi><mi>o</mi><mi>i</mi><mi>n</mi></mrow><annotation encoding="application/x-tex">Right~Outer-Join</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mord mathnormal">i</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">h</span><span class="mord mathnormal">t</span><span class="mspace nobreak">Â </span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mord mathnormal">u</span><span class="mord mathnormal">t</span><span class="mord mathnormal" style="margin-right:0.02778em;">er</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="mord mathnormal">o</span><span class="mord mathnormal">in</span></span></span></span> in relation algebra.</p></li><li><p><code>Full Outer Join</code>: namely <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi><mi>u</mi><mi>l</mi><mi>l</mi><mtext>Â </mtext><mi>O</mi><mi>u</mi><mi>t</mi><mi>e</mi><mi>r</mi><mo>âˆ’</mo><mi>J</mi><mi>o</mi><mi>i</mi><mi>n</mi></mrow><annotation encoding="application/x-tex">Full~Outer-Join</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mord mathnormal">u</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mspace nobreak">Â </span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mord mathnormal">u</span><span class="mord mathnormal">t</span><span class="mord mathnormal" style="margin-right:0.02778em;">er</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="mord mathnormal">o</span><span class="mord mathnormal">in</span></span></span></span> in relation algebra.</p></li></ul></li><li><p>Join conditions:</p><ul><li><code>Natural Join [Using(...)]</code>: namely <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mi>a</mi><mi>t</mi><mi>u</mi><mi>r</mi><mi>a</mi><mi>l</mi><mo>âˆ’</mo><mi>J</mi><mi>o</mi><mi>i</mi><mi>n</mi></mrow><annotation encoding="application/x-tex">Natural-Join</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mord mathnormal">a</span><span class="mord mathnormal">t</span><span class="mord mathnormal">u</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="mord mathnormal">o</span><span class="mord mathnormal">in</span></span></span></span> in relation algebra. <ul><li><code>Using(columnName1[, columnName2 ...])</code>: partial <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mi>a</mi><mi>t</mi><mi>u</mi><mi>r</mi><mi>a</mi><mi>l</mi><mo>âˆ’</mo><mi>J</mi><mi>o</mi><mi>i</mi><mi>n</mi></mrow><annotation encoding="application/x-tex">Natural-Join</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mord mathnormal">a</span><span class="mord mathnormal">t</span><span class="mord mathnormal">u</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="mord mathnormal">o</span><span class="mord mathnormal">in</span></span></span></span> with only subset of common attributes specified by <code>columnName</code></li></ul></li><li><code>On joinConidition</code>: simple join conditions</li></ul></li></ul></li></ul><hr><h4 id="view" tabindex="-1"><a class="header-anchor" href="#view" aria-hidden="true">#</a> <em>Viewï¼š</em></h4><ul><li><p>Concept &amp; Structure:</p><ul><li><p>Concept: <strong>View</strong> in SQL is the <strong>data</strong> of <em>external schema(external view)</em>, including <em>external schema</em> and <em>E-C mapping</em>, used to <strong>simplify query</strong></p><blockquote><p><strong>Table</strong> in SQL is <em>conceptual schema</em></p></blockquote></li><li><p>Structure: <strong>View</strong> in SQL actually just stores <em>E-C mapping</em> rather than including the data</p><blockquote><p><strong>Table</strong> in SQL stores the real data</p></blockquote></li></ul></li><li><p>Definition &amp; Dropping</p><ul><li><p>Definition:</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">Create</span> <span class="token keyword">View</span> viewName <span class="token punctuation">[</span>columnName<span class="token punctuation">[</span><span class="token punctuation">,</span> columnName <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
	<span class="token keyword">as</span> subquery <span class="token punctuation">[</span><span class="token keyword">with</span> <span class="token keyword">check</span> <span class="token keyword">option</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>columnName</code>: Default is attribute name in subquery result, or specify all the names explicitly</li><li><code>with check option</code>: Whether to check whether <strong>records satisfy conditions in subquery</strong> when <code>insert/update/delete</code> about view</li></ul></li><li><p>Drop:</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">Drop</span> <span class="token keyword">View</span> viewName
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ul></li><li><p>Query &amp; Update</p><ul><li><p>Query: Use view just like table in SQL for query</p><ul><li>Query in view in ultimately transformed into query in table, combining statements of creating view and query</li></ul></li><li><p>Update: Itâ€™s complex, and should follow some rules. Cases where update is not allowed:</p><ul><li>View statement contains <code>agfunc</code>, <code>Group by</code> or arithmetic operations</li><li>View statement contains <code>Distinct</code></li><li>View statement about a single table doesnâ€™t contain the primary key</li></ul><blockquote><p>Update in view in ultimately transformed into update in table</p></blockquote></li></ul></li></ul><h3 id="_3-3-database-integrity" tabindex="-1"><a class="header-anchor" href="#_3-3-database-integrity" aria-hidden="true">#</a> 3.3 Database Integrity</h3><h4 id="overview-1" tabindex="-1"><a class="header-anchor" href="#overview-1" aria-hidden="true">#</a> <em>Overviewï¼š</em></h4><ul><li><p><u><strong>Concept</strong> of Integrity &amp; <strong>Reasons</strong> of Integrity Problem:</u></p><ul><li><p>DB Integrity: A <strong>DB feature</strong> ensured by DBMS, that DB should maintain <strong>correctness, validity and consistency</strong> anytime</p><ul><li><p>Broad integrity: semantic integrity, concurrence control, security control, DB failure recovery</p></li><li><p>Narrow integrity: specifically <strong>semantic integrity</strong>, for which DBMS has special <strong>integrity management</strong> mechanism and programs</p><blockquote><p>For example, integrity constraints in relation model:</p><ul><li>Entity integrity</li><li>Referential integrity</li><li>User-Defined integrity</li></ul></blockquote></li></ul></li><li><p>DB Integrity problem <strong>reasons</strong>:</p><ul><li><strong>Wrong DB operations</strong>, like input error, operating error, program processing error</li></ul></li><li><p>Effect of DB <strong>Integrity management</strong>:</p><ul><li><p>Prevent and avoid <strong>unreasonable data</strong> in DB</p></li><li><p><strong>DBMS</strong> should prevent unreasonable semantics <strong>automatically</strong></p><blockquote><p>It is <strong>automation</strong> that DBMS should focus on, rather than user notice the integrity problems every time</p></blockquote></li></ul></li></ul></li><li><p><u>Implementation of Integrity:</u></p><ul><li><p><strong>Integrity constraint conditions/rules</strong>: <code>Integrity Constraint ::= (O, P, A, R)</code></p><ul><li>O: data set, <strong>constrained object</strong></li><li>P: predicate condition, <strong>what constraint</strong></li><li>A: trigger condition, <strong>when to check</strong> (default is when updating)</li><li>R: response action, <strong>how to do when unsatisfied</strong> (default is to decline)</li></ul><p>For <code>O</code>, check <code>P</code> when <code>A</code>, do <code>R</code> if unsatisfied</p><blockquote><p>Defined by SQL-DDL.</p><p><code>O</code> and <code>P</code> need to be defined explicitly, <code>A</code> and <code>R</code> can be default</p></blockquote></li><li><p><strong>Integrity control programs</strong>: DBMS automatically check integrity constraints to ensure semantic integrity when <strong>updating DB</strong></p></li></ul></li><li><p><u>Classification of Integrity:</u></p><ul><li><p>Classified by constraint <strong>object</strong>:</p><ul><li><strong>Domain</strong> integrity constraint: Check <strong>one column</strong> when updating</li><li><strong>Relation</strong> integrity constraint: Check <strong>multiple columns</strong> or the whole <strong>records</strong> (maybe between tables)</li></ul></li><li><p>Classified by constraint <strong>source</strong>:</p><ul><li><p><strong>Structure</strong> constraint: from model constraint</p><blockquote><p>For example, <strong>functional dependency constraint</strong>, primary key constraint, foreign key constraint,</p></blockquote></li><li><p><strong>Content</strong> constraint: from userâ€™s constraint, user-defined constraint</p><blockquote><p>For example, caring about <strong>value range</strong></p></blockquote></li></ul></li><li><p>Classified by constraint <strong>status</strong>:</p><ul><li><p><strong>Static</strong> constraint: satisfied by DB <strong>anytime</strong></p><blockquote><p>SQL support:</p><ul><li><strong>Column</strong> integrity (domain integrity constraint)</li><li><strong>Table</strong> integrity (relation integrity constraint)</li></ul></blockquote></li><li><p><strong>Dynamic</strong> constraint: satisfied by DB when <strong>transforming from one status to another</strong></p><blockquote><p>SQL support:</p><ul><li><strong>Trigger</strong></li></ul></blockquote></li></ul></li></ul></li></ul><hr><h4 id="static-integrity-in-sql" tabindex="-1"><a class="header-anchor" href="#static-integrity-in-sql" aria-hidden="true">#</a> <em>Static Integrity in SQLï¼š</em></h4><ul><li><p>SQL <strong>static</strong> constraint model:</p></li><li><p><code>Create Table</code>:</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">Create</span> <span class="token keyword">Table</span><span class="token punctuation">(</span>
    colName dataType <span class="token punctuation">[</span><span class="token keyword">Default</span> defaultVal<span class="token operator">|</span><span class="token boolean">NULL</span><span class="token punctuation">]</span>
    	<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token keyword">Constraint</span> colConsName<span class="token punctuation">]</span> ColumnIntegrityConstraints<span class="token punctuation">]</span>
    <span class="token punctuation">[</span><span class="token punctuation">,</span> colName <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span>
    <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token keyword">Constraint</span> tblConsName<span class="token punctuation">]</span> TableIntegrityConstraints<span class="token punctuation">]</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><p><code>ColumnIntegrityConstraints</code>: divided by <code></code> (space)</p><ul><li><p><code>Primary key</code>: primary key constraint, <strong>only one</strong> per table, check unique and null when update</p></li><li><p><code>Unique</code>: uniqueness constraint, namely <strong>candidate / alternative key</strong>, multiple per table</p></li><li><p><code>Not Null</code>: not null constraint, allow <strong>no null value</strong> in this column</p></li><li><p><code>Check(searchCondition)</code>:</p></li><li><p><code>References tableName[(colName)]</code>: full or partial primary key in referred table</p></li><li><p><code>On Delete|Update No Action|Cascade|Set Null</code> when updating referred table, not the table begin created</p><blockquote><p>If <code>insert</code> or <code>update</code> the table being created and the value is non-existent in the referred table, <strong>deny</strong></p></blockquote></li></ul></li><li><p><code>TableIntegrityConstraints</code></p><ul><li><code>,</code>:</li><li><code>Primary Key</code></li><li><code>Unique</code></li><li><code>Check</code></li><li><code>Foreign Key(colName, ...) References tableName</code>:</li></ul></li></ul></li><li><p><code>Alter Table</code>:</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">Alter</span> <span class="token keyword">Table</span> tblName
	<span class="token keyword">Add</span> <span class="token punctuation">(</span>colName <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token keyword">Constraint</span> colConsName<span class="token punctuation">]</span> tblCons<span class="token punctuation">]</span><span class="token punctuation">)</span>
	<span class="token operator">|</span> <span class="token keyword">Add</span> <span class="token keyword">Constraint</span> tblConsName
	<span class="token operator">|</span> <span class="token keyword">Drop</span> <span class="token keyword">Column</span> colName <span class="token punctuation">[</span><span class="token keyword">Cascade</span><span class="token operator">|</span><span class="token keyword">Restrict</span><span class="token punctuation">]</span>
	<span class="token operator">|</span> <span class="token keyword">Drop</span> <span class="token keyword">Constraint</span> consName <span class="token punctuation">[</span><span class="token keyword">Cascade</span><span class="token operator">|</span><span class="token keyword">Restrict</span><span class="token punctuation">]</span>
	<span class="token operator">|</span> <span class="token keyword">Drop</span> <span class="token keyword">Primary</span> <span class="token keyword">Key</span>
	<span class="token operator">|</span> <span class="token keyword">Modify</span> <span class="token punctuation">(</span>colName <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token keyword">Constraint</span> colConsName<span class="token punctuation">]</span> tblCons<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>Add</code></li><li><code>Drop</code></li><li><code>Modify</code></li><li><code>Restrict</code>: deny dropping if referred</li></ul></li><li><p><code>Create Assersion</code></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">Create</span> Assertion assertinoName <span class="token keyword">Check</span> predicate
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>Semantics: cross tables</li><li>Effects:</li></ul></li></ul><hr><h4 id="dynamic-integrity-in-sql" tabindex="-1"><a class="header-anchor" href="#dynamic-integrity-in-sql" aria-hidden="true">#</a> <em>Dynamic Integrity in SQLï¼š</em></h4><ul><li><p>SQL <strong>dynamic</strong> constraint model:</p></li><li><p><strong>Trigger</strong> overview</p></li><li><p><code>create trigger</code></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code></code></pre><div class="line-numbers" aria-hidden="true"></div></div><ul><li>Event</li><li>Alias</li></ul></li></ul><h3 id="_3-4-database-security" tabindex="-1"><a class="header-anchor" href="#_3-4-database-security" aria-hidden="true">#</a> 3.4 Database Security</h3><h4 id="overview-2" tabindex="-1"><a class="header-anchor" href="#overview-2" aria-hidden="true">#</a> <em>Overviewï¼š</em></h4><ul><li><p><u>Concept of Security</u>:</p><ul><li>security grade</li></ul></li><li><p><u>Classification of Security:</u></p><ul><li><strong>Discretionary</strong> security mechanism:</li><li><strong>Enforcing</strong> security mechanism:</li><li>Inference control mechanism</li><li>Data encryption storage mechanism</li></ul></li><li><p><u>DBA responsibilities and obligations about DB security:</u></p></li></ul><hr><h4 id="database-discretionary-security-mechanism" tabindex="-1"><a class="header-anchor" href="#database-discretionary-security-mechanism" aria-hidden="true">#</a> <em>Database Discretionary Security Mechanismï¼š</em></h4><ul><li><p><u>Concept:</u></p></li><li><p><u>DBMS <strong>Implementation</strong> of discretionary security:</u></p></li><li><p><u>Discretionary security access <strong>rule</strong> and implementation <strong>form</strong>:</u></p><ul><li>Rule: <code>AccessRule ::= (S, O, t, P)</code><ul><li><code>S</code> can do <code>t</code> to <code>O</code> if <code>P</code></li></ul></li><li>Forms: <ul><li>Storage matrix</li><li>View</li></ul></li></ul></li><li><p><u><strong>Process</strong> and <strong>problems</strong> of discretionary security <strong>authorization</strong>:</u></p><ul><li>Process</li><li>Problems <ul><li>Range</li><li>Revoking</li></ul></li></ul></li></ul><hr><h4 id="sql-implementation-of-discretionary-security" tabindex="-1"><a class="header-anchor" href="#sql-implementation-of-discretionary-security" aria-hidden="true">#</a> <em>SQL Implementation of Discretionary Securityï¼š</em></h4><ul><li><p><strong>User</strong> and <strong>authority</strong> in SQL</p><ul><li>Three levels of user <ul><li>relation</li><li>account</li><li>super</li></ul></li><li>Three levels of authority <ul><li>select <code>&lt;-&gt;</code> relation</li><li>modify <code>&lt;-&gt;</code> relation</li><li>create <code>&lt;-&gt;</code> account</li></ul></li></ul></li><li><p><code>grant</code></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">Grant</span> <span class="token keyword">All</span> <span class="token keyword">Privileges</span><span class="token operator">|</span>priv<span class="token punctuation">[</span><span class="token punctuation">,</span> priv <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span>
	<span class="token keyword">On</span> <span class="token punctuation">[</span><span class="token keyword">Table</span><span class="token punctuation">]</span> tblName<span class="token operator">|</span>viewName
	<span class="token keyword">To</span> <span class="token keyword">Public</span><span class="token operator">|</span><span class="token keyword">user</span><span class="token operator">-</span>id<span class="token punctuation">[</span><span class="token punctuation">,</span> <span class="token keyword">user</span><span class="token operator">-</span>id <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span>
	<span class="token punctuation">[</span><span class="token keyword">With</span> <span class="token keyword">Grant</span> <span class="token keyword">Option</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>View</li></ul></li><li><p><code>revoke</code></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">Revoke</span> <span class="token keyword">All</span> <span class="token keyword">Privileges</span><span class="token operator">|</span>priv<span class="token punctuation">[</span><span class="token punctuation">,</span> priv <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span>
	<span class="token keyword">On</span> tblName<span class="token operator">|</span>viewName
	<span class="token keyword">From</span> <span class="token keyword">Public</span><span class="token operator">|</span><span class="token keyword">user</span><span class="token punctuation">[</span><span class="token punctuation">,</span> <span class="token keyword">user</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><blockquote><p>Footnote: enforcing security mechanism</p></blockquote><h2 id="_4-data-modeling" tabindex="-1"><a class="header-anchor" href="#_4-data-modeling" aria-hidden="true">#</a> 4 Data Modeling</h2><h3 id="_4-1-three-worlds-with-levels-of-abstraction" tabindex="-1"><a class="header-anchor" href="#_4-1-three-worlds-with-levels-of-abstraction" aria-hidden="true">#</a> 4.1 Three Worlds With Levels of Abstraction</h3><h4 id="real-world" tabindex="-1"><a class="header-anchor" href="#real-world" aria-hidden="true">#</a> <em>Real world:</em></h4><ul><li><p><u>Abstraction level</u>: No Abstraction</p></li><li><p><u>Key</u> of this level: <strong>Demand</strong></p><ul><li><p><strong>Comprehension and Expression</strong> of demand</p></li><li><p>The kinds of demand:</p><ul><li><p><strong>Data</strong> demand</p><blockquote><p><strong>Data demand</strong> is even more essential</p></blockquote></li><li><p><strong>Processing Rules</strong> demand</p></li></ul></li></ul></li></ul><hr><h4 id="conceptual-information-world" tabindex="-1"><a class="header-anchor" href="#conceptual-information-world" aria-hidden="true">#</a> <em>Conceptual / Information world:</em></h4><ul><li><p><u>Ways abstracting</u> from <em>real world</em> to <em>conceptual world</em>: <strong>Data Modeling</strong></p></li><li><p><u>Abstraction level</u>: <strong>Conceptual</strong> Level</p></li><li><p><u>Key</u> of this level: <strong>Conceptual Data Model</strong></p><ul><li><p><strong>Concept</strong> of conceptual model: the model <strong>expressing information world</strong></p><blockquote><p>Conceptual model is short for conceptual data model</p></blockquote></li><li><p><strong>Independence</strong>: independent of <strong>computer system</strong></p></li><li><p>Representing the <strong>essential relationship of information</strong></p></li></ul></li></ul><hr><h4 id="data-computer-world" tabindex="-1"><a class="header-anchor" href="#data-computer-world" aria-hidden="true">#</a> <em>Data / Computer world:</em></h4><ul><li><u>Ways abstracting</u> from <em>conceptual world</em> to <em>computer world</em>: <strong>Database Design</strong></li><li><u>Abstraction level</u>: <strong>Implement</strong> Level</li><li><u>Key</u> of this level: <strong>Data Model</strong><ul><li><strong>Concept</strong> of data model: the model <strong>expressing computer world</strong></li><li><strong>Independence</strong>: independent of <strong>physical system</strong></li></ul></li><li>Two levels in computer world itself: <ul><li><strong>Logic level</strong>, which contains <strong>data model</strong></li><li><strong>Physical level</strong>, arrived from logic level</li></ul></li></ul><blockquote><p>Some thoughts about abstraction:</p><ul><li>Comprehend, Distinguish, Name, Express</li><li>Type &amp; Value <ul><li>Methodology and methodology application</li><li>Model and meta model</li></ul></li></ul></blockquote><h3 id="_4-2-entity-relationship-model" tabindex="-1"><a class="header-anchor" href="#_4-2-entity-relationship-model" aria-hidden="true">#</a> 4.2 Entity-Relationship Model</h3><h4 id="e-r-conceptual-framework" tabindex="-1"><a class="header-anchor" href="#e-r-conceptual-framework" aria-hidden="true">#</a> <em>E-R Conceptual Framework:</em></h4><ul><li><u>Basic view:</u></li><li><u>Entity:</u></li><li><u>Attribute &amp; Keyword:</u></li><li><u>Relationship:</u><ul><li>Degree:</li><li>Cardinality &amp; Role: <ul><li>1:m, specially 1:0 of 1:1</li><li>m:n, specially 0:0 of 1:1</li></ul></li></ul></li></ul><hr><h4 id="chen-method" tabindex="-1"><a class="header-anchor" href="#chen-method" aria-hidden="true">#</a> <em>Chen Method:</em></h4><ul><li><u>Basic components:</u><ul><li>Entity:</li><li>Attribute: <ul><li>Multi-value</li><li>Exported</li><li>Composite</li></ul></li><li>Keyword: <ul><li>Composite</li><li>Multi</li></ul></li><li>Relationship: <ul><li>Cardinality</li></ul></li><li>Connectivity <ul><li>Connection between entity and attribute(keyword)</li><li>Connection between relationship and entity</li><li>Connection between relationship and attribute(keyword)</li></ul></li></ul></li><li><u>Cardinality &amp; Role:</u></li><li><u>Data modeling steps with E-R diagram:</u></li></ul><hr><h4 id="crow-s-foot-method" tabindex="-1"><a class="header-anchor" href="#crow-s-foot-method" aria-hidden="true">#</a> <em>Crowâ€™s Foot Method:</em></h4><ul><li><u>Basic components:</u><ul><li>Entity</li><li>Attribute</li><li>Keyword</li><li>Relationship</li></ul></li><li><u>Cardinality &amp; Role:</u></li></ul><h3 id="_4-3-idef1x" tabindex="-1"><a class="header-anchor" href="#_4-3-idef1x" aria-hidden="true">#</a> 4.3 IDEF1x</h3><h4 id="conceptual-framework" tabindex="-1"><a class="header-anchor" href="#conceptual-framework" aria-hidden="true">#</a> <em>Conceptual Framework:</em></h4><ul><li><u>Concept:</u></li><li><u>IDEF1x vs E-R diagram:</u></li><li><u>Components:</u><ul><li>Relationship <ul><li>1:m attribute inheritance partial or full</li><li>m:n intersection entity</li></ul></li></ul></li></ul><hr><h4 id="entity-and-attribute" tabindex="-1"><a class="header-anchor" href="#entity-and-attribute" aria-hidden="true">#</a> <em>Entity and Attribute:</em></h4><ul><li><u>Entity:</u><ul><li>Identifier-Independent entity</li><li>Identifier-Dependent entity</li><li>Intersection entity</li></ul></li><li><u>Attribute:</u><ul><li>Primary key</li><li>Candidate / Alternate key</li><li>Foreign key</li><li>Non-prime attribute</li></ul></li></ul><hr><h4 id="connection-relationship" tabindex="-1"><a class="header-anchor" href="#connection-relationship" aria-hidden="true">#</a> <em>Connection Relationship:</em></h4><ul><li><u>Identifying connection relationship:</u></li><li><u>Non-identifying connection relationship:</u></li></ul><hr><h4 id="non-specific-relationship" tabindex="-1"><a class="header-anchor" href="#non-specific-relationship" aria-hidden="true">#</a> <em>Non-Specific Relationship:</em></h4><ul><li><u>Concept:</u></li><li><u>Intersection / Associative entity:</u><ul><li>Identifying or Non-identifying</li><li>Only one or multiple times / Whether to add sequence number in PK</li></ul></li></ul><hr><h4 id="categorization-relationship" tabindex="-1"><a class="header-anchor" href="#categorization-relationship" aria-hidden="true">#</a> <em>Categorization Relationship:</em></h4><ul><li><u>Concept:</u></li><li><u>Specialization &amp; Generalization:</u></li><li><u>Perfect &amp; Imperfect categorization:</u></li></ul><h2 id="_5-database-design" tabindex="-1"><a class="header-anchor" href="#_5-database-design" aria-hidden="true">#</a> 5 Database Design</h2><h3 id="_5-1-process-of-database-design" tabindex="-1"><a class="header-anchor" href="#_5-1-process-of-database-design" aria-hidden="true">#</a> 5.1 Process of Database Design</h3><blockquote><ol><li>Demand analysis</li><li>...</li></ol></blockquote><h4 id="demand-analysis" tabindex="-1"><a class="header-anchor" href="#demand-analysis" aria-hidden="true">#</a> <em>Demand Analysisï¼š</em></h4><ul><li><p><u>Goals:</u> comprehend <strong>data</strong> demand and data <strong>process</strong> demand</p></li><li><p><u>Submissions:</u> demand analysis report</p><ul><li>â€œsourceâ€ list</li><li>â€œattrâ€ list</li><li>attr define list</li></ul></li><li><p><u>Steps:</u></p></li></ul><hr><h4 id="conceptual-database-design" tabindex="-1"><a class="header-anchor" href="#conceptual-database-design" aria-hidden="true">#</a> <em>Conceptual Database Design:</em></h4><ul><li><p><u>Goals:</u> <strong>abstract</strong> source info, discover nature <strong>relationship</strong></p></li><li><p><u>Submissions:</u> conceptual database design report</p><ul><li><p>conceptual model E-R / IDEF1x</p><ul><li>entity level, key level, complete</li></ul></li><li><p>â€œentityâ€ list</p></li><li><p>â€œentityâ€ define list</p></li><li><p>â€œentity-relationshipâ€ matrix</p></li><li><p>â€œentity-attrâ€ matrix</p></li></ul></li><li><p><u>Steps:</u></p><ul><li>Local and global thought: entity relationship attr</li><li>Conflicts: attr structure name</li></ul></li></ul><hr><h4 id="logical-database-design" tabindex="-1"><a class="header-anchor" href="#logical-database-design" aria-hidden="true">#</a> <em>Logical Database Design:</em></h4><ul><li><p><u>Goals:</u> describe conceptual database with logical <strong>scheme</strong></p></li><li><p><u>Submissions:</u> logical database design report</p><ul><li>scheme</li><li>external and global mode</li></ul></li><li><p><u>Transform:</u></p><ul><li>E-R <ul><li>Composite &amp; Multi-valued attribute</li><li>Identifier-dependent entity</li><li>1:m relationship: multiple add fk for the other entity and ak for <strong>relationshipâ€™s attr</strong></li><li>m:n relationship</li><li>Categorization relationship <ul><li>Full generalization: no high-level entity, inherit all attributes</li><li>Partial generalization: must be high-level entity</li></ul></li><li>Multiple relationship: middle table <ul><li>Type1: not allow partial participation, inherit keys</li><li>Type2: allow partial participation, add a new key</li><li>Multiple binary relationships</li></ul></li></ul></li><li>IDEF1x</li></ul></li><li><p><u>Steps:</u></p><ul><li>Problems</li></ul></li></ul><hr><h4 id="physical-database-design" tabindex="-1"><a class="header-anchor" href="#physical-database-design" aria-hidden="true">#</a> <em>Physical Database Design:</em></h4><ul><li><p><u>Goals:</u> combining DBMS, describe conceptual database with physical patterns</p></li><li><p><u>Submissions:</u> physical database design report</p><ul><li>DBMS type</li><li>index</li><li>view</li><li>security</li></ul></li><li><p><u>Steps:</u></p></li></ul><h3 id="_5-2-database-design-theories" tabindex="-1"><a class="header-anchor" href="#_5-2-database-design-theories" aria-hidden="true">#</a> 5.2 Database Design Theories</h3><blockquote><ul><li>Data dependency theory <ul><li>Functional dependency</li><li>Multi-value dependency</li><li>Join dependency</li></ul></li><li>Relation normal from theory <ul><li>1NF 2NF 3NF BCNF <code>&lt;=&gt;</code> Functional dependency</li><li>4NF <code>&lt;=&gt;</code> Multi-value dependency</li><li>5NF <code>&lt;=&gt;</code> Join dependency</li></ul></li><li>Schema decomposition theory <ul><li>Lossless join</li><li>Preserve dependency</li></ul></li></ul><p>According to <em><strong>Data Dependence</strong></em>, judge the <em><strong>Relation Normal Form</strong></em>, then apply the <em><strong>Schema Decomposition</strong></em> if necessary</p></blockquote><h4 id="functional-dependency-theory" tabindex="-1"><a class="header-anchor" href="#functional-dependency-theory" aria-hidden="true">#</a> <em>Functional Dependency Theory:</em></h4><ul><li><u>Concepts:</u><ul><li>Functional dependency</li><li>Full &amp; Partial functional dependency</li><li>Transitive functional dependency <ul><li>Four conditions</li></ul></li><li>Candidate / Alternative key <ul><li>Primary key</li><li>Prime &amp; Non-prime attribute</li><li>Super key</li></ul></li></ul></li><li><u>Deduction:</u><ul><li>Logical implication &amp; Closure</li><li>Armstrong axiom A1 ~ A3 &amp; Lemma 1 <ul><li>valid &amp; complete</li></ul></li><li>Lemma 2 &amp; Lemma 3</li><li>Attribute (set) closure &amp; Lemma 4 <ul><li>Calculate attribute closure: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>X</mi><mrow><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow></msup></mrow><annotation encoding="application/x-tex">X^{(i)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.888em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.888em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">i</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span></span></span></span></li></ul></li></ul></li><li><u>Equivalence:</u><ul><li>Cover &amp; Lemma 5</li><li>Minimal cover &amp; Lemma 6 <ol><li>split right part</li><li>if no <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mo>â†’</mo><mi>A</mi></mrow><annotation encoding="application/x-tex">X\rarr A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â†’</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span>, can <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span> still deduces <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span> by other functional dependencies? namely does <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span> include in <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>X</mi><mrow><mi>F</mi><mo>âˆ’</mo><mo stretchy="false">{</mo><mi>X</mi><mo>âˆ’</mo><mi>A</mi><mo stretchy="false">}</mo></mrow><mo>+</mo></msubsup></mrow><annotation encoding="application/x-tex">X^+_{F-\{X-A\}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.3267em;vertical-align:-0.5152em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8115em;"><span style="top:-2.3598em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">F</span><span class="mbin mtight">âˆ’</span><span class="mopen mtight">{</span><span class="mord mathnormal mtight" style="margin-right:0.07847em;">X</span><span class="mbin mtight">âˆ’</span><span class="mord mathnormal mtight">A</span><span class="mclose mtight">}</span></span></span></span><span style="top:-3.1031em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">+</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.5152em;"><span></span></span></span></span></span></span></span></span></span></li><li>if one attr in the left part is deleted, can left attrs deduce the deleted attr</li></ol></li></ul></li></ul><hr><h4 id="relation-normal-form-theory" tabindex="-1"><a class="header-anchor" href="#relation-normal-form-theory" aria-hidden="true">#</a> <em>Relation Normal Form Theory:</em></h4><ul><li><u>1NF:</u><ul><li>Definition:</li><li>Handle:</li></ul></li><li><u>2NF:</u><ul><li>Definition: Based on 1NF, <strong>non-prime</strong> attribute <strong>partial</strong> functional dependency</li><li>Redundancy:</li></ul></li><li><u>3NF:</u><ul><li>Definition: Based on 2NF, <strong>non-prime</strong> attribute <strong>transitive</strong> functional dependency</li><li>Redundancy:</li></ul></li><li><u>BCNF:</u><ul><li>Definition: Based on 1NF, left part of all <strong>non-trivial functional</strong> dependency is <strong>super key</strong></li><li>Relationship with 3NF</li></ul></li><li><u>Multi-value dependency &amp; 4NF:</u><ul><li>Multi-value dependency overview: <ul><li>same X, exchanged Y</li><li>Armstrong axiom A4 ~ A6 <ul><li>Complementation</li><li>Augmentation</li><li>Transitivity</li></ul></li><li>Armstrong axiom A7 ~ A8: <ul><li>functional dependency</li><li>partially deduced</li></ul></li><li>Lemma 7 <ul><li>Union</li><li>Pseudo transitivity</li><li>Mixed pseudo tra</li><li>Decomposition</li></ul></li></ul></li><li>4NF Definition: Based on 1NF, left part of all <strong>non-trivial multi-valued</strong> dependency is <strong>super key</strong><ul><li>Including functional dependency</li></ul></li><li>Relationship with BCNF</li><li>W4NF Definition: one of complementing multi-value dependency is functional dependency</li></ul></li><li><u>Join dependency &amp; 5NF:</u><ul><li>Join dependency: n degree lossless join decomposition</li><li>5NF: every join dependency is joined by candidate key</li></ul></li></ul><hr><h4 id="schema-decomposition-theory" tabindex="-1"><a class="header-anchor" href="#schema-decomposition-theory" aria-hidden="true">#</a> <em>Schema Decomposition Theory:</em></h4><ul><li><u>Basic concepts:</u><ul><li>Schema decomposition</li><li>Data <strong>content equivalence</strong> &amp; Lemma 1</li><li>Data <strong>dependency</strong> equivalence</li></ul></li><li><u>Lossless join decomposition:</u><ul><li>Definition:</li><li>Testing algorithm:</li><li>A simple version:</li><li>Properties:</li></ul></li><li><u>Preserving dependency decomposition:</u><ul><li>Definition:</li><li>Testing algorithm:</li></ul></li><li><u>Schema decomposition strategies:</u><ul><li>Decompose schema into <strong>BCNF</strong> with <strong>lossless join</strong>: throw delete</li><li>Decompose schema into <strong>3NF</strong> with <strong>preserving dependency</strong>: throw split combine</li><li>Decompose schema into <strong>3NF</strong> with both <strong>lossless join</strong> and <strong>preserving dependency</strong>:</li><li>Decompose schema into <strong>4NF</strong> with <strong>lossless join</strong>: throw delete</li></ul></li></ul><blockquote><p>Split the difference between redundancy and speed</p></blockquote><h2 id="_6-physical-storage-index" tabindex="-1"><a class="header-anchor" href="#_6-physical-storage-index" aria-hidden="true">#</a> 6 Physical Storage &amp; Index</h2><h3 id="_6-1-storage-architecture" tabindex="-1"><a class="header-anchor" href="#_6-1-storage-architecture" aria-hidden="true">#</a> 6.1 Storage Architecture</h3><div class="hint-container info"><p class="hint-container-title">Storage architecture</p><ul><li><a href="#Overview">Overview</a></li><li>[Data Storage &amp; Query Implementation Framework](#Data Storage &amp; Query Implementation Framework)</li><li>[Map From Tables to Blocks](#Map From Tables to Blocks)</li><li>[File Organization](#File Organization)</li></ul></div><hr><h4 id="overview-3" tabindex="-1"><a class="header-anchor" href="#overview-3" aria-hidden="true">#</a> <em>Overview:</em></h4><ul><li>Concept:</li><li>Problems to be solved: <ul><li>Storage</li><li>Retrieve</li></ul></li></ul><hr><h4 id="data-storage-query-implementation-framework" tabindex="-1"><a class="header-anchor" href="#data-storage-query-implementation-framework" aria-hidden="true">#</a> <em>Data Storage &amp; Query Implementation Framework:</em></h4><blockquote><p>For levels, from bottom to top</p></blockquote><ul><li><p><u><strong>Storage</strong> manager:</u></p><ul><li>Management object: <strong>database</strong><ul><li>disk</li></ul></li><li>Management task: disk r/w</li></ul></li><li><p><u><strong>Buffer</strong> manager:</u></p><ul><li>Management object: database <strong>buffer</strong><ul><li>memory page</li></ul></li><li>Management task: memory allocation</li><li>Relationship with the lower level: exchange memory page with disk block</li></ul></li><li><p><u>Index, <strong>file</strong> and record manager:</u></p><ul><li><p>Management object: DB logic data</p><ul><li><p>Data (table : record : field)</p></li><li><p>Data format (scheme)</p></li><li><p>Data control information</p></li></ul></li><li><p>Management task: map form logic table to physical memory</p></li><li><p>Relationship with the lower level: page command</p></li></ul></li><li><p><u>SQL <strong>complier</strong> and execution <strong>engine</strong>:</u></p><ul><li>Management object: SQL command <ul><li>DML</li><li>DDL</li><li>DCL</li></ul></li><li>Management task: <ul><li>DML compile commands into <strong>basic relation operation implementation algorithms</strong>, and DML engine executes them</li><li>DDL ...</li><li>DCL ...</li></ul></li><li>Relationship with the lower level: <ul><li><strong>DML</strong> require index, file and record, corresponding to <strong>table : record : field</strong></li><li><strong>DDL</strong> correspond to <strong>scheme</strong></li><li><strong>DCL</strong> correspond to <strong>data control information</strong></li></ul></li></ul></li></ul><hr><h4 id="map-from-tables-to-blocks" tabindex="-1"><a class="header-anchor" href="#map-from-tables-to-blocks" aria-hidden="true">#</a> <em>Map From Tables to Blocks:</em></h4><ul><li><p><u>Concept mapping:</u></p></li><li><p><u>Record mapping:</u></p><ul><li>Fixed-length or not</li><li>Cross block or not</li></ul></li><li><p><u>Table mapping:</u></p><ul><li>Continuous or linked or clustered or indexed</li></ul></li></ul><hr><h4 id="file-organization" tabindex="-1"><a class="header-anchor" href="#file-organization" aria-hidden="true">#</a> <em>File Organization:</em></h4><ul><li><u>Concepts:</u><ul><li>File organization:</li><li>Access method:</li></ul></li><li><u>Heap file:</u><ul><li>Features:</li><li>Update: <ul><li>tail</li><li>delete tag</li></ul></li><li>Reorganization:</li></ul></li><li><u>Sequential file:</u><ul><li>Features: ordering field ordering key</li><li>Update: <ul><li>move</li><li>overflow</li></ul></li><li>Reorganization:</li></ul></li><li><u>Hash file:</u><ul><li>Features: hash field hash key</li><li>Query:</li><li>Update: overflow</li><li>Reorganization:</li></ul></li><li><u>Cluster file:</u><ul><li>Cluster:</li><li>Multi-table cluster:</li></ul></li></ul><h3 id="_6-2-index-overview" tabindex="-1"><a class="header-anchor" href="#_6-2-index-overview" aria-hidden="true">#</a> 6.2 Index Overview</h3><h4 id="concept-features" tabindex="-1"><a class="header-anchor" href="#concept-features" aria-hidden="true">#</a> <em>Concept &amp; Features:</em></h4><ul><li><p><u>Concept:</u></p><ul><li><p>Index file: Secondary storage structure, not changing the structure of prime file</p><blockquote><p>Prime file: table, whose physical structure is usually defined by the prime index</p></blockquote></li><li><p>Index key</p><blockquote><ul><li>Order key:</li><li>Search key:</li></ul></blockquote></li></ul></li><li><p><u>Constitution:</u></p><ul><li><p>Entry: Index-field pointer</p></li><li><p>Organization:</p><ul><li>Ordered indices</li><li>Hash indices</li></ul><blockquote><p>The correspondence is that <strong>the prime file</strong> also has its organization like heap file, sequential file, hash file, ...</p></blockquote></li></ul></li><li><p><u>Features:</u></p><ul><li>Much little</li><li>Synchronized with table when updating</li><li>Performance <ul><li>Access time</li><li>Insert time</li><li>Delete time</li><li>Space load</li><li>Type</li><li>Validity</li></ul></li></ul></li></ul><h4 id="index-in-sql" tabindex="-1"><a class="header-anchor" href="#index-in-sql" aria-hidden="true">#</a> <em>Index in SQL:</em></h4><ul><li><p><u>Create:</u></p><ul><li><p>Auto-create: DBMS prime index in prime key</p></li><li><p>SQL create:</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">Create</span> <span class="token punctuation">[</span><span class="token keyword">Unique</span><span class="token punctuation">]</span> <span class="token keyword">Index</span> indexName
	<span class="token keyword">On</span> tableName<span class="token punctuation">(</span>colName <span class="token punctuation">[</span><span class="token keyword">Asc</span><span class="token operator">|</span><span class="token keyword">Desc</span><span class="token punctuation">]</span>
                <span class="token punctuation">[</span><span class="token punctuation">,</span> colName <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>unique</code></li></ul></li></ul></li><li><p><u>Maintain &amp; Update:</u></p><ul><li>Auto-maintain: DBMS do when updating table</li></ul></li><li><p><u>Drop:</u></p><ul><li><p>Auto-drop: DBMS do when deleting table</p></li><li><p>SQL drop:</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">Drop</span> <span class="token keyword">Index</span> indexName
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ul></li></ul><h3 id="_6-3-ordered-index" tabindex="-1"><a class="header-anchor" href="#_6-3-ordered-index" aria-hidden="true">#</a> 6.3 Ordered Index</h3><h4 id="dense-sparse-index" tabindex="-1"><a class="header-anchor" href="#dense-sparse-index" aria-hidden="true">#</a> <em>Dense &amp; Sparse Index:</em></h4><ul><li><u>Concepts:</u><ul><li>Sparse: Indices correspond to partial records</li><li>Dense: Indices correspond to all records</li></ul></li><li><u>Storage &amp; Retrieve:</u><ul><li>Sparse: must sorted <ul><li>Prime index: point to each block</li></ul></li><li>Dense: <ul><li>On candidate key: one-to-one</li><li>On non-candidate key <ul><li>Non-duplicate index field <ul><li>Sort</li><li>Pointer buckets: point to a bucket, and the bucket point to some records</li></ul></li><li>Duplicate index field: one-to-one</li></ul></li></ul></li></ul></li><li><u>Evaluation:</u><ul><li>Sparse: little and light, but slow</li><li>Dense:</li></ul></li></ul><hr><h4 id="prime-secondary-index" tabindex="-1"><a class="header-anchor" href="#prime-secondary-index" aria-hidden="true">#</a> <em>Prime &amp; Secondary Index:</em></h4><ul><li><u>Concepts:</u><ul><li>Prime</li><li>Secondary</li></ul></li><li><u>Storage &amp; Retrieve:</u><ul><li>Prime: sorted <strong>primary</strong> key</li><li>Secondary: <strong>unsorted</strong> non-prime attribute <ul><li>Pointer bucket</li></ul></li></ul></li><li><u>Evaluation:</u><ul><li>Prime: <ul><li>Only one, primary or sorted key</li><li>Sparse</li><li>Reorganize</li></ul></li><li>Secondary: <ul><li>Multiple, other keys</li><li>Dense</li></ul></li></ul></li></ul><hr><h4 id="clustered-non-clustered-index" tabindex="-1"><a class="header-anchor" href="#clustered-non-clustered-index" aria-hidden="true">#</a> <em>Clustered &amp; Non-clustered Index:</em></h4><ul><li><u>Concepts:</u><ul><li>Clustered</li><li>Non-clustered</li></ul></li><li><u>Storage &amp; Retrieve:</u><ul><li>Clustered: <ul><li>Sort</li></ul></li><li>Non-clustered</li></ul></li><li><u>Evaluation:</u><ul><li>Clustered: <ul><li>Prime</li></ul></li><li>Non-clustered: <ul><li>Secondary</li></ul></li></ul></li></ul><hr><h4 id="other-patterns" tabindex="-1"><a class="header-anchor" href="#other-patterns" aria-hidden="true">#</a> <em>Other Patterns:</em></h4><ul><li><u>Multi-level Index:</u><ul><li>B &amp; B+ Tree</li></ul></li><li>Invert Index:</li><li>Multi-value index:</li><li>Grid index:</li></ul><h3 id="_6-4-b-tree" tabindex="-1"><a class="header-anchor" href="#_6-4-b-tree" aria-hidden="true">#</a> 6.4 B+ Tree</h3><h4 id="concept-rules" tabindex="-1"><a class="header-anchor" href="#concept-rules" aria-hidden="true">#</a> <em>Concept &amp; Rules:</em></h4><ul><li><p><u>Concept:</u></p></li><li><p><u>Node:</u></p><ul><li><p>Storage appoint:</p><ul><li><p><code>&lt;Ki, Pi&gt;</code> and <code>Pn</code></p><blockquote><p>Notice that <code>Ki</code> is a real value in prime file records</p></blockquote></li><li><p>Range</p></li></ul></li><li><p>Types:</p><ul><li>Root:</li><li>Non-leaf:</li><li>Leaf: point to record or block(prime index)</li></ul></li></ul></li><li><p><u>Balance:</u></p><ul><li>Algorithm</li></ul></li></ul><hr><h4 id="types-of-index-on-b-tree" tabindex="-1"><a class="header-anchor" href="#types-of-index-on-b-tree" aria-hidden="true">#</a> <em>Types of Index on B+ Tree:</em></h4><ul><li><u>On <strong>prime</strong> key:</u><ul><li>Dense index:</li><li>Prime index:</li></ul></li><li><u>On <strong>non-candidate</strong> key (Dense):</u><ul><li>Non-duplicate index field: sort</li><li>Duplicate index field: unsort</li></ul></li></ul><hr><h4 id="b-tree" tabindex="-1"><a class="header-anchor" href="#b-tree" aria-hidden="true">#</a> <em>B Tree:</em></h4><blockquote><p>Differences between B tree and B+ tree about nodes</p></blockquote><ul><li><u>Index filed:</u> only once in B tree</li><li><u>Pointer:</u> both leaf and non-leaf nodes have pointers to prime file</li></ul><hr><h4 id="insert-division" tabindex="-1"><a class="header-anchor" href="#insert-division" aria-hidden="true">#</a> <em>Insert &amp; Division:</em></h4><ul><li><u>Steps:</u><ol><li>...</li><li>...</li></ol></li><li><u>Key points:</u><ul><li>When to devide: <ul><li>Index field</li><li>Pointer</li></ul></li><li>How to adjust pointers <ul><li>After dividing for more fields</li><li>After dividing for more pointers</li></ul></li><li>Effect to B+ tree: <ul><li>Balance</li><li>Pointer utilization</li></ul></li></ul></li></ul><h4 id="delete-combination" tabindex="-1"><a class="header-anchor" href="#delete-combination" aria-hidden="true">#</a> <em>Delete &amp; Combination:</em></h4><ul><li><u>Steps:</u><ol><li>...</li><li>...</li></ol></li><li><u>Key points:</u><ul><li>When to borrow: pointer utilization</li><li>When to combine: can not borrow anymore</li><li>How to adjust pointers:</li><li>Effect to B+ tree: <ul><li>Balance</li><li>Pointer utilization</li></ul></li></ul></li></ul><h3 id="_6-5-hash-index" tabindex="-1"><a class="header-anchor" href="#_6-5-hash-index" aria-hidden="true">#</a> 6.5 Hash Index</h3><h4 id="simple-hash-index" tabindex="-1"><a class="header-anchor" href="#simple-hash-index" aria-hidden="true">#</a> <em>Simple Hash Index:</em></h4><ul><li><u>Concept:</u></li><li><u>Entry:</u> to be hashed into <strong>index blocks</strong></li><li><u>Operations:</u><ul><li>Insert:</li><li>Delete:</li></ul></li><li><u>Problems:</u><ul><li>Static: overflow</li><li>Dynamic: balance</li></ul></li></ul><hr><h4 id="extensible-hash-index" tabindex="-1"><a class="header-anchor" href="#extensible-hash-index" aria-hidden="true">#</a> <em>Extensible Hash Index:</em></h4><ul><li><p><u>Thoughts:</u></p><ul><li><p>Indirect layer: point to index blocks. hashed entries pass this level before entering index blocks</p><blockquote><p>The bucket is just like a hash function</p></blockquote></li><li><p>Size of bucket / hash function: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mi>i</mi></msup></mrow><annotation encoding="application/x-tex">2^i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8247em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8247em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span></span></span></span></span></span></span>, from high to low. The used digitsâ€™ amount in a index block is labeled on the block</p></li></ul></li><li><p><u>Insert and extend:</u> i++, rehash,</p><ol><li>insert to full</li><li>the full index block divides, whose pointer also divides, but the other pointers divides into two pointers pointing to the same block</li></ol></li><li><p><u>Problems:</u></p><ul><li>Pointer amount and utilization: exponential</li></ul></li></ul><hr><h4 id="linear-hash-index" tabindex="-1"><a class="header-anchor" href="#linear-hash-index" aria-hidden="true">#</a> <em>Linear Hash Index:</em></h4><ul><li><u>Thoughts:</u><ul><li>Size of bucket / hash function: below a proportion. from low to high <ul><li>Proportion is usually <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mo>&lt;</mo><mo>=</mo><mi>x</mi><mi>n</mi><mo separator="true">,</mo><mtext>Â </mtext><mi>x</mi><mo>&gt;</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">r &lt;= xn, ~ x &gt; 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7335em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">x</span><span class="mord mathnormal">n</span><span class="mpunct">,</span><span class="mspace nobreak">Â </span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span></li></ul></li></ul></li><li><u>Insert and increase:</u><ol><li>insert missing and overflow</li><li>the bucket equal to new bucket number in <strong>lower digits</strong> divides</li></ol></li></ul><h2 id="_7-query-algorithm" tabindex="-1"><a class="header-anchor" href="#_7-query-algorithm" aria-hidden="true">#</a> 7 Query Algorithm</h2><h3 id="_7-1-query-implementation-overview" tabindex="-1"><a class="header-anchor" href="#_7-1-query-implementation-overview" aria-hidden="true">#</a> 7.1 Query Implementation Overview</h3><h4 id="logical-and-physical-implementation" tabindex="-1"><a class="header-anchor" href="#logical-and-physical-implementation" aria-hidden="true">#</a> <em>Logical and Physical Implementation:</em></h4><ul><li><p><u>Basic thoughts of DB query implementation:</u></p></li><li><p><u>Steps of query implementation:</u></p></li><li><p><u>Thoughts about implementation:</u></p><ul><li>Thoughts about logical implementation:</li><li>Thoughts about physical implementation: <ul><li><p>Related parameters:</p><ul><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>B</mi><mi>R</mi></msub></mrow><annotation encoding="application/x-tex">B_R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0502em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></li><li>...</li></ul></li><li><p>Goals</p><ul><li>Decrease <strong>I/O</strong> times by <strong>memory</strong> utilization</li><li>Decrease memory retrieve complexity by constructing <strong>data structure</strong></li></ul></li></ul></li></ul><blockquote><p>Take <code>join</code> for example:</p><ul><li>Full memory:</li><li>Partial memory:</li></ul></blockquote></li></ul><hr><h4 id="three-types-of-operation-two-strategies-of-implementation" tabindex="-1"><a class="header-anchor" href="#three-types-of-operation-two-strategies-of-implementation" aria-hidden="true">#</a> <em>Three Types of Operation &amp; Two Strategies of Implementation:</em></h4><ul><li><p><u>Three <strong>types</strong> of operation in DB:</u></p><ul><li><strong>Unary</strong> operation of <strong>single tuple</strong><ul><li>Selection</li><li>Projection</li></ul></li><li><strong>Unary</strong> operation of the <strong>whole relation</strong><ul><li>Distinct</li><li>Group</li><li>Sorting</li></ul></li><li><strong>Binary</strong> operation of the <strong>whole relation</strong><ul><li>Union, difference, intersection</li><li>Product, join</li></ul></li></ul></li><li><p><u>Two <strong>calculating strategies</strong> of query implementation:</u></p><ul><li><p>Pipeline: Scan DB one time per <strong>groups</strong> of relation operation, the <strong>intermediate result</strong> canâ€™t be stored completely</p><blockquote><p>take <strong>iterator</strong> for example</p></blockquote></li><li><p>Materialization: Scan DB one (or more) time per <strong>single</strong> relation operation, the <strong>intermediate result</strong> can be stored <strong>completely</strong></p><ul><li><p>One-pass scanning: Scan the whole relation <strong>one time</strong>, need to read the whole relation into memory in the worst case</p><ul><li><p>Table space / Index scanning</p><blockquote><p>showed above in <code>join</code> example</p></blockquote></li><li><p>Based on sort</p></li><li><p>Based on hash</p></li><li><p>Based on index</p></li></ul></li><li><p>Two-pass scanning: Scan the whole relation <strong>two times</strong>, just need to read a <strong>group</strong> of the whole relation into memory</p><ul><li>Based on sort</li><li>Based on hash</li><li>Based on index</li></ul></li></ul></li></ul></li></ul><h3 id="_7-2-iterator-algorithm" tabindex="-1"><a class="header-anchor" href="#_7-2-iterator-algorithm" aria-hidden="true">#</a> 7.2 Iterator Algorithm</h3><ul><li><p><u>Concept:</u></p><ul><li>Key methods in Object-oriented <code>Iterator</code>: <ul><li><code>Open()</code></li><li><code>GetNext()</code></li><li><code>Close()</code></li></ul></li></ul></li><li><p><u>Construction:</u></p><ul><li><p>Iterator of <strong>a relation</strong> / Table space scanning:</p><div class="language-pseudocode line-numbers-mode" data-ext="pseudocode"><pre class="language-pseudocode"><code></code></pre><div class="line-numbers" aria-hidden="true"></div></div></li><li><p>Iterator of <strong>unary tuple operation</strong></p><div class="language-c line-numbers-mode" data-ext="c"><pre class="language-c"><code><span class="token comment">// Selection</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-c line-numbers-mode" data-ext="c"><pre class="language-c"><code><span class="token comment">// Projection(Selection(R))</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>Iterator of <strong>binary relation operation</strong>:</p><div class="language-c line-numbers-mode" data-ext="c"><pre class="language-c"><code><span class="token comment">// Union</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-c line-numbers-mode" data-ext="c"><pre class="language-c"><code><span class="token comment">// Join</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ul></li></ul><h3 id="_7-3-one-pass-scanning-algorithm" tabindex="-1"><a class="header-anchor" href="#_7-3-one-pass-scanning-algorithm" aria-hidden="true">#</a> 7.3 One-pass Scanning Algorithm</h3><h4 id="read-a-relation-in-disk" tabindex="-1"><a class="header-anchor" href="#read-a-relation-in-disk" aria-hidden="true">#</a> <em>Read a Relation in Disk:</em></h4><ul><li><u>Cluster relation:</u><ul><li>Read into memory <ul><li>Table space scanning</li><li>Index scanning</li></ul></li><li>Sort when reading into memory <ul><li>Table space scanning (TPMMS)</li><li>Index scanning</li></ul></li></ul></li><li><u>Non-cluster relation:</u><ul><li>Read into memory</li><li>Sort when reading into memory (TPMMS)</li></ul></li></ul><hr><h4 id="one-pass-scanning-based-on-sort-hash" tabindex="-1"><a class="header-anchor" href="#one-pass-scanning-based-on-sort-hash" aria-hidden="true">#</a> <em>One-pass Scanning Based on Sort &amp; Hash:</em></h4><ul><li><p><u>Basic thoughts:</u> <strong>data structure in memory</strong></p></li><li><p><u><strong>Unary</strong> operation of the <strong>whole relation</strong>:</u></p><ul><li>Distinct</li><li>Group</li><li>Complexity:</li></ul></li><li><p><u><strong>Binary</strong> operation of the <strong>whole relation</strong>:</u></p><ul><li><p>Set operation:</p></li><li><p>Join: Speed up memory operation</p></li><li><p>Complexity:</p></li></ul></li></ul><hr><h4 id="one-pass-scanning-based-on-index" tabindex="-1"><a class="header-anchor" href="#one-pass-scanning-based-on-index" aria-hidden="true">#</a> <em>One-pass Scanning Based on Index:</em></h4><ul><li><u>Basic thoughts:</u> only read index block when comparing</li><li><u><strong>Unary</strong> operation of <strong>single tuple</strong> / <strong>Selection</strong> based on index:</u><ul><li>Cluster:</li><li>Non-cluster</li><li>Cost</li></ul></li><li><u><strong>Binary</strong> operation of the <strong>whole relation</strong> / <strong>Join</strong> based on index / <strong>Zigzag</strong>:</u><ul><li>Steps: <ol><li>...</li></ol></li></ul></li></ul><h3 id="_7-4-two-pass-scanning-algorithm" tabindex="-1"><a class="header-anchor" href="#_7-4-two-pass-scanning-algorithm" aria-hidden="true">#</a> 7.4 Two-pass Scanning Algorithm</h3><h4 id="two-pass-scanning-algorithms-based-on-sort" tabindex="-1"><a class="header-anchor" href="#two-pass-scanning-algorithms-based-on-sort" aria-hidden="true">#</a> <em>Two-pass Scanning Algorithms Based on Sort:</em></h4><ul><li><p><u>Basic thoughts:</u></p><p>Divide-and-conquer: Union of subset operation</p><ol><li><p>The first pass / Divide: make <strong>subset itself</strong> having some <strong>feature</strong></p><blockquote><p>Feature: like sort, hash, ...</p></blockquote></li><li><p>The second pass / Conquer: use <strong>feature</strong> to operate <strong>between subsets</strong> in memory</p></li></ol></li><li><p><u>TPMMS(Two-Phase Multiway Merge-Sort):</u></p><ul><li><p>Divide:</p><ul><li>Math relationship: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><msub><mi>B</mi><mrow><mi>p</mi><mi>r</mi><mi>o</mi><mi>b</mi><mi>l</mi><mi>e</mi><mi>m</mi></mrow></msub><mi>N</mi></mfrac><mo>&lt;</mo><msub><mi>B</mi><mrow><mi>m</mi><mi>e</mi><mi>m</mi><mi>o</mi><mi>r</mi><mi>y</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\frac{B_{problem}}N&lt;B_{memory}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.3364em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9914em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.5131em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3488em;margin-left:-0.0502em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="mord mathnormal mtight">ro</span><span class="mord mathnormal mtight">b</span><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight">m</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2901em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0502em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight">m</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">ory</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span></li><li>Concrete operation: <ol><li>Input</li><li>Process: sort subset in memory</li><li>Output</li></ol></li></ul></li><li><p>Conquer:</p><ul><li><p>Math relationship: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mo>&lt;</mo><msub><mi>B</mi><mrow><mi>m</mi><mi>e</mi><mi>m</mi><mi>o</mi><mi>r</mi><mi>y</mi></mrow></msub></mrow><annotation encoding="application/x-tex">N&lt;B_{memory}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7224em;vertical-align:-0.0391em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0502em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight">m</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">ory</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span></p><blockquote><p>Combine formula above we get <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>B</mi><mrow><mi>p</mi><mi>r</mi><mi>o</mi><mi>b</mi><mi>l</mi><mi>e</mi><mi>m</mi></mrow></msub><mo>&lt;</mo><msubsup><mi>B</mi><mrow><mi>m</mi><mi>e</mi><mi>m</mi><mi>o</mi><mi>r</mi><mi>y</mi></mrow><mn>2</mn></msubsup></mrow><annotation encoding="application/x-tex">B_{problem}&lt;B_{memory}^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0502em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="mord mathnormal mtight">ro</span><span class="mord mathnormal mtight">b</span><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight">m</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.1972em;vertical-align:-0.3831em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-2.453em;margin-left:-0.0502em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight">m</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">ory</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3831em;"><span></span></span></span></span></span></span></span></span></span></p><p>If larger: multi-pass</p><ol><li>Divide and sort subset firstly (anyway, we can choose <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> satisfy the first formula)</li><li>Conquer partial subsets with <strong>group amount</strong> satisfying the second formula until ...</li><li>When the whole relation with <strong>group amount</strong> satisfying the second formula, ...</li></ol></blockquote></li><li><p>Concrete operation:</p><ol><li>Input</li><li>Process</li><li>Output</li></ol></li></ul></li><li><p>Complexity</p><ul><li>Divide: input output</li><li>Conquer: input (output)</li></ul></li></ul></li><li><p><u><strong>Unary</strong> operation of the <strong>whole relation</strong>:</u></p><ul><li><p>Divide: the same as TPMMS</p></li><li><p>Conquer:</p><ul><li>Distinct</li><li>Group: sum, max, min, mean, ...</li></ul></li><li><p>Complexity:</p></li></ul></li><li><p><u><strong>Binary</strong> operation of the <strong>whole relation</strong>:</u></p><ul><li><p>Divide: the same as TPMMS, notice the sorted field of two relations</p></li><li><p>Conquer:</p><ul><li>Set operations:</li><li>Join:</li></ul></li><li><p>Complexity: no explanation in MOOC</p></li></ul></li></ul><hr><h4 id="two-pass-scanning-algorithms-based-on-hash" tabindex="-1"><a class="header-anchor" href="#two-pass-scanning-algorithms-based-on-hash" aria-hidden="true">#</a> <em>Two-pass Scanning Algorithms Based on Hash:</em></h4><ul><li><p>Basic thoughts:</p><p>Hash and rehash:</p><ol><li><p>The first pass: hash into <strong>sub-lists</strong></p></li><li><p>The second pass: rehash each sub-list with <strong>another hash function</strong> into <strong>sub-sub-lists</strong> in memory</p><blockquote><p>Thus the same value must fall into the same sub-sub-list</p><p>The two hash functions together should divide the records into very careful blocks</p></blockquote></li></ol></li><li><p><u><strong>Unary</strong> operation of the <strong>whole relation</strong>:</u></p><ul><li><p>Hash: the same as basic thoughts</p></li><li><p>Rehash:</p><ul><li>Distinct</li><li>Group</li></ul></li><li><p>Complexity</p></li></ul></li><li><p><u><strong>Binary</strong> operation of the <strong>whole relation</strong>:</u></p><ul><li><p>Hash: notice the hash field and the same hash function</p></li><li><p>Rehash:</p><ul><li>Set operations: process <strong>two sub-lists with the same hash result from two relations</strong> in memory, find the same field, and then switch to <strong>another two sub-lists from two relations</strong></li><li>Join: just like set operations</li></ul></li><li><p>Complexity: no explanation in MOOC</p></li></ul></li></ul><h3 id="_7-5-query-optimization" tabindex="-1"><a class="header-anchor" href="#_7-5-query-optimization" aria-hidden="true">#</a> 7.5 Query Optimization</h3><h4 id="query-optimization-overview" tabindex="-1"><a class="header-anchor" href="#query-optimization-overview" aria-hidden="true">#</a> <em>Query Optimization Overview:</em></h4><ul><li><p><u>Necessity:</u></p><ul><li>Efficiency of product operation</li><li>DBMS core technology: development of relation DB</li></ul></li><li><p><u><strong>Semantic</strong> optimization and <strong>content</strong> equivalence:</u></p><ul><li>When to optimize: before compiling</li><li>What to optimize: rewrite to equivalent but more efficient <strong>SQL</strong><ul><li>Tables and attributes</li></ul></li><li>Who do optimize: <ul><li>Programmer</li><li>DBMS auto: keep semantic equality and integrity rules</li></ul></li></ul></li><li><p><u><strong>Syntactic</strong> optimization and <strong>syntax</strong> equivalence:</u></p><ul><li><p>When to optimize: after compiling</p></li><li><p>What to optimize:</p><p>Change sequence of <strong>relation algebra operations</strong> in <strong>logic</strong> level, form logic query plan</p><ul><li>Do <strong>selection and projection</strong> earlier</li></ul></li><li><p>Who do optimize: DBMS auto</p></li></ul></li><li><p><u><strong>Executing</strong> optimization:</u></p><ul><li><p>When to optimize: when <strong>executing</strong> programs</p></li><li><p>What to optimize:</p><p>Choose <strong>routines</strong> for relation algebra operations, form <strong>query plan for engine</strong> to execute</p><ul><li>Estimate cost</li></ul></li><li><p>Who do optimize: DBMS auto</p></li></ul></li><li><p><u>Optimization in query implementation steps:</u></p></li></ul><hr><h4 id="query-optimization-in-logical-level" tabindex="-1"><a class="header-anchor" href="#query-optimization-in-logical-level" aria-hidden="true">#</a> <em>Query Optimization in Logical Level:</em></h4><ul><li><p><u>Train of thoughts:</u></p><ul><li>Syntactic tree: from bottom(tables) to top</li><li>Two key points: <ul><li>Prove equivalence (theorems)</li><li>Adjust sequence (algorithm)</li></ul></li><li>Strategies: <ul><li>Projection and selection: <ul><li>Do <strong>projection</strong> and <strong>selection</strong> <strong>earlier</strong>: make <strong>intermediate results</strong> small</li><li>Concatenate <strong>projection</strong> and <strong>selection</strong>: <strong>pipeline</strong></li><li>Associate <strong>projection</strong> with <strong>binary</strong> operation</li><li>Associate <strong>selection</strong> with <strong>product</strong> before into a join</li></ul></li><li>Preprocess: <ul><li>Index</li><li>Common subexpression</li></ul></li></ul></li></ul></li><li><p><u>Equivalence of relation algebra basic operations exchanging:</u></p><ul><li><p>Definition:</p></li><li><p>Theorems:</p><ul><li>L1: Commutative law between <strong>joins</strong> and between <strong>products</strong></li><li>L2: Associative law between <strong>joins</strong> and between <strong>products</strong></li><li>L3: Concatenation law between <strong>projections</strong><ul><li>Two-way usage</li></ul></li><li>L4: Concatenation law between <strong>selections</strong><ul><li>Two-way usage</li></ul></li><li>L5: Commutative law between <strong>selection and projection</strong></li><li>L6: Commutative law between <strong>selection and product</strong></li><li>L7: Commutative law between <strong>projection and product</strong></li><li>L8: Commutative law between <strong>selection and union</strong></li><li>L9: Commutative law between <strong>selection and difference</strong></li><li>L10: Commutative law between <strong>projection and union</strong></li></ul><blockquote><ul><li>L1 ~ L2: binary operations</li><li>L3 ~ L5: unary operations</li><li>L6 ~ L10: between unary operation and binary operation</li></ul></blockquote></li></ul></li><li><p><u>Algorithm:</u></p><ol start="0"><li><p>Products and joins commutation for associating with selections</p></li><li><p>Selection concatenation and <strong>commutation</strong></p></li><li><p>Projection concatenation and <strong>commutation</strong></p></li><li><p><strong>Concatenate</strong> selections and <strong>concatenate</strong> projections (selection before projection)</p></li><li><p>Group nodes and associate product and selection into <strong>join</strong></p><blockquote><p>I donâ€™t understand what means not to group when <strong>equal join</strong> canâ€™t be formed with product node and descendant node</p></blockquote></li><li><p>Generate program where descendant groups execute first</p></li></ol></li></ul><hr><h4 id="query-optimization-in-physical-level" tabindex="-1"><a class="header-anchor" href="#query-optimization-in-physical-level" aria-hidden="true">#</a> <em>Query Optimization in Physical Level:</em></h4><ul><li><p><u>Train of thoughts:</u></p><ul><li>Steps: <ol><li>DB info</li><li>Choose routines and estimate cost</li><li>Form query plan</li></ol></li><li>Physical query operators / Routines: <ul><li>Get relation from blocks</li><li>Implementation algorithm of relation operation</li></ul></li><li>Measurements: <ul><li>I/O</li><li>CPU time</li><li>Memory cost (buffer)</li><li>Intermediate results</li><li>Calculation amount</li></ul></li><li>DB statistical info: <ul><li><code>T(R)</code></li><li><code>B(R)</code></li><li><code>I(R)</code></li><li><code>f(R)</code></li><li><code>V(A, R)</code></li><li><code>SC(A, R)</code></li><li><code>b</code></li></ul></li><li>Get info: DBA</li></ul></li><li><p><u>Cost estimate:</u></p><ul><li><p>Goal: <code>E</code> is a relation operation expression. Given relationsâ€™ statistical info (like <code>T(R) B(R) V(A, R)</code>) related to <code>E</code>, estimate statistical info of <code>E</code></p></li><li><p>Common estimate:</p><ul><li><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Ï€</mi><mi>L</mi></msub><mo stretchy="false">(</mo><mi>R</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\pi_L(R)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">Ï€</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">L</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mclose">)</span></span></span></span></p><ul><li><code>T = T(R)</code></li><li><code>B</code> needs to be calculated concretely</li></ul></li><li><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Ïƒ</mi><mrow><mi>A</mi><mo>=</mo><mi>c</mi></mrow></msub><mo stretchy="false">(</mo><mi>R</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\sigma_{A=c}(R)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">A</span><span class="mrel mtight">=</span><span class="mord mathnormal mtight">c</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mclose">)</span></span></span></span></p><ul><li><p><code>T</code> range: <code>T(R) - (V(R, A) - 1)</code></p></li><li><p><code>T</code> estimate: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mo>=</mo><mfrac><mrow><mi>T</mi><mo stretchy="false">(</mo><mi>R</mi><mo stretchy="false">)</mo></mrow><mrow><mi>V</mi><mo stretchy="false">(</mo><mi>R</mi><mo separator="true">,</mo><mi>A</mi><mo stretchy="false">)</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">T=\frac{T(R)}{V(R,A)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.53em;vertical-align:-0.52em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.22222em;">V</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">A</span><span class="mclose mtight">)</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.52em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></p><blockquote><p>Let <code>V(R, A) = 10</code> when not knowing <code>V(R, A)</code> ahead</p></blockquote></li></ul></li><li><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Ïƒ</mi><mrow><mi>A</mi><mo>&lt;</mo><mi>c</mi></mrow></msub><mo stretchy="false">(</mo><mi>R</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\sigma_{A&lt;c}(R)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">A</span><span class="mrel mtight">&lt;</span><span class="mord mathnormal mtight">c</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1774em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mclose">)</span></span></span></span></p><ul><li><code>T</code> range:</li><li><code>T</code> estimate: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mo>=</mo><mfrac><mrow><mi>T</mi><mo stretchy="false">(</mo><mi>R</mi><mo stretchy="false">)</mo></mrow><mn>3</mn></mfrac></mrow><annotation encoding="application/x-tex">T=\frac{T(R)}3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.355em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></li></ul></li><li><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Ïƒ</mi><mrow><msub><mi>C</mi><mn>1</mn></msub><mtext>Â </mtext><mi>a</mi><mi>n</mi><mi>d</mi><mtext>Â </mtext><msub><mi>C</mi><mn>2</mn></msub></mrow></msub><mo stretchy="false">(</mo><mi>R</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\sigma_{C_1~and~C_2}(R)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0001em;vertical-align:-0.2501em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:-0.0715em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mspace nobreak mtight"><span class="mtight">Â </span></span><span class="mord mathnormal mtight">an</span><span class="mord mathnormal mtight">d</span><span class="mspace nobreak mtight"><span class="mtight">Â </span></span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:-0.0715em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2501em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mclose">)</span></span></span></span>: Just multiply</p></li><li><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Ïƒ</mi><mrow><msub><mi>C</mi><mn>1</mn></msub><mtext>Â </mtext><mi>o</mi><mi>r</mi><mtext>Â </mtext><msub><mi>C</mi><mn>2</mn></msub></mrow></msub><mo stretchy="false">(</mo><mi>R</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\sigma_{C_1~or~C_2}(R)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0001em;vertical-align:-0.2501em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:-0.0715em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mspace nobreak mtight"><span class="mtight">Â </span></span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">or</span><span class="mspace nobreak mtight"><span class="mtight">Â </span></span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:-0.0715em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2501em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mclose">)</span></span></span></span></p><ul><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mo>=</mo><mi>n</mi><mo stretchy="false">(</mo><mn>1</mn><mo>âˆ’</mo><mo stretchy="false">(</mo><mn>1</mn><mo>âˆ’</mo><mfrac><msub><mi>m</mi><mn>1</mn></msub><mi>n</mi></mfrac><mo stretchy="false">)</mo><mo stretchy="false">(</mo><mn>1</mn><mo>âˆ’</mo><mfrac><msub><mi>m</mi><mn>2</mn></msub><mi>n</mi></mfrac><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">T=n(1-(1-\frac{m_1}n)(1-\frac{m_2}n))</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">n</span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.095em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7115em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.4101em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.095em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7115em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.4101em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">))</span></span></span></span></li></ul></li><li><p><code>R(X, Y) Natural Join S(Y, Z)</code></p><ul><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mo>=</mo><mfrac><mrow><mi>T</mi><mo stretchy="false">(</mo><mi>R</mi><mo stretchy="false">)</mo><mi>T</mi><mo stretchy="false">(</mo><mi>S</mi><mo stretchy="false">)</mo></mrow><mrow><mi>m</mi><mi>a</mi><mi>x</mi><mo stretchy="false">(</mo><mi>V</mi><mo stretchy="false">(</mo><mi>R</mi><mo separator="true">,</mo><mi>Y</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>V</mi><mo stretchy="false">(</mo><mi>S</mi><mo separator="true">,</mo><mi>Y</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">T=\frac{T(R)T(S)}{max(V(R,Y),V(S,Y))}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.53em;vertical-align:-0.52em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">ma</span><span class="mord mathnormal mtight">x</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.22222em;">V</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight" style="margin-right:0.22222em;">Y</span><span class="mclose mtight">)</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight" style="margin-right:0.22222em;">V</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.05764em;">S</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight" style="margin-right:0.22222em;">Y</span><span class="mclose mtight">))</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span><span class="mclose mtight">)</span><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.05764em;">S</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.52em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span><ul><li>Supposed that successful joined records are <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>1</mn><mrow><mi>m</mi><mi>a</mi><mi>x</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">\frac1{max}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1901em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">ma</span><span class="mord mathnormal mtight">x</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></li></ul></li></ul></li></ul></li></ul></li></ul><h2 id="_8-transaction-processing" tabindex="-1"><a class="header-anchor" href="#_8-transaction-processing" aria-hidden="true">#</a> 8 Transaction Processing</h2><h3 id="_8-1-concurrency-control" tabindex="-1"><a class="header-anchor" href="#_8-1-concurrency-control" aria-hidden="true">#</a> 8.1 Concurrency Control</h3><h4 id="_8-1-1-conceptual-framework-of-concurrency-control" tabindex="-1"><a class="header-anchor" href="#_8-1-1-conceptual-framework-of-concurrency-control" aria-hidden="true">#</a> <em>8.1.1 Conceptual Framework of Concurrency Control:</em></h4><ul><li><p><u>Inconsistency:</u></p><ul><li>Cause: <ul><li>DB sharing</li><li>Multi-process</li></ul></li><li>Types: <ul><li>Lost update:</li><li>Dirty read</li><li>Unrepeatable read</li><li>Phantom read</li></ul></li><li>Solutions / <strong>Concurrency control methods</strong>: <ul><li>Based on lock</li><li>Based on withdrawal (timestamp and validation)</li></ul></li><li>Goals: consistency and concurrency</li></ul></li><li><p><u>Transaction:</u></p><ul><li><p>Concept:</p><ul><li>From macro / programmer: SQLs</li><li>From micro / DBMS: basic operations <ul><li>Concurrently execute</li></ul></li></ul></li><li><p>Features / ACID:</p><ul><li>Atomicity: either no or all</li><li>Consistency:</li><li>Isolation: between transactions</li><li>Durability</li></ul><blockquote><p>Concurrency control: ACI</p><p>Failure recovery: AD</p></blockquote></li></ul></li><li><p><u>DBMS concurrency control:</u></p><ul><li>What to do: micro executing sequence =&gt; macro ACI</li><li>How to do: <ul><li>Manager: Generate transactions (including their timestamp) and manage their operations</li><li>Scheduler: Generate r/w operation sequence and keep consistency</li><li>Logging</li><li>Locks</li></ul></li></ul></li></ul><hr><h4 id="transaction-schedule-serializability" tabindex="-1"><a class="header-anchor" href="#transaction-schedule-serializability" aria-hidden="true">#</a> <em>Transaction Schedule &amp; Serializability:</em></h4><ul><li><p><u>Basic concepts:</u></p><ul><li><p><strong>Transaction schedule</strong>: a group of transaction</p><ul><li><strong>Serial</strong> schedule:</li><li><strong>Concurrent</strong> schedule:</li></ul></li><li><p><strong>Correctness</strong> of concurrent scheduling: result equivalent to some **serial schedule **in form</p><blockquote><p>Two core problems:</p><ul><li>Judge</li><li>Generate</li></ul></blockquote></li><li><p><strong>Serializability</strong> of concurrent scheduling: process, more strict, equivalent to some <strong>serial schedule</strong></p></li></ul></li><li><p><u>Conflict serialization model:</u></p><ul><li>Basic model:</li><li>Conflict: <ul><li>same transaction</li><li>ww</li><li>rw</li></ul></li><li>Conflict serializability: <ul><li>More strict than serializability</li></ul></li><li>Conflict serializability discriminant algorithm</li></ul></li></ul><hr><h4 id="concurrency-control-based-on-lock-protocol" tabindex="-1"><a class="header-anchor" href="#concurrency-control-based-on-lock-protocol" aria-hidden="true">#</a> <em>Concurrency Control Based on Lock &amp; Protocol:</em></h4><ul><li><p><u>Lock:</u></p><ul><li>Concept:</li><li>Effect: <ul><li>Scheduler</li><li>Protocol</li></ul></li></ul></li><li><p><u>Lock protocol concept:</u></p><ul><li>Concept:</li><li>Locking granularity: a data element</li><li>Types: <ul><li>E<strong>x</strong>clusive locks: write lock <code>Xlock</code></li><li><strong>S</strong>hared locks: read lock <code>Slock</code></li><li><strong>U</strong>pdate locks</li><li><strong>I</strong>ncremental locks</li></ul></li><li>Compatibility matrix:</li></ul></li><li><p><u>Isolation levels / Basic lock protocol:</u></p><ul><li>Read uncommitted / 0 level protocol: <ul><li>Description:</li><li>Consistency: prevent lost update, allow dirty read, unrepeatable read and phantom read</li></ul></li><li>Read committed / 1 level protocol:</li><li>Repeatable read/ 2 level protocol:</li><li>Serializable / 3 level protocol:</li></ul><blockquote><p>Protocols are about how to lock and unlock:</p><ul><li>The protocol points to <strong>the same data element</strong> <code>A</code>, explain how to <code>Xlock(A) Xunlock(A)</code>and <code>Slock(A) Sunlock(A)</code></li><li>... ??? I have some puzzle here</li></ul></blockquote></li><li><p><u>Two-Phase Locking protocol (2PL):</u></p><ul><li>Definition:</li><li>Conflict serializability:</li><li>Deadlock:</li></ul></li></ul><hr><h4 id="concurrency-control-based-on-withdrawal" tabindex="-1"><a class="header-anchor" href="#concurrency-control-based-on-withdrawal" aria-hidden="true">#</a> <em>Concurrency Control Based on Withdrawal:</em></h4><ul><li><p><u>Transaction timestamp:</u></p><ul><li>Concept:</li><li>Function:</li></ul></li><li><p><u>Timestamp basic rule:</u> Transaction executing earlier should R/W earlier</p><ul><li><p>Rules: RT WT TS</p><ul><li>...</li></ul><blockquote><p>If the transaction related to an RT or WT has been rollbacked, the RT or WT should be reset to 0</p></blockquote></li><li><p>Problems to be solved:</p><ul><li>Thomas write</li><li>Dirty read</li></ul></li></ul></li><li><p><u>Thomas rule and its improvement:</u></p><ul><li>Thomas write:</li><li>Improvement rules: RT WT C TS postpone <ul><li>r: <ul><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mi>S</mi><mo>â‰¥</mo><mi>W</mi><mi>T</mi></mrow><annotation encoding="application/x-tex">TS\ge WT</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.136em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">TS</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¥</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span></span></span></span>: <ul><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi><mo>=</mo><mi>t</mi><mi>r</mi><mi>u</mi><mi>e</mi></mrow><annotation encoding="application/x-tex">C=true</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6151em;"></span><span class="mord mathnormal">t</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">u</span><span class="mord mathnormal">e</span></span></span></span>: allow</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi><mo>=</mo><mi>f</mi><mi>a</mi><mi>l</mi><mi>s</mi><mi>e</mi></mrow><annotation encoding="application/x-tex">C=false</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">se</span></span></span></span>: postpone until <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi><mo>=</mo><mi>t</mi><mi>r</mi><mi>u</mi><mi>e</mi></mrow><annotation encoding="application/x-tex">C=true</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6151em;"></span><span class="mord mathnormal">t</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">u</span><span class="mord mathnormal">e</span></span></span></span></li></ul></li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mi>S</mi><mo>&lt;</mo><mi>W</mi><mi>T</mi></mrow><annotation encoding="application/x-tex">TS\lt WT</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7224em;vertical-align:-0.0391em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">TS</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span></span></span></span>: rollback</li></ul></li><li>w <ul><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mi>S</mi><mo>â‰¥</mo><mi>R</mi><mi>T</mi><mtext>Â </mtext><mi>a</mi><mi>n</mi><mi>d</mi><mtext>Â </mtext><mi>T</mi><mi>S</mi><mo>â‰¥</mo><mi>W</mi><mi>T</mi></mrow><annotation encoding="application/x-tex">TS\ge RT~and~TS\ge WT</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.136em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">TS</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¥</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8304em;vertical-align:-0.136em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">RT</span><span class="mspace nobreak">Â </span><span class="mord mathnormal">an</span><span class="mord mathnormal">d</span><span class="mspace nobreak">Â </span><span class="mord mathnormal" style="margin-right:0.05764em;">TS</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¥</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span></span></span></span>: allow, let <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi><mo>=</mo><mi>f</mi><mi>a</mi><mi>l</mi><mi>s</mi><mi>e</mi></mrow><annotation encoding="application/x-tex">C=false</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">se</span></span></span></span></li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mi>S</mi><mo>â‰¥</mo><mi>R</mi><mi>T</mi><mtext>Â </mtext><mi>a</mi><mi>n</mi><mi>d</mi><mtext>Â </mtext><mi>T</mi><mi>S</mi><mo>&lt;</mo><mi>W</mi><mi>T</mi></mrow><annotation encoding="application/x-tex">TS\ge RT~and~TS\lt WT</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.136em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">TS</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¥</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7335em;vertical-align:-0.0391em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">RT</span><span class="mspace nobreak">Â </span><span class="mord mathnormal">an</span><span class="mord mathnormal">d</span><span class="mspace nobreak">Â </span><span class="mord mathnormal" style="margin-right:0.05764em;">TS</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span></span></span></span>: <ul><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi><mo>=</mo><mi>t</mi><mi>r</mi><mi>u</mi><mi>e</mi></mrow><annotation encoding="application/x-tex">C=true</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6151em;"></span><span class="mord mathnormal">t</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">u</span><span class="mord mathnormal">e</span></span></span></span>: ignore (Thomas write)</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi><mo>=</mo><mi>f</mi><mi>a</mi><mi>l</mi><mi>s</mi><mi>e</mi></mrow><annotation encoding="application/x-tex">C=false</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">se</span></span></span></span>: postpone until <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi><mo>=</mo><mi>t</mi><mi>r</mi><mi>u</mi><mi>e</mi></mrow><annotation encoding="application/x-tex">C=true</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6151em;"></span><span class="mord mathnormal">t</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">u</span><span class="mord mathnormal">e</span></span></span></span></li></ul></li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mi>S</mi><mo>&lt;</mo><mi>R</mi><mi>T</mi></mrow><annotation encoding="application/x-tex">TS\lt RT</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7224em;vertical-align:-0.0391em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">TS</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">RT</span></span></span></span>: rollback</li></ul></li></ul></li><li>Problems: so frequent</li></ul></li><li><p><u>Concurrency control based on validation:</u></p><ul><li>Transaction elements: TS RS WS</li><li>Three phases &amp; scheduler set: <ul><li>read validation write</li><li>Validation sequence</li><li>START VAL FIN</li></ul></li><li>Validation rules: T <ul><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi><mi>I</mi><mi>N</mi><mo stretchy="false">(</mo><mi>U</mi><mo stretchy="false">)</mo><mo>&gt;</mo><mi>S</mi><mi>T</mi><mi>A</mi><mi>R</mi><mi>T</mi><mo stretchy="false">(</mo><mi>T</mi><mo stretchy="false">)</mo><mtext>Â </mtext><mi>a</mi><mi>n</mi><mi>d</mi><mtext>Â </mtext><mi>R</mi><mi>S</mi><mo stretchy="false">(</mo><mi>T</mi><mo stretchy="false">)</mo><mo>âˆ©</mo><mi>W</mi><mi>S</mi><mo stretchy="false">(</mo><mi>U</mi><mo stretchy="false">)</mo><mo mathvariant="normal">â‰ </mo><mi mathvariant="normal">âˆ…</mi></mrow><annotation encoding="application/x-tex">FIN(U)&gt;START(T)~and~RS(T)\cap WS(U)\ne\empty</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">ST</span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.13889em;">RT</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mclose">)</span><span class="mspace nobreak">Â </span><span class="mord mathnormal">an</span><span class="mord mathnormal">d</span><span class="mspace nobreak">Â </span><span class="mord mathnormal" style="margin-right:0.05764em;">RS</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ©</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mord"><span class="mrel">î€ </span></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8056em;vertical-align:-0.0556em;"></span><span class="mord">âˆ…</span></span></span></span>: rollback T</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi><mi>I</mi><mi>N</mi><mo stretchy="false">(</mo><mi>U</mi><mo stretchy="false">)</mo><mo>&gt;</mo><mi>V</mi><mi>A</mi><mi>L</mi><mo stretchy="false">(</mo><mi>T</mi><mo stretchy="false">)</mo><mtext>Â </mtext><mi>a</mi><mi>n</mi><mi>d</mi><mtext>Â </mtext><mi>W</mi><mi>S</mi><mo stretchy="false">(</mo><mi>T</mi><mo stretchy="false">)</mo><mo>âˆ©</mo><mi>W</mi><mi>S</mi><mo stretchy="false">(</mo><mi>U</mi><mo stretchy="false">)</mo><mo mathvariant="normal">â‰ </mo><mi mathvariant="normal">âˆ…</mi></mrow><annotation encoding="application/x-tex">FIN(U)&gt;VAL(T)~and~WS(T)\cap WS(U)\ne\empty</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mord mathnormal">A</span><span class="mord mathnormal">L</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mclose">)</span><span class="mspace nobreak">Â </span><span class="mord mathnormal">an</span><span class="mord mathnormal">d</span><span class="mspace nobreak">Â </span><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ©</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mord"><span class="mrel">î€ </span></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8056em;vertical-align:-0.0556em;"></span><span class="mord">âˆ…</span></span></span></span>: postpone T</li></ul></li></ul></li></ul><h3 id="_8-2-failure-recovery" tabindex="-1"><a class="header-anchor" href="#_8-2-failure-recovery" aria-hidden="true">#</a> 8.2 Failure Recovery</h3><h4 id="db-failure-recovery-thoughts" tabindex="-1"><a class="header-anchor" href="#db-failure-recovery-thoughts" aria-hidden="true">#</a> <em>DB Failure &amp; Recovery Thoughts:</em></h4><ul><li><p><u>Types of failure:</u></p><ul><li>Transaction failure</li><li>System failure</li><li>Medium failure</li></ul></li><li><p><u>Concept of failure recovery:</u></p><ul><li>AD</li></ul></li><li><p><u>Macro thoughts of recovery:</u></p><ul><li><p>Transaction failure: redo undo single transaction</p></li><li><p>System failure: system log and checkpoint</p><ul><li>checkpoint: DB buffer is consistent with DB disk</li></ul></li><li><p>Medium failure: copy and dump point + log</p></li></ul><blockquote><p>Brief summary:</p></blockquote></li></ul><hr><h4 id="buffer-processing-strategies-log" tabindex="-1"><a class="header-anchor" href="#buffer-processing-strategies-log" aria-hidden="true">#</a> <em>Buffer Processing Strategies &amp; Log:</em></h4><ul><li><p><u>Transaction operations:</u> RW IO</p></li><li><p><u>Buffer processing strategies:</u></p><ul><li>Force: <code>Output</code> in <code>(start, commit]</code></li><li>No steal: <code>Output</code> in <code>[commit, finish)</code></li><li>No force: redo (with no steal)</li><li>Steal: undo (with force)</li></ul><blockquote><p>The <strong>intersection</strong> of <code>[no] force</code> and <code>[no] steal</code> will be taken.</p><p>Notice that the <code>write</code> in concurrency control is memory (buffer) level, here <code>output</code> is disk level. The commit of transaction means the over of memory operation, not the disk.</p></blockquote></li><li><p><u>Log and recovery strategies:</u></p><ul><li>Log info</li><li>Type and recovery strategies:</li></ul></li></ul><hr><h4 id="undo-redo-log-failure-recovery" tabindex="-1"><a class="header-anchor" href="#undo-redo-log-failure-recovery" aria-hidden="true">#</a> <em>Undo &amp; Redo Log Failure Recovery:</em></h4><ul><li><p><u>Undo log and its failure recovery:</u></p><ul><li><p>How to log: <code>&lt;T, X, v&gt;</code>(write) <code>OUTPUT </code> <code>&lt;COMMIT T&gt; &lt;ABORT T&gt;</code></p><ul><li>What does the commit mean? Finish <code>OUTPUT</code></li><li>For uncommitted or aborted, undo</li><li>For committed, do nothing</li></ul><blockquote><p><code>OUTPUT</code> doesnâ€™t appear in the log</p></blockquote></li><li><p>How to set checkpoint:</p><ul><li>static <code>&lt;CKPT&gt;</code></li><li>non-static <code>&lt;START CKPT(T1,...,Tk)&gt; ... &lt;END CKPT&gt;</code></li></ul></li><li><p>How to recover: From back to front, redo abort or not commit, until:</p><ul><li><p><code>&lt;CKPT&gt;</code></p></li><li><p>if <code>&lt;END CKPT&gt;</code> first, undo until first <code>&lt;START CKPT(T1,...,Tk)&gt;</code></p></li><li><p>if <code>&lt;START CKPT(T1,...,Tk)&gt;</code> first, undo until first uncommitted <code>&lt;START Ti&gt;</code></p></li></ul></li><li><p>Problems: low performance (frequent output)</p></li></ul></li><li><p><u>Redo log and its failure recovery:</u></p><ul><li>How to log: <code>&lt;T, X, v&gt;</code>(write) <code>&lt;COMMIT T&gt; &lt;ABORT T&gt;</code> <code>OUTPUT </code><ul><li>What does the commit mean? Begin <code>OUTPUT</code></li><li>For committed, redo</li><li>For uncommitted or aborted, do nothing</li></ul></li><li>How to set checkpoint: the same as undo</li><li>How to recover: <ol><li>From end to front, find the first checkpoint, record the committed transactions at the same time</li><li>From checkpoint to end, redo</li></ol></li><li>Problems: low flexibility (data can only be seen after <code>commit</code>)</li></ul></li><li><p><u>Undo/Redo log and its failure recovery:</u></p><ul><li>How to log:</li><li>How to set checkpoint: the same as undo:</li><li>How to recover: <ol><li>From back to front, find the first checkpoint, record commit</li><li>From back to front, <strong>undo</strong> uncommitted or aborted</li><li>From front to back, <strong>redo</strong> committed</li></ol></li></ul></li></ul></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/SunDocker/SunDocker.github.io/edit/main/docs/notes/Theory/DatabaseSystem.md" rel="noopener noreferrer" target="_blank" aria-label="Edit this page on GitHub" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->Edit this page on GitHub<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item git-info"><div class="update-time"><span class="label">Last update: </span><!----></div><div class="contributors"><span class="label">Contributors: </span><!--[--><!--[--><span class="contributor" title="email: sundocker@qq.com">SunDocker</span><!--]--><!--]--></div></div></footer><nav class="page-nav"><a href="/notes/Theory/DataStructure.html" class="nav-link prev" aria-label="Data Structure &amp; Algorithm"><div class="hint"><span class="arrow start"></span>Prev</div><div class="link"><span class="font-icon icon iconfont icon-emmet" style=""></span>Data Structure &amp; Algorithm</div></a><a href="/notes/Theory/DesignPatterns.html" class="nav-link next" aria-label="Design Patterns"><div class="hint">Next<span class="arrow end"></span></div><div class="link">Design Patterns<span class="font-icon icon iconfont icon-float" style=""></span></div></a></nav><!----><!----><!--]--></main><!--]--><footer class="footer-wrapper"><div class="footer">Default footer</div><div class="copyright">Copyright Â© 2023 Dominic Sun</div></footer></div><!--]--><!----><!----><!--]--></div>
    <script type="module" src="/assets/app-a94a8ef5.js" defer></script>
  </body>
</html>
